(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const g of document.querySelectorAll('link[rel="modulepreload"]'))a(g);new MutationObserver(g=>{for(const v of g)if(v.type==="childList")for(const w of v.addedNodes)w.tagName==="LINK"&&w.rel==="modulepreload"&&a(w)}).observe(document,{childList:!0,subtree:!0});function n(g){const v={};return g.integrity&&(v.integrity=g.integrity),g.referrerPolicy&&(v.referrerPolicy=g.referrerPolicy),g.crossOrigin==="use-credentials"?v.credentials="include":g.crossOrigin==="anonymous"?v.credentials="omit":v.credentials="same-origin",v}function a(g){if(g.ep)return;g.ep=!0;const v=n(g);fetch(g.href,v)}})();function Ti(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function dg(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function a(){return this instanceof a?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(a){var g=Object.getOwnPropertyDescriptor(e,a);Object.defineProperty(n,a,g.get?g:{enumerable:!0,get:function(){return e[a]}})}),n}var uf={exports:{}},Qo={},cf={exports:{}},me={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oi=Symbol.for("react.element"),pg=Symbol.for("react.portal"),gg=Symbol.for("react.fragment"),mg=Symbol.for("react.strict_mode"),vg=Symbol.for("react.profiler"),yg=Symbol.for("react.provider"),Cg=Symbol.for("react.context"),wg=Symbol.for("react.forward_ref"),xg=Symbol.for("react.suspense"),_g=Symbol.for("react.memo"),Sg=Symbol.for("react.lazy"),Ou=Symbol.iterator;function Tg(e){return e===null||typeof e!="object"?null:(e=Ou&&e[Ou]||e["@@iterator"],typeof e=="function"?e:null)}var ff={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hf=Object.assign,df={};function _r(e,t,n){this.props=e,this.context=t,this.refs=df,this.updater=n||ff}_r.prototype.isReactComponent={};_r.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};_r.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function pf(){}pf.prototype=_r.prototype;function ol(e,t,n){this.props=e,this.context=t,this.refs=df,this.updater=n||ff}var sl=ol.prototype=new pf;sl.constructor=ol;hf(sl,_r.prototype);sl.isPureReactComponent=!0;var bu=Array.isArray,gf=Object.prototype.hasOwnProperty,al={current:null},mf={key:!0,ref:!0,__self:!0,__source:!0};function vf(e,t,n){var a,g={},v=null,w=null;if(t!=null)for(a in t.ref!==void 0&&(w=t.ref),t.key!==void 0&&(v=""+t.key),t)gf.call(t,a)&&!mf.hasOwnProperty(a)&&(g[a]=t[a]);var h=arguments.length-2;if(h===1)g.children=n;else if(1<h){for(var r=Array(h),c=0;c<h;c++)r[c]=arguments[c+2];g.children=r}if(e&&e.defaultProps)for(a in h=e.defaultProps,h)g[a]===void 0&&(g[a]=h[a]);return{$$typeof:Oi,type:e,key:v,ref:w,props:g,_owner:al.current}}function Og(e,t){return{$$typeof:Oi,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ll(e){return typeof e=="object"&&e!==null&&e.$$typeof===Oi}function bg(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Eu=/\/+/g;function Cs(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bg(""+e.key):t.toString(36)}function io(e,t,n,a,g){var v=typeof e;(v==="undefined"||v==="boolean")&&(e=null);var w=!1;if(e===null)w=!0;else switch(v){case"string":case"number":w=!0;break;case"object":switch(e.$$typeof){case Oi:case pg:w=!0}}if(w)return w=e,g=g(w),e=a===""?"."+Cs(w,0):a,bu(g)?(n="",e!=null&&(n=e.replace(Eu,"$&/")+"/"),io(g,t,n,"",function(c){return c})):g!=null&&(ll(g)&&(g=Og(g,n+(!g.key||w&&w.key===g.key?"":(""+g.key).replace(Eu,"$&/")+"/")+e)),t.push(g)),1;if(w=0,a=a===""?".":a+":",bu(e))for(var h=0;h<e.length;h++){v=e[h];var r=a+Cs(v,h);w+=io(v,t,n,r,g)}else if(r=Tg(e),typeof r=="function")for(e=r.call(e),h=0;!(v=e.next()).done;)v=v.value,r=a+Cs(v,h++),w+=io(v,t,n,r,g);else if(v==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return w}function Fi(e,t,n){if(e==null)return e;var a=[],g=0;return io(e,a,"","",function(v){return t.call(n,v,g++)}),a}function Eg(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Ge={current:null},oo={transition:null},kg={ReactCurrentDispatcher:Ge,ReactCurrentBatchConfig:oo,ReactCurrentOwner:al};function yf(){throw Error("act(...) is not supported in production builds of React.")}me.Children={map:Fi,forEach:function(e,t,n){Fi(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Fi(e,function(){t++}),t},toArray:function(e){return Fi(e,function(t){return t})||[]},only:function(e){if(!ll(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};me.Component=_r;me.Fragment=gg;me.Profiler=vg;me.PureComponent=ol;me.StrictMode=mg;me.Suspense=xg;me.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kg;me.act=yf;me.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=hf({},e.props),g=e.key,v=e.ref,w=e._owner;if(t!=null){if(t.ref!==void 0&&(v=t.ref,w=al.current),t.key!==void 0&&(g=""+t.key),e.type&&e.type.defaultProps)var h=e.type.defaultProps;for(r in t)gf.call(t,r)&&!mf.hasOwnProperty(r)&&(a[r]=t[r]===void 0&&h!==void 0?h[r]:t[r])}var r=arguments.length-2;if(r===1)a.children=n;else if(1<r){h=Array(r);for(var c=0;c<r;c++)h[c]=arguments[c+2];a.children=h}return{$$typeof:Oi,type:e.type,key:g,ref:v,props:a,_owner:w}};me.createContext=function(e){return e={$$typeof:Cg,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:yg,_context:e},e.Consumer=e};me.createElement=vf;me.createFactory=function(e){var t=vf.bind(null,e);return t.type=e,t};me.createRef=function(){return{current:null}};me.forwardRef=function(e){return{$$typeof:wg,render:e}};me.isValidElement=ll;me.lazy=function(e){return{$$typeof:Sg,_payload:{_status:-1,_result:e},_init:Eg}};me.memo=function(e,t){return{$$typeof:_g,type:e,compare:t===void 0?null:t}};me.startTransition=function(e){var t=oo.transition;oo.transition={};try{e()}finally{oo.transition=t}};me.unstable_act=yf;me.useCallback=function(e,t){return Ge.current.useCallback(e,t)};me.useContext=function(e){return Ge.current.useContext(e)};me.useDebugValue=function(){};me.useDeferredValue=function(e){return Ge.current.useDeferredValue(e)};me.useEffect=function(e,t){return Ge.current.useEffect(e,t)};me.useId=function(){return Ge.current.useId()};me.useImperativeHandle=function(e,t,n){return Ge.current.useImperativeHandle(e,t,n)};me.useInsertionEffect=function(e,t){return Ge.current.useInsertionEffect(e,t)};me.useLayoutEffect=function(e,t){return Ge.current.useLayoutEffect(e,t)};me.useMemo=function(e,t){return Ge.current.useMemo(e,t)};me.useReducer=function(e,t,n){return Ge.current.useReducer(e,t,n)};me.useRef=function(e){return Ge.current.useRef(e)};me.useState=function(e){return Ge.current.useState(e)};me.useSyncExternalStore=function(e,t,n){return Ge.current.useSyncExternalStore(e,t,n)};me.useTransition=function(){return Ge.current.useTransition()};me.version="18.3.1";cf.exports=me;var j=cf.exports;const Ve=Ti(j);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pg=j,Mg=Symbol.for("react.element"),jg=Symbol.for("react.fragment"),Dg=Object.prototype.hasOwnProperty,Ag=Pg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Fg={key:!0,ref:!0,__self:!0,__source:!0};function Cf(e,t,n){var a,g={},v=null,w=null;n!==void 0&&(v=""+n),t.key!==void 0&&(v=""+t.key),t.ref!==void 0&&(w=t.ref);for(a in t)Dg.call(t,a)&&!Fg.hasOwnProperty(a)&&(g[a]=t[a]);if(e&&e.defaultProps)for(a in t=e.defaultProps,t)g[a]===void 0&&(g[a]=t[a]);return{$$typeof:Mg,type:e,key:v,ref:w,props:g,_owner:Ag.current}}Qo.Fragment=jg;Qo.jsx=Cf;Qo.jsxs=Cf;uf.exports=Qo;var E=uf.exports,wf={exports:{}},lt={},xf={exports:{}},_f={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(N,T){var k=N.length;N.push(T);e:for(;0<k;){var M=k-1>>>1,D=N[M];if(0<g(D,T))N[M]=T,N[k]=D,k=M;else break e}}function n(N){return N.length===0?null:N[0]}function a(N){if(N.length===0)return null;var T=N[0],k=N.pop();if(k!==T){N[0]=k;e:for(var M=0,D=N.length,B=D>>>1;M<B;){var P=2*(M+1)-1,O=N[P],A=P+1,L=N[A];if(0>g(O,k))A<D&&0>g(L,O)?(N[M]=L,N[A]=k,M=A):(N[M]=O,N[P]=k,M=P);else if(A<D&&0>g(L,k))N[M]=L,N[A]=k,M=A;else break e}}return T}function g(N,T){var k=N.sortIndex-T.sortIndex;return k!==0?k:N.id-T.id}if(typeof performance=="object"&&typeof performance.now=="function"){var v=performance;e.unstable_now=function(){return v.now()}}else{var w=Date,h=w.now();e.unstable_now=function(){return w.now()-h}}var r=[],c=[],f=1,i=null,s=3,o=!1,l=!1,d=!1,u=typeof setTimeout=="function"?setTimeout:null,p=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function y(N){for(var T=n(c);T!==null;){if(T.callback===null)a(c);else if(T.startTime<=N)a(c),T.sortIndex=T.expirationTime,t(r,T);else break;T=n(c)}}function C(N){if(d=!1,y(N),!l)if(n(r)!==null)l=!0,Y(x);else{var T=n(c);T!==null&&ee(C,T.startTime-N)}}function x(N,T){l=!1,d&&(d=!1,p(b),b=-1),o=!0;var k=s;try{for(y(T),i=n(r);i!==null&&(!(i.expirationTime>T)||N&&!z());){var M=i.callback;if(typeof M=="function"){i.callback=null,s=i.priorityLevel;var D=M(i.expirationTime<=T);T=e.unstable_now(),typeof D=="function"?i.callback=D:i===n(r)&&a(r),y(T)}else a(r);i=n(r)}if(i!==null)var B=!0;else{var P=n(c);P!==null&&ee(C,P.startTime-T),B=!1}return B}finally{i=null,s=k,o=!1}}var _=!1,S=null,b=-1,F=5,R=-1;function z(){return!(e.unstable_now()-R<F)}function $(){if(S!==null){var N=e.unstable_now();R=N;var T=!0;try{T=S(!0,N)}finally{T?G():(_=!1,S=null)}}else _=!1}var G;if(typeof m=="function")G=function(){m($)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,J=K.port2;K.port1.onmessage=$,G=function(){J.postMessage(null)}}else G=function(){u($,0)};function Y(N){S=N,_||(_=!0,G())}function ee(N,T){b=u(function(){N(e.unstable_now())},T)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(N){N.callback=null},e.unstable_continueExecution=function(){l||o||(l=!0,Y(x))},e.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},e.unstable_getCurrentPriorityLevel=function(){return s},e.unstable_getFirstCallbackNode=function(){return n(r)},e.unstable_next=function(N){switch(s){case 1:case 2:case 3:var T=3;break;default:T=s}var k=s;s=T;try{return N()}finally{s=k}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(N,T){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var k=s;s=N;try{return T()}finally{s=k}},e.unstable_scheduleCallback=function(N,T,k){var M=e.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?M+k:M):k=M,N){case 1:var D=-1;break;case 2:D=250;break;case 5:D=1073741823;break;case 4:D=1e4;break;default:D=5e3}return D=k+D,N={id:f++,callback:T,priorityLevel:N,startTime:k,expirationTime:D,sortIndex:-1},k>M?(N.sortIndex=k,t(c,N),n(r)===null&&N===n(c)&&(d?(p(b),b=-1):d=!0,ee(C,k-M))):(N.sortIndex=D,t(r,N),l||o||(l=!0,Y(x))),N},e.unstable_shouldYield=z,e.unstable_wrapCallback=function(N){var T=s;return function(){var k=s;s=T;try{return N.apply(this,arguments)}finally{s=k}}}})(_f);xf.exports=_f;var Rg=xf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lg=j,st=Rg;function re(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Sf=new Set,ri={};function Wn(e,t){cr(e,t),cr(e+"Capture",t)}function cr(e,t){for(ri[e]=t,e=0;e<t.length;e++)Sf.add(t[e])}var Ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ea=Object.prototype.hasOwnProperty,Ig=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,ku={},Pu={};function Ng(e){return ea.call(Pu,e)?!0:ea.call(ku,e)?!1:Ig.test(e)?Pu[e]=!0:(ku[e]=!0,!1)}function Bg(e,t,n,a){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return a?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function zg(e,t,n,a){if(t===null||typeof t>"u"||Bg(e,t,n,a))return!0;if(a)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Ke(e,t,n,a,g,v,w){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=a,this.attributeNamespace=g,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=v,this.removeEmptyString=w}var Ne={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ne[e]=new Ke(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ne[t]=new Ke(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ne[e]=new Ke(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ne[e]=new Ke(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ne[e]=new Ke(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ne[e]=new Ke(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ne[e]=new Ke(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ne[e]=new Ke(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ne[e]=new Ke(e,5,!1,e.toLowerCase(),null,!1,!1)});var ul=/[\-:]([a-z])/g;function cl(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ul,cl);Ne[t]=new Ke(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ul,cl);Ne[t]=new Ke(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ul,cl);Ne[t]=new Ke(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ne[e]=new Ke(e,1,!1,e.toLowerCase(),null,!1,!1)});Ne.xlinkHref=new Ke("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ne[e]=new Ke(e,1,!1,e.toLowerCase(),null,!0,!0)});function fl(e,t,n,a){var g=Ne.hasOwnProperty(t)?Ne[t]:null;(g!==null?g.type!==0:a||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(zg(t,n,g,a)&&(n=null),a||g===null?Ng(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):g.mustUseProperty?e[g.propertyName]=n===null?g.type===3?!1:"":n:(t=g.attributeName,a=g.attributeNamespace,n===null?e.removeAttribute(t):(g=g.type,n=g===3||g===4&&n===!0?"":""+n,a?e.setAttributeNS(a,t,n):e.setAttribute(t,n))))}var Gt=Lg.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=Symbol.for("react.element"),Vn=Symbol.for("react.portal"),$n=Symbol.for("react.fragment"),hl=Symbol.for("react.strict_mode"),ta=Symbol.for("react.profiler"),Tf=Symbol.for("react.provider"),Of=Symbol.for("react.context"),dl=Symbol.for("react.forward_ref"),na=Symbol.for("react.suspense"),ra=Symbol.for("react.suspense_list"),pl=Symbol.for("react.memo"),qt=Symbol.for("react.lazy"),bf=Symbol.for("react.offscreen"),Mu=Symbol.iterator;function kr(e){return e===null||typeof e!="object"?null:(e=Mu&&e[Mu]||e["@@iterator"],typeof e=="function"?e:null)}var Oe=Object.assign,ws;function Br(e){if(ws===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);ws=t&&t[1]||""}return`
`+ws+e}var xs=!1;function _s(e,t){if(!e||xs)return"";xs=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var a=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){a=c}e.call(t.prototype)}else{try{throw Error()}catch(c){a=c}e()}}catch(c){if(c&&a&&typeof c.stack=="string"){for(var g=c.stack.split(`
`),v=a.stack.split(`
`),w=g.length-1,h=v.length-1;1<=w&&0<=h&&g[w]!==v[h];)h--;for(;1<=w&&0<=h;w--,h--)if(g[w]!==v[h]){if(w!==1||h!==1)do if(w--,h--,0>h||g[w]!==v[h]){var r=`
`+g[w].replace(" at new "," at ");return e.displayName&&r.includes("<anonymous>")&&(r=r.replace("<anonymous>",e.displayName)),r}while(1<=w&&0<=h);break}}}finally{xs=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Br(e):""}function Wg(e){switch(e.tag){case 5:return Br(e.type);case 16:return Br("Lazy");case 13:return Br("Suspense");case 19:return Br("SuspenseList");case 0:case 2:case 15:return e=_s(e.type,!1),e;case 11:return e=_s(e.type.render,!1),e;case 1:return e=_s(e.type,!0),e;default:return""}}function ia(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $n:return"Fragment";case Vn:return"Portal";case ta:return"Profiler";case hl:return"StrictMode";case na:return"Suspense";case ra:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Of:return(e.displayName||"Context")+".Consumer";case Tf:return(e._context.displayName||"Context")+".Provider";case dl:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case pl:return t=e.displayName||null,t!==null?t:ia(e.type)||"Memo";case qt:t=e._payload,e=e._init;try{return ia(e(t))}catch{}}return null}function Hg(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ia(t);case 8:return t===hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mn(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Ef(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Ug(e){var t=Ef(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),a=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var g=n.get,v=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return g.call(this)},set:function(w){a=""+w,v.call(this,w)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return a},setValue:function(w){a=""+w},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Li(e){e._valueTracker||(e._valueTracker=Ug(e))}function kf(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),a="";return e&&(a=Ef(e)?e.checked?"true":"false":e.value),e=a,e!==n?(t.setValue(e),!0):!1}function Co(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function oa(e,t){var n=t.checked;return Oe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ju(e,t){var n=t.defaultValue==null?"":t.defaultValue,a=t.checked!=null?t.checked:t.defaultChecked;n=mn(t.value!=null?t.value:n),e._wrapperState={initialChecked:a,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Pf(e,t){t=t.checked,t!=null&&fl(e,"checked",t,!1)}function sa(e,t){Pf(e,t);var n=mn(t.value),a=t.type;if(n!=null)a==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(a==="submit"||a==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?aa(e,t.type,n):t.hasOwnProperty("defaultValue")&&aa(e,t.type,mn(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Du(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var a=t.type;if(!(a!=="submit"&&a!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function aa(e,t,n){(t!=="number"||Co(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var zr=Array.isArray;function ir(e,t,n,a){if(e=e.options,t){t={};for(var g=0;g<n.length;g++)t["$"+n[g]]=!0;for(n=0;n<e.length;n++)g=t.hasOwnProperty("$"+e[n].value),e[n].selected!==g&&(e[n].selected=g),g&&a&&(e[n].defaultSelected=!0)}else{for(n=""+mn(n),t=null,g=0;g<e.length;g++){if(e[g].value===n){e[g].selected=!0,a&&(e[g].defaultSelected=!0);return}t!==null||e[g].disabled||(t=e[g])}t!==null&&(t.selected=!0)}}function la(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(re(91));return Oe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Au(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(re(92));if(zr(n)){if(1<n.length)throw Error(re(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mn(n)}}function Mf(e,t){var n=mn(t.value),a=mn(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),a!=null&&(e.defaultValue=""+a)}function Fu(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function jf(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ua(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?jf(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ii,Df=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,a,g){MSApp.execUnsafeLocalFunction(function(){return e(t,n,a,g)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ii=Ii||document.createElement("div"),Ii.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ii.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ii(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Xr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Xg=["Webkit","ms","Moz","O"];Object.keys(Xr).forEach(function(e){Xg.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Xr[t]=Xr[e]})});function Af(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Xr.hasOwnProperty(e)&&Xr[e]?(""+t).trim():t+"px"}function Ff(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var a=n.indexOf("--")===0,g=Af(n,t[n],a);n==="float"&&(n="cssFloat"),a?e.setProperty(n,g):e[n]=g}}var Yg=Oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ca(e,t){if(t){if(Yg[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(re(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(re(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(re(61))}if(t.style!=null&&typeof t.style!="object")throw Error(re(62))}}function fa(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ha=null;function gl(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,or=null,sr=null;function Ru(e){if(e=ki(e)){if(typeof da!="function")throw Error(re(280));var t=e.stateNode;t&&(t=ts(t),da(e.stateNode,e.type,t))}}function Rf(e){or?sr?sr.push(e):sr=[e]:or=e}function Lf(){if(or){var e=or,t=sr;if(sr=or=null,Ru(e),t)for(e=0;e<t.length;e++)Ru(t[e])}}function If(e,t){return e(t)}function Nf(){}var Ss=!1;function Bf(e,t,n){if(Ss)return e(t,n);Ss=!0;try{return If(e,t,n)}finally{Ss=!1,(or!==null||sr!==null)&&(Nf(),Lf())}}function oi(e,t){var n=e.stateNode;if(n===null)return null;var a=ts(n);if(a===null)return null;n=a[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(a=!a.disabled)||(e=e.type,a=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!a;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(re(231,t,typeof n));return n}var pa=!1;if(Ht)try{var Pr={};Object.defineProperty(Pr,"passive",{get:function(){pa=!0}}),window.addEventListener("test",Pr,Pr),window.removeEventListener("test",Pr,Pr)}catch{pa=!1}function Vg(e,t,n,a,g,v,w,h,r){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Yr=!1,wo=null,xo=!1,ga=null,$g={onError:function(e){Yr=!0,wo=e}};function Gg(e,t,n,a,g,v,w,h,r){Yr=!1,wo=null,Vg.apply($g,arguments)}function Kg(e,t,n,a,g,v,w,h,r){if(Gg.apply(this,arguments),Yr){if(Yr){var c=wo;Yr=!1,wo=null}else throw Error(re(198));xo||(xo=!0,ga=c)}}function Hn(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Lu(e){if(Hn(e)!==e)throw Error(re(188))}function Qg(e){var t=e.alternate;if(!t){if(t=Hn(e),t===null)throw Error(re(188));return t!==e?null:e}for(var n=e,a=t;;){var g=n.return;if(g===null)break;var v=g.alternate;if(v===null){if(a=g.return,a!==null){n=a;continue}break}if(g.child===v.child){for(v=g.child;v;){if(v===n)return Lu(g),e;if(v===a)return Lu(g),t;v=v.sibling}throw Error(re(188))}if(n.return!==a.return)n=g,a=v;else{for(var w=!1,h=g.child;h;){if(h===n){w=!0,n=g,a=v;break}if(h===a){w=!0,a=g,n=v;break}h=h.sibling}if(!w){for(h=v.child;h;){if(h===n){w=!0,n=v,a=g;break}if(h===a){w=!0,a=v,n=g;break}h=h.sibling}if(!w)throw Error(re(189))}}if(n.alternate!==a)throw Error(re(190))}if(n.tag!==3)throw Error(re(188));return n.stateNode.current===n?e:t}function Wf(e){return e=Qg(e),e!==null?Hf(e):null}function Hf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Hf(e);if(t!==null)return t;e=e.sibling}return null}var Uf=st.unstable_scheduleCallback,Iu=st.unstable_cancelCallback,qg=st.unstable_shouldYield,Jg=st.unstable_requestPaint,Pe=st.unstable_now,Zg=st.unstable_getCurrentPriorityLevel,ml=st.unstable_ImmediatePriority,Xf=st.unstable_UserBlockingPriority,_o=st.unstable_NormalPriority,em=st.unstable_LowPriority,Yf=st.unstable_IdlePriority,qo=null,Mt=null;function tm(e){if(Mt&&typeof Mt.onCommitFiberRoot=="function")try{Mt.onCommitFiberRoot(qo,e,void 0,(e.current.flags&128)===128)}catch{}}var _t=Math.clz32?Math.clz32:im,nm=Math.log,rm=Math.LN2;function im(e){return e>>>=0,e===0?32:31-(nm(e)/rm|0)|0}var Ni=64,Bi=4194304;function Wr(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function So(e,t){var n=e.pendingLanes;if(n===0)return 0;var a=0,g=e.suspendedLanes,v=e.pingedLanes,w=n&268435455;if(w!==0){var h=w&~g;h!==0?a=Wr(h):(v&=w,v!==0&&(a=Wr(v)))}else w=n&~g,w!==0?a=Wr(w):v!==0&&(a=Wr(v));if(a===0)return 0;if(t!==0&&t!==a&&!(t&g)&&(g=a&-a,v=t&-t,g>=v||g===16&&(v&4194240)!==0))return t;if(a&4&&(a|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=a;0<t;)n=31-_t(t),g=1<<n,a|=e[n],t&=~g;return a}function om(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function sm(e,t){for(var n=e.suspendedLanes,a=e.pingedLanes,g=e.expirationTimes,v=e.pendingLanes;0<v;){var w=31-_t(v),h=1<<w,r=g[w];r===-1?(!(h&n)||h&a)&&(g[w]=om(h,t)):r<=t&&(e.expiredLanes|=h),v&=~h}}function ma(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Vf(){var e=Ni;return Ni<<=1,!(Ni&4194240)&&(Ni=64),e}function Ts(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function bi(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_t(t),e[t]=n}function am(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var a=e.eventTimes;for(e=e.expirationTimes;0<n;){var g=31-_t(n),v=1<<g;t[g]=0,a[g]=-1,e[g]=-1,n&=~v}}function vl(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var a=31-_t(n),g=1<<a;g&t|e[a]&t&&(e[a]|=t),n&=~g}}var ye=0;function $f(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Gf,yl,Kf,Qf,qf,va=!1,zi=[],ln=null,un=null,cn=null,si=new Map,ai=new Map,tn=[],lm="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Nu(e,t){switch(e){case"focusin":case"focusout":ln=null;break;case"dragenter":case"dragleave":un=null;break;case"mouseover":case"mouseout":cn=null;break;case"pointerover":case"pointerout":si.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":ai.delete(t.pointerId)}}function Mr(e,t,n,a,g,v){return e===null||e.nativeEvent!==v?(e={blockedOn:t,domEventName:n,eventSystemFlags:a,nativeEvent:v,targetContainers:[g]},t!==null&&(t=ki(t),t!==null&&yl(t)),e):(e.eventSystemFlags|=a,t=e.targetContainers,g!==null&&t.indexOf(g)===-1&&t.push(g),e)}function um(e,t,n,a,g){switch(t){case"focusin":return ln=Mr(ln,e,t,n,a,g),!0;case"dragenter":return un=Mr(un,e,t,n,a,g),!0;case"mouseover":return cn=Mr(cn,e,t,n,a,g),!0;case"pointerover":var v=g.pointerId;return si.set(v,Mr(si.get(v)||null,e,t,n,a,g)),!0;case"gotpointercapture":return v=g.pointerId,ai.set(v,Mr(ai.get(v)||null,e,t,n,a,g)),!0}return!1}function Jf(e){var t=En(e.target);if(t!==null){var n=Hn(t);if(n!==null){if(t=n.tag,t===13){if(t=zf(n),t!==null){e.blockedOn=t,qf(e.priority,function(){Kf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function so(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=ya(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var a=new n.constructor(n.type,n);ha=a,n.target.dispatchEvent(a),ha=null}else return t=ki(n),t!==null&&yl(t),e.blockedOn=n,!1;t.shift()}return!0}function Bu(e,t,n){so(e)&&n.delete(t)}function cm(){va=!1,ln!==null&&so(ln)&&(ln=null),un!==null&&so(un)&&(un=null),cn!==null&&so(cn)&&(cn=null),si.forEach(Bu),ai.forEach(Bu)}function jr(e,t){e.blockedOn===t&&(e.blockedOn=null,va||(va=!0,st.unstable_scheduleCallback(st.unstable_NormalPriority,cm)))}function li(e){function t(g){return jr(g,e)}if(0<zi.length){jr(zi[0],e);for(var n=1;n<zi.length;n++){var a=zi[n];a.blockedOn===e&&(a.blockedOn=null)}}for(ln!==null&&jr(ln,e),un!==null&&jr(un,e),cn!==null&&jr(cn,e),si.forEach(t),ai.forEach(t),n=0;n<tn.length;n++)a=tn[n],a.blockedOn===e&&(a.blockedOn=null);for(;0<tn.length&&(n=tn[0],n.blockedOn===null);)Jf(n),n.blockedOn===null&&tn.shift()}var ar=Gt.ReactCurrentBatchConfig,To=!0;function fm(e,t,n,a){var g=ye,v=ar.transition;ar.transition=null;try{ye=1,Cl(e,t,n,a)}finally{ye=g,ar.transition=v}}function hm(e,t,n,a){var g=ye,v=ar.transition;ar.transition=null;try{ye=4,Cl(e,t,n,a)}finally{ye=g,ar.transition=v}}function Cl(e,t,n,a){if(To){var g=ya(e,t,n,a);if(g===null)Fs(e,t,a,Oo,n),Nu(e,a);else if(um(g,e,t,n,a))a.stopPropagation();else if(Nu(e,a),t&4&&-1<lm.indexOf(e)){for(;g!==null;){var v=ki(g);if(v!==null&&Gf(v),v=ya(e,t,n,a),v===null&&Fs(e,t,a,Oo,n),v===g)break;g=v}g!==null&&a.stopPropagation()}else Fs(e,t,a,null,n)}}var Oo=null;function ya(e,t,n,a){if(Oo=null,e=gl(a),e=En(e),e!==null)if(t=Hn(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Oo=e,null}function Zf(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zg()){case ml:return 1;case Xf:return 4;case _o:case em:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var on=null,wl=null,ao=null;function eh(){if(ao)return ao;var e,t=wl,n=t.length,a,g="value"in on?on.value:on.textContent,v=g.length;for(e=0;e<n&&t[e]===g[e];e++);var w=n-e;for(a=1;a<=w&&t[n-a]===g[v-a];a++);return ao=g.slice(e,1<a?1-a:void 0)}function lo(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Wi(){return!0}function zu(){return!1}function ut(e){function t(n,a,g,v,w){this._reactName=n,this._targetInst=g,this.type=a,this.nativeEvent=v,this.target=w,this.currentTarget=null;for(var h in e)e.hasOwnProperty(h)&&(n=e[h],this[h]=n?n(v):v[h]);return this.isDefaultPrevented=(v.defaultPrevented!=null?v.defaultPrevented:v.returnValue===!1)?Wi:zu,this.isPropagationStopped=zu,this}return Oe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Wi)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Wi)},persist:function(){},isPersistent:Wi}),t}var Sr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xl=ut(Sr),Ei=Oe({},Sr,{view:0,detail:0}),dm=ut(Ei),Os,bs,Dr,Jo=Oe({},Ei,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:_l,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Dr&&(Dr&&e.type==="mousemove"?(Os=e.screenX-Dr.screenX,bs=e.screenY-Dr.screenY):bs=Os=0,Dr=e),Os)},movementY:function(e){return"movementY"in e?e.movementY:bs}}),Wu=ut(Jo),pm=Oe({},Jo,{dataTransfer:0}),gm=ut(pm),mm=Oe({},Ei,{relatedTarget:0}),Es=ut(mm),vm=Oe({},Sr,{animationName:0,elapsedTime:0,pseudoElement:0}),ym=ut(vm),Cm=Oe({},Sr,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),wm=ut(Cm),xm=Oe({},Sr,{data:0}),Hu=ut(xm),_m={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sm={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tm={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Om(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tm[e])?!!t[e]:!1}function _l(){return Om}var bm=Oe({},Ei,{key:function(e){if(e.key){var t=_m[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=lo(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Sm[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:_l,charCode:function(e){return e.type==="keypress"?lo(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?lo(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Em=ut(bm),km=Oe({},Jo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Uu=ut(km),Pm=Oe({},Ei,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:_l}),Mm=ut(Pm),jm=Oe({},Sr,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dm=ut(jm),Am=Oe({},Jo,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fm=ut(Am),Rm=[9,13,27,32],Sl=Ht&&"CompositionEvent"in window,Vr=null;Ht&&"documentMode"in document&&(Vr=document.documentMode);var Lm=Ht&&"TextEvent"in window&&!Vr,th=Ht&&(!Sl||Vr&&8<Vr&&11>=Vr),Xu=" ",Yu=!1;function nh(e,t){switch(e){case"keyup":return Rm.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rh(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Gn=!1;function Im(e,t){switch(e){case"compositionend":return rh(t);case"keypress":return t.which!==32?null:(Yu=!0,Xu);case"textInput":return e=t.data,e===Xu&&Yu?null:e;default:return null}}function Nm(e,t){if(Gn)return e==="compositionend"||!Sl&&nh(e,t)?(e=eh(),ao=wl=on=null,Gn=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return th&&t.locale!=="ko"?null:t.data;default:return null}}var Bm={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Bm[e.type]:t==="textarea"}function ih(e,t,n,a){Rf(a),t=bo(t,"onChange"),0<t.length&&(n=new xl("onChange","change",null,n,a),e.push({event:n,listeners:t}))}var $r=null,ui=null;function zm(e){gh(e,0)}function Zo(e){var t=qn(e);if(kf(t))return e}function Wm(e,t){if(e==="change")return t}var oh=!1;if(Ht){var ks;if(Ht){var Ps="oninput"in document;if(!Ps){var $u=document.createElement("div");$u.setAttribute("oninput","return;"),Ps=typeof $u.oninput=="function"}ks=Ps}else ks=!1;oh=ks&&(!document.documentMode||9<document.documentMode)}function Gu(){$r&&($r.detachEvent("onpropertychange",sh),ui=$r=null)}function sh(e){if(e.propertyName==="value"&&Zo(ui)){var t=[];ih(t,ui,e,gl(e)),Bf(zm,t)}}function Hm(e,t,n){e==="focusin"?(Gu(),$r=t,ui=n,$r.attachEvent("onpropertychange",sh)):e==="focusout"&&Gu()}function Um(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Zo(ui)}function Xm(e,t){if(e==="click")return Zo(t)}function Ym(e,t){if(e==="input"||e==="change")return Zo(t)}function Vm(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Tt=typeof Object.is=="function"?Object.is:Vm;function ci(e,t){if(Tt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),a=Object.keys(t);if(n.length!==a.length)return!1;for(a=0;a<n.length;a++){var g=n[a];if(!ea.call(t,g)||!Tt(e[g],t[g]))return!1}return!0}function Ku(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Qu(e,t){var n=Ku(e);e=0;for(var a;n;){if(n.nodeType===3){if(a=e+n.textContent.length,e<=t&&a>=t)return{node:n,offset:t-e};e=a}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ku(n)}}function ah(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ah(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function lh(){for(var e=window,t=Co();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Co(e.document)}return t}function Tl(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function $m(e){var t=lh(),n=e.focusedElem,a=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ah(n.ownerDocument.documentElement,n)){if(a!==null&&Tl(n)){if(t=a.start,e=a.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var g=n.textContent.length,v=Math.min(a.start,g);a=a.end===void 0?v:Math.min(a.end,g),!e.extend&&v>a&&(g=a,a=v,v=g),g=Qu(n,v);var w=Qu(n,a);g&&w&&(e.rangeCount!==1||e.anchorNode!==g.node||e.anchorOffset!==g.offset||e.focusNode!==w.node||e.focusOffset!==w.offset)&&(t=t.createRange(),t.setStart(g.node,g.offset),e.removeAllRanges(),v>a?(e.addRange(t),e.extend(w.node,w.offset)):(t.setEnd(w.node,w.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Gm=Ht&&"documentMode"in document&&11>=document.documentMode,Kn=null,Ca=null,Gr=null,wa=!1;function qu(e,t,n){var a=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;wa||Kn==null||Kn!==Co(a)||(a=Kn,"selectionStart"in a&&Tl(a)?a={start:a.selectionStart,end:a.selectionEnd}:(a=(a.ownerDocument&&a.ownerDocument.defaultView||window).getSelection(),a={anchorNode:a.anchorNode,anchorOffset:a.anchorOffset,focusNode:a.focusNode,focusOffset:a.focusOffset}),Gr&&ci(Gr,a)||(Gr=a,a=bo(Ca,"onSelect"),0<a.length&&(t=new xl("onSelect","select",null,t,n),e.push({event:t,listeners:a}),t.target=Kn)))}function Hi(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Qn={animationend:Hi("Animation","AnimationEnd"),animationiteration:Hi("Animation","AnimationIteration"),animationstart:Hi("Animation","AnimationStart"),transitionend:Hi("Transition","TransitionEnd")},Ms={},uh={};Ht&&(uh=document.createElement("div").style,"AnimationEvent"in window||(delete Qn.animationend.animation,delete Qn.animationiteration.animation,delete Qn.animationstart.animation),"TransitionEvent"in window||delete Qn.transitionend.transition);function es(e){if(Ms[e])return Ms[e];if(!Qn[e])return e;var t=Qn[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uh)return Ms[e]=t[n];return e}var ch=es("animationend"),fh=es("animationiteration"),hh=es("animationstart"),dh=es("transitionend"),ph=new Map,Ju="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Cn(e,t){ph.set(e,t),Wn(t,[e])}for(var js=0;js<Ju.length;js++){var Ds=Ju[js],Km=Ds.toLowerCase(),Qm=Ds[0].toUpperCase()+Ds.slice(1);Cn(Km,"on"+Qm)}Cn(ch,"onAnimationEnd");Cn(fh,"onAnimationIteration");Cn(hh,"onAnimationStart");Cn("dblclick","onDoubleClick");Cn("focusin","onFocus");Cn("focusout","onBlur");Cn(dh,"onTransitionEnd");cr("onMouseEnter",["mouseout","mouseover"]);cr("onMouseLeave",["mouseout","mouseover"]);cr("onPointerEnter",["pointerout","pointerover"]);cr("onPointerLeave",["pointerout","pointerover"]);Wn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Wn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Wn("onBeforeInput",["compositionend","keypress","textInput","paste"]);Wn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Wn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),qm=new Set("cancel close invalid load scroll toggle".split(" ").concat(Hr));function Zu(e,t,n){var a=e.type||"unknown-event";e.currentTarget=n,Kg(a,t,void 0,e),e.currentTarget=null}function gh(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var a=e[n],g=a.event;a=a.listeners;e:{var v=void 0;if(t)for(var w=a.length-1;0<=w;w--){var h=a[w],r=h.instance,c=h.currentTarget;if(h=h.listener,r!==v&&g.isPropagationStopped())break e;Zu(g,h,c),v=r}else for(w=0;w<a.length;w++){if(h=a[w],r=h.instance,c=h.currentTarget,h=h.listener,r!==v&&g.isPropagationStopped())break e;Zu(g,h,c),v=r}}}if(xo)throw e=ga,xo=!1,ga=null,e}function we(e,t){var n=t[Oa];n===void 0&&(n=t[Oa]=new Set);var a=e+"__bubble";n.has(a)||(mh(t,e,2,!1),n.add(a))}function As(e,t,n){var a=0;t&&(a|=4),mh(n,e,a,t)}var Ui="_reactListening"+Math.random().toString(36).slice(2);function fi(e){if(!e[Ui]){e[Ui]=!0,Sf.forEach(function(n){n!=="selectionchange"&&(qm.has(n)||As(n,!1,e),As(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ui]||(t[Ui]=!0,As("selectionchange",!1,t))}}function mh(e,t,n,a){switch(Zf(t)){case 1:var g=fm;break;case 4:g=hm;break;default:g=Cl}n=g.bind(null,t,n,e),g=void 0,!pa||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(g=!0),a?g!==void 0?e.addEventListener(t,n,{capture:!0,passive:g}):e.addEventListener(t,n,!0):g!==void 0?e.addEventListener(t,n,{passive:g}):e.addEventListener(t,n,!1)}function Fs(e,t,n,a,g){var v=a;if(!(t&1)&&!(t&2)&&a!==null)e:for(;;){if(a===null)return;var w=a.tag;if(w===3||w===4){var h=a.stateNode.containerInfo;if(h===g||h.nodeType===8&&h.parentNode===g)break;if(w===4)for(w=a.return;w!==null;){var r=w.tag;if((r===3||r===4)&&(r=w.stateNode.containerInfo,r===g||r.nodeType===8&&r.parentNode===g))return;w=w.return}for(;h!==null;){if(w=En(h),w===null)return;if(r=w.tag,r===5||r===6){a=v=w;continue e}h=h.parentNode}}a=a.return}Bf(function(){var c=v,f=gl(n),i=[];e:{var s=ph.get(e);if(s!==void 0){var o=xl,l=e;switch(e){case"keypress":if(lo(n)===0)break e;case"keydown":case"keyup":o=Em;break;case"focusin":l="focus",o=Es;break;case"focusout":l="blur",o=Es;break;case"beforeblur":case"afterblur":o=Es;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=Wu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=gm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Mm;break;case ch:case fh:case hh:o=ym;break;case dh:o=Dm;break;case"scroll":o=dm;break;case"wheel":o=Fm;break;case"copy":case"cut":case"paste":o=wm;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Uu}var d=(t&4)!==0,u=!d&&e==="scroll",p=d?s!==null?s+"Capture":null:s;d=[];for(var m=c,y;m!==null;){y=m;var C=y.stateNode;if(y.tag===5&&C!==null&&(y=C,p!==null&&(C=oi(m,p),C!=null&&d.push(hi(m,C,y)))),u)break;m=m.return}0<d.length&&(s=new o(s,l,null,n,f),i.push({event:s,listeners:d}))}}if(!(t&7)){e:{if(s=e==="mouseover"||e==="pointerover",o=e==="mouseout"||e==="pointerout",s&&n!==ha&&(l=n.relatedTarget||n.fromElement)&&(En(l)||l[Ut]))break e;if((o||s)&&(s=f.window===f?f:(s=f.ownerDocument)?s.defaultView||s.parentWindow:window,o?(l=n.relatedTarget||n.toElement,o=c,l=l?En(l):null,l!==null&&(u=Hn(l),l!==u||l.tag!==5&&l.tag!==6)&&(l=null)):(o=null,l=c),o!==l)){if(d=Wu,C="onMouseLeave",p="onMouseEnter",m="mouse",(e==="pointerout"||e==="pointerover")&&(d=Uu,C="onPointerLeave",p="onPointerEnter",m="pointer"),u=o==null?s:qn(o),y=l==null?s:qn(l),s=new d(C,m+"leave",o,n,f),s.target=u,s.relatedTarget=y,C=null,En(f)===c&&(d=new d(p,m+"enter",l,n,f),d.target=y,d.relatedTarget=u,C=d),u=C,o&&l)t:{for(d=o,p=l,m=0,y=d;y;y=Un(y))m++;for(y=0,C=p;C;C=Un(C))y++;for(;0<m-y;)d=Un(d),m--;for(;0<y-m;)p=Un(p),y--;for(;m--;){if(d===p||p!==null&&d===p.alternate)break t;d=Un(d),p=Un(p)}d=null}else d=null;o!==null&&ec(i,s,o,d,!1),l!==null&&u!==null&&ec(i,u,l,d,!0)}}e:{if(s=c?qn(c):window,o=s.nodeName&&s.nodeName.toLowerCase(),o==="select"||o==="input"&&s.type==="file")var x=Wm;else if(Vu(s))if(oh)x=Ym;else{x=Um;var _=Hm}else(o=s.nodeName)&&o.toLowerCase()==="input"&&(s.type==="checkbox"||s.type==="radio")&&(x=Xm);if(x&&(x=x(e,c))){ih(i,x,n,f);break e}_&&_(e,s,c),e==="focusout"&&(_=s._wrapperState)&&_.controlled&&s.type==="number"&&aa(s,"number",s.value)}switch(_=c?qn(c):window,e){case"focusin":(Vu(_)||_.contentEditable==="true")&&(Kn=_,Ca=c,Gr=null);break;case"focusout":Gr=Ca=Kn=null;break;case"mousedown":wa=!0;break;case"contextmenu":case"mouseup":case"dragend":wa=!1,qu(i,n,f);break;case"selectionchange":if(Gm)break;case"keydown":case"keyup":qu(i,n,f)}var S;if(Sl)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Gn?nh(e,n)&&(b="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(b="onCompositionStart");b&&(th&&n.locale!=="ko"&&(Gn||b!=="onCompositionStart"?b==="onCompositionEnd"&&Gn&&(S=eh()):(on=f,wl="value"in on?on.value:on.textContent,Gn=!0)),_=bo(c,b),0<_.length&&(b=new Hu(b,e,null,n,f),i.push({event:b,listeners:_}),S?b.data=S:(S=rh(n),S!==null&&(b.data=S)))),(S=Lm?Im(e,n):Nm(e,n))&&(c=bo(c,"onBeforeInput"),0<c.length&&(f=new Hu("onBeforeInput","beforeinput",null,n,f),i.push({event:f,listeners:c}),f.data=S))}gh(i,t)})}function hi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function bo(e,t){for(var n=t+"Capture",a=[];e!==null;){var g=e,v=g.stateNode;g.tag===5&&v!==null&&(g=v,v=oi(e,n),v!=null&&a.unshift(hi(e,v,g)),v=oi(e,t),v!=null&&a.push(hi(e,v,g))),e=e.return}return a}function Un(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ec(e,t,n,a,g){for(var v=t._reactName,w=[];n!==null&&n!==a;){var h=n,r=h.alternate,c=h.stateNode;if(r!==null&&r===a)break;h.tag===5&&c!==null&&(h=c,g?(r=oi(n,v),r!=null&&w.unshift(hi(n,r,h))):g||(r=oi(n,v),r!=null&&w.push(hi(n,r,h)))),n=n.return}w.length!==0&&e.push({event:t,listeners:w})}var Jm=/\r\n?/g,Zm=/\u0000|\uFFFD/g;function tc(e){return(typeof e=="string"?e:""+e).replace(Jm,`
`).replace(Zm,"")}function Xi(e,t,n){if(t=tc(t),tc(e)!==t&&n)throw Error(re(425))}function Eo(){}var xa=null,_a=null;function Sa(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ta=typeof setTimeout=="function"?setTimeout:void 0,ev=typeof clearTimeout=="function"?clearTimeout:void 0,nc=typeof Promise=="function"?Promise:void 0,tv=typeof queueMicrotask=="function"?queueMicrotask:typeof nc<"u"?function(e){return nc.resolve(null).then(e).catch(nv)}:Ta;function nv(e){setTimeout(function(){throw e})}function Rs(e,t){var n=t,a=0;do{var g=n.nextSibling;if(e.removeChild(n),g&&g.nodeType===8)if(n=g.data,n==="/$"){if(a===0){e.removeChild(g),li(t);return}a--}else n!=="$"&&n!=="$?"&&n!=="$!"||a++;n=g}while(n);li(t)}function fn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function rc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Tr=Math.random().toString(36).slice(2),Pt="__reactFiber$"+Tr,di="__reactProps$"+Tr,Ut="__reactContainer$"+Tr,Oa="__reactEvents$"+Tr,rv="__reactListeners$"+Tr,iv="__reactHandles$"+Tr;function En(e){var t=e[Pt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[Ut]||n[Pt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=rc(e);e!==null;){if(n=e[Pt])return n;e=rc(e)}return t}e=n,n=e.parentNode}return null}function ki(e){return e=e[Pt]||e[Ut],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function qn(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(re(33))}function ts(e){return e[di]||null}var ba=[],Jn=-1;function wn(e){return{current:e}}function xe(e){0>Jn||(e.current=ba[Jn],ba[Jn]=null,Jn--)}function Ce(e,t){Jn++,ba[Jn]=e.current,e.current=t}var vn={},Ue=wn(vn),Je=wn(!1),Rn=vn;function fr(e,t){var n=e.type.contextTypes;if(!n)return vn;var a=e.stateNode;if(a&&a.__reactInternalMemoizedUnmaskedChildContext===t)return a.__reactInternalMemoizedMaskedChildContext;var g={},v;for(v in n)g[v]=t[v];return a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=g),g}function Ze(e){return e=e.childContextTypes,e!=null}function ko(){xe(Je),xe(Ue)}function ic(e,t,n){if(Ue.current!==vn)throw Error(re(168));Ce(Ue,t),Ce(Je,n)}function vh(e,t,n){var a=e.stateNode;if(t=t.childContextTypes,typeof a.getChildContext!="function")return n;a=a.getChildContext();for(var g in a)if(!(g in t))throw Error(re(108,Hg(e)||"Unknown",g));return Oe({},n,a)}function Po(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||vn,Rn=Ue.current,Ce(Ue,e),Ce(Je,Je.current),!0}function oc(e,t,n){var a=e.stateNode;if(!a)throw Error(re(169));n?(e=vh(e,t,Rn),a.__reactInternalMemoizedMergedChildContext=e,xe(Je),xe(Ue),Ce(Ue,e)):xe(Je),Ce(Je,n)}var Lt=null,ns=!1,Ls=!1;function yh(e){Lt===null?Lt=[e]:Lt.push(e)}function ov(e){ns=!0,yh(e)}function xn(){if(!Ls&&Lt!==null){Ls=!0;var e=0,t=ye;try{var n=Lt;for(ye=1;e<n.length;e++){var a=n[e];do a=a(!0);while(a!==null)}Lt=null,ns=!1}catch(g){throw Lt!==null&&(Lt=Lt.slice(e+1)),Uf(ml,xn),g}finally{ye=t,Ls=!1}}return null}var Zn=[],er=0,Mo=null,jo=0,ct=[],ft=0,Ln=null,It=1,Nt="";function Tn(e,t){Zn[er++]=jo,Zn[er++]=Mo,Mo=e,jo=t}function Ch(e,t,n){ct[ft++]=It,ct[ft++]=Nt,ct[ft++]=Ln,Ln=e;var a=It;e=Nt;var g=32-_t(a)-1;a&=~(1<<g),n+=1;var v=32-_t(t)+g;if(30<v){var w=g-g%5;v=(a&(1<<w)-1).toString(32),a>>=w,g-=w,It=1<<32-_t(t)+g|n<<g|a,Nt=v+e}else It=1<<v|n<<g|a,Nt=e}function Ol(e){e.return!==null&&(Tn(e,1),Ch(e,1,0))}function bl(e){for(;e===Mo;)Mo=Zn[--er],Zn[er]=null,jo=Zn[--er],Zn[er]=null;for(;e===Ln;)Ln=ct[--ft],ct[ft]=null,Nt=ct[--ft],ct[ft]=null,It=ct[--ft],ct[ft]=null}var ot=null,it=null,_e=!1,xt=null;function wh(e,t){var n=ht(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function sc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ot=e,it=fn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ot=e,it=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Ln!==null?{id:It,overflow:Nt}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ht(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ot=e,it=null,!0):!1;default:return!1}}function Ea(e){return(e.mode&1)!==0&&(e.flags&128)===0}function ka(e){if(_e){var t=it;if(t){var n=t;if(!sc(e,t)){if(Ea(e))throw Error(re(418));t=fn(n.nextSibling);var a=ot;t&&sc(e,t)?wh(a,n):(e.flags=e.flags&-4097|2,_e=!1,ot=e)}}else{if(Ea(e))throw Error(re(418));e.flags=e.flags&-4097|2,_e=!1,ot=e}}}function ac(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ot=e}function Yi(e){if(e!==ot)return!1;if(!_e)return ac(e),_e=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Sa(e.type,e.memoizedProps)),t&&(t=it)){if(Ea(e))throw xh(),Error(re(418));for(;t;)wh(e,t),t=fn(t.nextSibling)}if(ac(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(re(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){it=fn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}it=null}}else it=ot?fn(e.stateNode.nextSibling):null;return!0}function xh(){for(var e=it;e;)e=fn(e.nextSibling)}function hr(){it=ot=null,_e=!1}function El(e){xt===null?xt=[e]:xt.push(e)}var sv=Gt.ReactCurrentBatchConfig;function Ar(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(re(309));var a=n.stateNode}if(!a)throw Error(re(147,e));var g=a,v=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===v?t.ref:(t=function(w){var h=g.refs;w===null?delete h[v]:h[v]=w},t._stringRef=v,t)}if(typeof e!="string")throw Error(re(284));if(!n._owner)throw Error(re(290,e))}return e}function Vi(e,t){throw e=Object.prototype.toString.call(t),Error(re(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function lc(e){var t=e._init;return t(e._payload)}function _h(e){function t(p,m){if(e){var y=p.deletions;y===null?(p.deletions=[m],p.flags|=16):y.push(m)}}function n(p,m){if(!e)return null;for(;m!==null;)t(p,m),m=m.sibling;return null}function a(p,m){for(p=new Map;m!==null;)m.key!==null?p.set(m.key,m):p.set(m.index,m),m=m.sibling;return p}function g(p,m){return p=gn(p,m),p.index=0,p.sibling=null,p}function v(p,m,y){return p.index=y,e?(y=p.alternate,y!==null?(y=y.index,y<m?(p.flags|=2,m):y):(p.flags|=2,m)):(p.flags|=1048576,m)}function w(p){return e&&p.alternate===null&&(p.flags|=2),p}function h(p,m,y,C){return m===null||m.tag!==6?(m=Us(y,p.mode,C),m.return=p,m):(m=g(m,y),m.return=p,m)}function r(p,m,y,C){var x=y.type;return x===$n?f(p,m,y.props.children,C,y.key):m!==null&&(m.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===qt&&lc(x)===m.type)?(C=g(m,y.props),C.ref=Ar(p,m,y),C.return=p,C):(C=mo(y.type,y.key,y.props,null,p.mode,C),C.ref=Ar(p,m,y),C.return=p,C)}function c(p,m,y,C){return m===null||m.tag!==4||m.stateNode.containerInfo!==y.containerInfo||m.stateNode.implementation!==y.implementation?(m=Xs(y,p.mode,C),m.return=p,m):(m=g(m,y.children||[]),m.return=p,m)}function f(p,m,y,C,x){return m===null||m.tag!==7?(m=Dn(y,p.mode,C,x),m.return=p,m):(m=g(m,y),m.return=p,m)}function i(p,m,y){if(typeof m=="string"&&m!==""||typeof m=="number")return m=Us(""+m,p.mode,y),m.return=p,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case Ri:return y=mo(m.type,m.key,m.props,null,p.mode,y),y.ref=Ar(p,null,m),y.return=p,y;case Vn:return m=Xs(m,p.mode,y),m.return=p,m;case qt:var C=m._init;return i(p,C(m._payload),y)}if(zr(m)||kr(m))return m=Dn(m,p.mode,y,null),m.return=p,m;Vi(p,m)}return null}function s(p,m,y,C){var x=m!==null?m.key:null;if(typeof y=="string"&&y!==""||typeof y=="number")return x!==null?null:h(p,m,""+y,C);if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Ri:return y.key===x?r(p,m,y,C):null;case Vn:return y.key===x?c(p,m,y,C):null;case qt:return x=y._init,s(p,m,x(y._payload),C)}if(zr(y)||kr(y))return x!==null?null:f(p,m,y,C,null);Vi(p,y)}return null}function o(p,m,y,C,x){if(typeof C=="string"&&C!==""||typeof C=="number")return p=p.get(y)||null,h(m,p,""+C,x);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ri:return p=p.get(C.key===null?y:C.key)||null,r(m,p,C,x);case Vn:return p=p.get(C.key===null?y:C.key)||null,c(m,p,C,x);case qt:var _=C._init;return o(p,m,y,_(C._payload),x)}if(zr(C)||kr(C))return p=p.get(y)||null,f(m,p,C,x,null);Vi(m,C)}return null}function l(p,m,y,C){for(var x=null,_=null,S=m,b=m=0,F=null;S!==null&&b<y.length;b++){S.index>b?(F=S,S=null):F=S.sibling;var R=s(p,S,y[b],C);if(R===null){S===null&&(S=F);break}e&&S&&R.alternate===null&&t(p,S),m=v(R,m,b),_===null?x=R:_.sibling=R,_=R,S=F}if(b===y.length)return n(p,S),_e&&Tn(p,b),x;if(S===null){for(;b<y.length;b++)S=i(p,y[b],C),S!==null&&(m=v(S,m,b),_===null?x=S:_.sibling=S,_=S);return _e&&Tn(p,b),x}for(S=a(p,S);b<y.length;b++)F=o(S,p,b,y[b],C),F!==null&&(e&&F.alternate!==null&&S.delete(F.key===null?b:F.key),m=v(F,m,b),_===null?x=F:_.sibling=F,_=F);return e&&S.forEach(function(z){return t(p,z)}),_e&&Tn(p,b),x}function d(p,m,y,C){var x=kr(y);if(typeof x!="function")throw Error(re(150));if(y=x.call(y),y==null)throw Error(re(151));for(var _=x=null,S=m,b=m=0,F=null,R=y.next();S!==null&&!R.done;b++,R=y.next()){S.index>b?(F=S,S=null):F=S.sibling;var z=s(p,S,R.value,C);if(z===null){S===null&&(S=F);break}e&&S&&z.alternate===null&&t(p,S),m=v(z,m,b),_===null?x=z:_.sibling=z,_=z,S=F}if(R.done)return n(p,S),_e&&Tn(p,b),x;if(S===null){for(;!R.done;b++,R=y.next())R=i(p,R.value,C),R!==null&&(m=v(R,m,b),_===null?x=R:_.sibling=R,_=R);return _e&&Tn(p,b),x}for(S=a(p,S);!R.done;b++,R=y.next())R=o(S,p,b,R.value,C),R!==null&&(e&&R.alternate!==null&&S.delete(R.key===null?b:R.key),m=v(R,m,b),_===null?x=R:_.sibling=R,_=R);return e&&S.forEach(function($){return t(p,$)}),_e&&Tn(p,b),x}function u(p,m,y,C){if(typeof y=="object"&&y!==null&&y.type===$n&&y.key===null&&(y=y.props.children),typeof y=="object"&&y!==null){switch(y.$$typeof){case Ri:e:{for(var x=y.key,_=m;_!==null;){if(_.key===x){if(x=y.type,x===$n){if(_.tag===7){n(p,_.sibling),m=g(_,y.props.children),m.return=p,p=m;break e}}else if(_.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===qt&&lc(x)===_.type){n(p,_.sibling),m=g(_,y.props),m.ref=Ar(p,_,y),m.return=p,p=m;break e}n(p,_);break}else t(p,_);_=_.sibling}y.type===$n?(m=Dn(y.props.children,p.mode,C,y.key),m.return=p,p=m):(C=mo(y.type,y.key,y.props,null,p.mode,C),C.ref=Ar(p,m,y),C.return=p,p=C)}return w(p);case Vn:e:{for(_=y.key;m!==null;){if(m.key===_)if(m.tag===4&&m.stateNode.containerInfo===y.containerInfo&&m.stateNode.implementation===y.implementation){n(p,m.sibling),m=g(m,y.children||[]),m.return=p,p=m;break e}else{n(p,m);break}else t(p,m);m=m.sibling}m=Xs(y,p.mode,C),m.return=p,p=m}return w(p);case qt:return _=y._init,u(p,m,_(y._payload),C)}if(zr(y))return l(p,m,y,C);if(kr(y))return d(p,m,y,C);Vi(p,y)}return typeof y=="string"&&y!==""||typeof y=="number"?(y=""+y,m!==null&&m.tag===6?(n(p,m.sibling),m=g(m,y),m.return=p,p=m):(n(p,m),m=Us(y,p.mode,C),m.return=p,p=m),w(p)):n(p,m)}return u}var dr=_h(!0),Sh=_h(!1),Do=wn(null),Ao=null,tr=null,kl=null;function Pl(){kl=tr=Ao=null}function Ml(e){var t=Do.current;xe(Do),e._currentValue=t}function Pa(e,t,n){for(;e!==null;){var a=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,a!==null&&(a.childLanes|=t)):a!==null&&(a.childLanes&t)!==t&&(a.childLanes|=t),e===n)break;e=e.return}}function lr(e,t){Ao=e,kl=tr=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(qe=!0),e.firstContext=null)}function pt(e){var t=e._currentValue;if(kl!==e)if(e={context:e,memoizedValue:t,next:null},tr===null){if(Ao===null)throw Error(re(308));tr=e,Ao.dependencies={lanes:0,firstContext:e}}else tr=tr.next=e;return t}var kn=null;function jl(e){kn===null?kn=[e]:kn.push(e)}function Th(e,t,n,a){var g=t.interleaved;return g===null?(n.next=n,jl(t)):(n.next=g.next,g.next=n),t.interleaved=n,Xt(e,a)}function Xt(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Jt=!1;function Dl(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Oh(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Wt(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function hn(e,t,n){var a=e.updateQueue;if(a===null)return null;if(a=a.shared,ve&2){var g=a.pending;return g===null?t.next=t:(t.next=g.next,g.next=t),a.pending=t,Xt(e,n)}return g=a.interleaved,g===null?(t.next=t,jl(a)):(t.next=g.next,g.next=t),a.interleaved=t,Xt(e,n)}function uo(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vl(e,n)}}function uc(e,t){var n=e.updateQueue,a=e.alternate;if(a!==null&&(a=a.updateQueue,n===a)){var g=null,v=null;if(n=n.firstBaseUpdate,n!==null){do{var w={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};v===null?g=v=w:v=v.next=w,n=n.next}while(n!==null);v===null?g=v=t:v=v.next=t}else g=v=t;n={baseState:a.baseState,firstBaseUpdate:g,lastBaseUpdate:v,shared:a.shared,effects:a.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Fo(e,t,n,a){var g=e.updateQueue;Jt=!1;var v=g.firstBaseUpdate,w=g.lastBaseUpdate,h=g.shared.pending;if(h!==null){g.shared.pending=null;var r=h,c=r.next;r.next=null,w===null?v=c:w.next=c,w=r;var f=e.alternate;f!==null&&(f=f.updateQueue,h=f.lastBaseUpdate,h!==w&&(h===null?f.firstBaseUpdate=c:h.next=c,f.lastBaseUpdate=r))}if(v!==null){var i=g.baseState;w=0,f=c=r=null,h=v;do{var s=h.lane,o=h.eventTime;if((a&s)===s){f!==null&&(f=f.next={eventTime:o,lane:0,tag:h.tag,payload:h.payload,callback:h.callback,next:null});e:{var l=e,d=h;switch(s=t,o=n,d.tag){case 1:if(l=d.payload,typeof l=="function"){i=l.call(o,i,s);break e}i=l;break e;case 3:l.flags=l.flags&-65537|128;case 0:if(l=d.payload,s=typeof l=="function"?l.call(o,i,s):l,s==null)break e;i=Oe({},i,s);break e;case 2:Jt=!0}}h.callback!==null&&h.lane!==0&&(e.flags|=64,s=g.effects,s===null?g.effects=[h]:s.push(h))}else o={eventTime:o,lane:s,tag:h.tag,payload:h.payload,callback:h.callback,next:null},f===null?(c=f=o,r=i):f=f.next=o,w|=s;if(h=h.next,h===null){if(h=g.shared.pending,h===null)break;s=h,h=s.next,s.next=null,g.lastBaseUpdate=s,g.shared.pending=null}}while(!0);if(f===null&&(r=i),g.baseState=r,g.firstBaseUpdate=c,g.lastBaseUpdate=f,t=g.shared.interleaved,t!==null){g=t;do w|=g.lane,g=g.next;while(g!==t)}else v===null&&(g.shared.lanes=0);Nn|=w,e.lanes=w,e.memoizedState=i}}function cc(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var a=e[t],g=a.callback;if(g!==null){if(a.callback=null,a=n,typeof g!="function")throw Error(re(191,g));g.call(a)}}}var Pi={},jt=wn(Pi),pi=wn(Pi),gi=wn(Pi);function Pn(e){if(e===Pi)throw Error(re(174));return e}function Al(e,t){switch(Ce(gi,t),Ce(pi,e),Ce(jt,Pi),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:ua(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=ua(t,e)}xe(jt),Ce(jt,t)}function pr(){xe(jt),xe(pi),xe(gi)}function bh(e){Pn(gi.current);var t=Pn(jt.current),n=ua(t,e.type);t!==n&&(Ce(pi,e),Ce(jt,n))}function Fl(e){pi.current===e&&(xe(jt),xe(pi))}var Se=wn(0);function Ro(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Is=[];function Rl(){for(var e=0;e<Is.length;e++)Is[e]._workInProgressVersionPrimary=null;Is.length=0}var co=Gt.ReactCurrentDispatcher,Ns=Gt.ReactCurrentBatchConfig,In=0,Te=null,De=null,Fe=null,Lo=!1,Kr=!1,mi=0,av=0;function Be(){throw Error(re(321))}function Ll(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Tt(e[n],t[n]))return!1;return!0}function Il(e,t,n,a,g,v){if(In=v,Te=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,co.current=e===null||e.memoizedState===null?fv:hv,e=n(a,g),Kr){v=0;do{if(Kr=!1,mi=0,25<=v)throw Error(re(301));v+=1,Fe=De=null,t.updateQueue=null,co.current=dv,e=n(a,g)}while(Kr)}if(co.current=Io,t=De!==null&&De.next!==null,In=0,Fe=De=Te=null,Lo=!1,t)throw Error(re(300));return e}function Nl(){var e=mi!==0;return mi=0,e}function Et(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e,Fe}function gt(){if(De===null){var e=Te.alternate;e=e!==null?e.memoizedState:null}else e=De.next;var t=Fe===null?Te.memoizedState:Fe.next;if(t!==null)Fe=t,De=e;else{if(e===null)throw Error(re(310));De=e,e={memoizedState:De.memoizedState,baseState:De.baseState,baseQueue:De.baseQueue,queue:De.queue,next:null},Fe===null?Te.memoizedState=Fe=e:Fe=Fe.next=e}return Fe}function vi(e,t){return typeof t=="function"?t(e):t}function Bs(e){var t=gt(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var a=De,g=a.baseQueue,v=n.pending;if(v!==null){if(g!==null){var w=g.next;g.next=v.next,v.next=w}a.baseQueue=g=v,n.pending=null}if(g!==null){v=g.next,a=a.baseState;var h=w=null,r=null,c=v;do{var f=c.lane;if((In&f)===f)r!==null&&(r=r.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),a=c.hasEagerState?c.eagerState:e(a,c.action);else{var i={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};r===null?(h=r=i,w=a):r=r.next=i,Te.lanes|=f,Nn|=f}c=c.next}while(c!==null&&c!==v);r===null?w=a:r.next=h,Tt(a,t.memoizedState)||(qe=!0),t.memoizedState=a,t.baseState=w,t.baseQueue=r,n.lastRenderedState=a}if(e=n.interleaved,e!==null){g=e;do v=g.lane,Te.lanes|=v,Nn|=v,g=g.next;while(g!==e)}else g===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function zs(e){var t=gt(),n=t.queue;if(n===null)throw Error(re(311));n.lastRenderedReducer=e;var a=n.dispatch,g=n.pending,v=t.memoizedState;if(g!==null){n.pending=null;var w=g=g.next;do v=e(v,w.action),w=w.next;while(w!==g);Tt(v,t.memoizedState)||(qe=!0),t.memoizedState=v,t.baseQueue===null&&(t.baseState=v),n.lastRenderedState=v}return[v,a]}function Eh(){}function kh(e,t){var n=Te,a=gt(),g=t(),v=!Tt(a.memoizedState,g);if(v&&(a.memoizedState=g,qe=!0),a=a.queue,Bl(jh.bind(null,n,a,e),[e]),a.getSnapshot!==t||v||Fe!==null&&Fe.memoizedState.tag&1){if(n.flags|=2048,yi(9,Mh.bind(null,n,a,g,t),void 0,null),Re===null)throw Error(re(349));In&30||Ph(n,t,g)}return g}function Ph(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mh(e,t,n,a){t.value=n,t.getSnapshot=a,Dh(t)&&Ah(e)}function jh(e,t,n){return n(function(){Dh(t)&&Ah(e)})}function Dh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Tt(e,n)}catch{return!0}}function Ah(e){var t=Xt(e,1);t!==null&&St(t,e,1,-1)}function fc(e){var t=Et();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vi,lastRenderedState:e},t.queue=e,e=e.dispatch=cv.bind(null,Te,e),[t.memoizedState,e]}function yi(e,t,n,a){return e={tag:e,create:t,destroy:n,deps:a,next:null},t=Te.updateQueue,t===null?(t={lastEffect:null,stores:null},Te.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(a=n.next,n.next=e,e.next=a,t.lastEffect=e)),e}function Fh(){return gt().memoizedState}function fo(e,t,n,a){var g=Et();Te.flags|=e,g.memoizedState=yi(1|t,n,void 0,a===void 0?null:a)}function rs(e,t,n,a){var g=gt();a=a===void 0?null:a;var v=void 0;if(De!==null){var w=De.memoizedState;if(v=w.destroy,a!==null&&Ll(a,w.deps)){g.memoizedState=yi(t,n,v,a);return}}Te.flags|=e,g.memoizedState=yi(1|t,n,v,a)}function hc(e,t){return fo(8390656,8,e,t)}function Bl(e,t){return rs(2048,8,e,t)}function Rh(e,t){return rs(4,2,e,t)}function Lh(e,t){return rs(4,4,e,t)}function Ih(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Nh(e,t,n){return n=n!=null?n.concat([e]):null,rs(4,4,Ih.bind(null,t,e),n)}function zl(){}function Bh(e,t){var n=gt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Ll(t,a[1])?a[0]:(n.memoizedState=[e,t],e)}function zh(e,t){var n=gt();t=t===void 0?null:t;var a=n.memoizedState;return a!==null&&t!==null&&Ll(t,a[1])?a[0]:(e=e(),n.memoizedState=[e,t],e)}function Wh(e,t,n){return In&21?(Tt(n,t)||(n=Vf(),Te.lanes|=n,Nn|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,qe=!0),e.memoizedState=n)}function lv(e,t){var n=ye;ye=n!==0&&4>n?n:4,e(!0);var a=Ns.transition;Ns.transition={};try{e(!1),t()}finally{ye=n,Ns.transition=a}}function Hh(){return gt().memoizedState}function uv(e,t,n){var a=pn(e);if(n={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null},Uh(e))Xh(t,n);else if(n=Th(e,t,n,a),n!==null){var g=$e();St(n,e,a,g),Yh(n,t,a)}}function cv(e,t,n){var a=pn(e),g={lane:a,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uh(e))Xh(t,g);else{var v=e.alternate;if(e.lanes===0&&(v===null||v.lanes===0)&&(v=t.lastRenderedReducer,v!==null))try{var w=t.lastRenderedState,h=v(w,n);if(g.hasEagerState=!0,g.eagerState=h,Tt(h,w)){var r=t.interleaved;r===null?(g.next=g,jl(t)):(g.next=r.next,r.next=g),t.interleaved=g;return}}catch{}finally{}n=Th(e,t,g,a),n!==null&&(g=$e(),St(n,e,a,g),Yh(n,t,a))}}function Uh(e){var t=e.alternate;return e===Te||t!==null&&t===Te}function Xh(e,t){Kr=Lo=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yh(e,t,n){if(n&4194240){var a=t.lanes;a&=e.pendingLanes,n|=a,t.lanes=n,vl(e,n)}}var Io={readContext:pt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},fv={readContext:pt,useCallback:function(e,t){return Et().memoizedState=[e,t===void 0?null:t],e},useContext:pt,useEffect:hc,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,fo(4194308,4,Ih.bind(null,t,e),n)},useLayoutEffect:function(e,t){return fo(4194308,4,e,t)},useInsertionEffect:function(e,t){return fo(4,2,e,t)},useMemo:function(e,t){var n=Et();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var a=Et();return t=n!==void 0?n(t):t,a.memoizedState=a.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},a.queue=e,e=e.dispatch=uv.bind(null,Te,e),[a.memoizedState,e]},useRef:function(e){var t=Et();return e={current:e},t.memoizedState=e},useState:fc,useDebugValue:zl,useDeferredValue:function(e){return Et().memoizedState=e},useTransition:function(){var e=fc(!1),t=e[0];return e=lv.bind(null,e[1]),Et().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var a=Te,g=Et();if(_e){if(n===void 0)throw Error(re(407));n=n()}else{if(n=t(),Re===null)throw Error(re(349));In&30||Ph(a,t,n)}g.memoizedState=n;var v={value:n,getSnapshot:t};return g.queue=v,hc(jh.bind(null,a,v,e),[e]),a.flags|=2048,yi(9,Mh.bind(null,a,v,n,t),void 0,null),n},useId:function(){var e=Et(),t=Re.identifierPrefix;if(_e){var n=Nt,a=It;n=(a&~(1<<32-_t(a)-1)).toString(32)+n,t=":"+t+"R"+n,n=mi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=av++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},hv={readContext:pt,useCallback:Bh,useContext:pt,useEffect:Bl,useImperativeHandle:Nh,useInsertionEffect:Rh,useLayoutEffect:Lh,useMemo:zh,useReducer:Bs,useRef:Fh,useState:function(){return Bs(vi)},useDebugValue:zl,useDeferredValue:function(e){var t=gt();return Wh(t,De.memoizedState,e)},useTransition:function(){var e=Bs(vi)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Eh,useSyncExternalStore:kh,useId:Hh,unstable_isNewReconciler:!1},dv={readContext:pt,useCallback:Bh,useContext:pt,useEffect:Bl,useImperativeHandle:Nh,useInsertionEffect:Rh,useLayoutEffect:Lh,useMemo:zh,useReducer:zs,useRef:Fh,useState:function(){return zs(vi)},useDebugValue:zl,useDeferredValue:function(e){var t=gt();return De===null?t.memoizedState=e:Wh(t,De.memoizedState,e)},useTransition:function(){var e=zs(vi)[0],t=gt().memoizedState;return[e,t]},useMutableSource:Eh,useSyncExternalStore:kh,useId:Hh,unstable_isNewReconciler:!1};function Ct(e,t){if(e&&e.defaultProps){t=Oe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ma(e,t,n,a){t=e.memoizedState,n=n(a,t),n=n==null?t:Oe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var is={isMounted:function(e){return(e=e._reactInternals)?Hn(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var a=$e(),g=pn(e),v=Wt(a,g);v.payload=t,n!=null&&(v.callback=n),t=hn(e,v,g),t!==null&&(St(t,e,g,a),uo(t,e,g))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var a=$e(),g=pn(e),v=Wt(a,g);v.tag=1,v.payload=t,n!=null&&(v.callback=n),t=hn(e,v,g),t!==null&&(St(t,e,g,a),uo(t,e,g))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=$e(),a=pn(e),g=Wt(n,a);g.tag=2,t!=null&&(g.callback=t),t=hn(e,g,a),t!==null&&(St(t,e,a,n),uo(t,e,a))}};function dc(e,t,n,a,g,v,w){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(a,v,w):t.prototype&&t.prototype.isPureReactComponent?!ci(n,a)||!ci(g,v):!0}function Vh(e,t,n){var a=!1,g=vn,v=t.contextType;return typeof v=="object"&&v!==null?v=pt(v):(g=Ze(t)?Rn:Ue.current,a=t.contextTypes,v=(a=a!=null)?fr(e,g):vn),t=new t(n,v),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=is,e.stateNode=t,t._reactInternals=e,a&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=g,e.__reactInternalMemoizedMaskedChildContext=v),t}function pc(e,t,n,a){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,a),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,a),t.state!==e&&is.enqueueReplaceState(t,t.state,null)}function ja(e,t,n,a){var g=e.stateNode;g.props=n,g.state=e.memoizedState,g.refs={},Dl(e);var v=t.contextType;typeof v=="object"&&v!==null?g.context=pt(v):(v=Ze(t)?Rn:Ue.current,g.context=fr(e,v)),g.state=e.memoizedState,v=t.getDerivedStateFromProps,typeof v=="function"&&(Ma(e,t,v,n),g.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(t=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),t!==g.state&&is.enqueueReplaceState(g,g.state,null),Fo(e,n,g,a),g.state=e.memoizedState),typeof g.componentDidMount=="function"&&(e.flags|=4194308)}function gr(e,t){try{var n="",a=t;do n+=Wg(a),a=a.return;while(a);var g=n}catch(v){g=`
Error generating stack: `+v.message+`
`+v.stack}return{value:e,source:t,stack:g,digest:null}}function Ws(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Da(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pv=typeof WeakMap=="function"?WeakMap:Map;function $h(e,t,n){n=Wt(-1,n),n.tag=3,n.payload={element:null};var a=t.value;return n.callback=function(){Bo||(Bo=!0,Ha=a),Da(e,t)},n}function Gh(e,t,n){n=Wt(-1,n),n.tag=3;var a=e.type.getDerivedStateFromError;if(typeof a=="function"){var g=t.value;n.payload=function(){return a(g)},n.callback=function(){Da(e,t)}}var v=e.stateNode;return v!==null&&typeof v.componentDidCatch=="function"&&(n.callback=function(){Da(e,t),typeof a!="function"&&(dn===null?dn=new Set([this]):dn.add(this));var w=t.stack;this.componentDidCatch(t.value,{componentStack:w!==null?w:""})}),n}function gc(e,t,n){var a=e.pingCache;if(a===null){a=e.pingCache=new pv;var g=new Set;a.set(t,g)}else g=a.get(t),g===void 0&&(g=new Set,a.set(t,g));g.has(n)||(g.add(n),e=kv.bind(null,e,t,n),t.then(e,e))}function mc(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function vc(e,t,n,a,g){return e.mode&1?(e.flags|=65536,e.lanes=g,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=Wt(-1,1),t.tag=2,hn(n,t,1))),n.lanes|=1),e)}var gv=Gt.ReactCurrentOwner,qe=!1;function Xe(e,t,n,a){t.child=e===null?Sh(t,null,n,a):dr(t,e.child,n,a)}function yc(e,t,n,a,g){n=n.render;var v=t.ref;return lr(t,g),a=Il(e,t,n,a,v,g),n=Nl(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,Yt(e,t,g)):(_e&&n&&Ol(t),t.flags|=1,Xe(e,t,a,g),t.child)}function Cc(e,t,n,a,g){if(e===null){var v=n.type;return typeof v=="function"&&!Gl(v)&&v.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=v,Kh(e,t,v,a,g)):(e=mo(n.type,null,a,t,t.mode,g),e.ref=t.ref,e.return=t,t.child=e)}if(v=e.child,!(e.lanes&g)){var w=v.memoizedProps;if(n=n.compare,n=n!==null?n:ci,n(w,a)&&e.ref===t.ref)return Yt(e,t,g)}return t.flags|=1,e=gn(v,a),e.ref=t.ref,e.return=t,t.child=e}function Kh(e,t,n,a,g){if(e!==null){var v=e.memoizedProps;if(ci(v,a)&&e.ref===t.ref)if(qe=!1,t.pendingProps=a=v,(e.lanes&g)!==0)e.flags&131072&&(qe=!0);else return t.lanes=e.lanes,Yt(e,t,g)}return Aa(e,t,n,a,g)}function Qh(e,t,n){var a=t.pendingProps,g=a.children,v=e!==null?e.memoizedState:null;if(a.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ce(rr,rt),rt|=n;else{if(!(n&1073741824))return e=v!==null?v.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Ce(rr,rt),rt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},a=v!==null?v.baseLanes:n,Ce(rr,rt),rt|=a}else v!==null?(a=v.baseLanes|n,t.memoizedState=null):a=n,Ce(rr,rt),rt|=a;return Xe(e,t,g,n),t.child}function qh(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Aa(e,t,n,a,g){var v=Ze(n)?Rn:Ue.current;return v=fr(t,v),lr(t,g),n=Il(e,t,n,a,v,g),a=Nl(),e!==null&&!qe?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~g,Yt(e,t,g)):(_e&&a&&Ol(t),t.flags|=1,Xe(e,t,n,g),t.child)}function wc(e,t,n,a,g){if(Ze(n)){var v=!0;Po(t)}else v=!1;if(lr(t,g),t.stateNode===null)ho(e,t),Vh(t,n,a),ja(t,n,a,g),a=!0;else if(e===null){var w=t.stateNode,h=t.memoizedProps;w.props=h;var r=w.context,c=n.contextType;typeof c=="object"&&c!==null?c=pt(c):(c=Ze(n)?Rn:Ue.current,c=fr(t,c));var f=n.getDerivedStateFromProps,i=typeof f=="function"||typeof w.getSnapshotBeforeUpdate=="function";i||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(h!==a||r!==c)&&pc(t,w,a,c),Jt=!1;var s=t.memoizedState;w.state=s,Fo(t,a,w,g),r=t.memoizedState,h!==a||s!==r||Je.current||Jt?(typeof f=="function"&&(Ma(t,n,f,a),r=t.memoizedState),(h=Jt||dc(t,n,h,a,s,r,c))?(i||typeof w.UNSAFE_componentWillMount!="function"&&typeof w.componentWillMount!="function"||(typeof w.componentWillMount=="function"&&w.componentWillMount(),typeof w.UNSAFE_componentWillMount=="function"&&w.UNSAFE_componentWillMount()),typeof w.componentDidMount=="function"&&(t.flags|=4194308)):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=a,t.memoizedState=r),w.props=a,w.state=r,w.context=c,a=h):(typeof w.componentDidMount=="function"&&(t.flags|=4194308),a=!1)}else{w=t.stateNode,Oh(e,t),h=t.memoizedProps,c=t.type===t.elementType?h:Ct(t.type,h),w.props=c,i=t.pendingProps,s=w.context,r=n.contextType,typeof r=="object"&&r!==null?r=pt(r):(r=Ze(n)?Rn:Ue.current,r=fr(t,r));var o=n.getDerivedStateFromProps;(f=typeof o=="function"||typeof w.getSnapshotBeforeUpdate=="function")||typeof w.UNSAFE_componentWillReceiveProps!="function"&&typeof w.componentWillReceiveProps!="function"||(h!==i||s!==r)&&pc(t,w,a,r),Jt=!1,s=t.memoizedState,w.state=s,Fo(t,a,w,g);var l=t.memoizedState;h!==i||s!==l||Je.current||Jt?(typeof o=="function"&&(Ma(t,n,o,a),l=t.memoizedState),(c=Jt||dc(t,n,c,a,s,l,r)||!1)?(f||typeof w.UNSAFE_componentWillUpdate!="function"&&typeof w.componentWillUpdate!="function"||(typeof w.componentWillUpdate=="function"&&w.componentWillUpdate(a,l,r),typeof w.UNSAFE_componentWillUpdate=="function"&&w.UNSAFE_componentWillUpdate(a,l,r)),typeof w.componentDidUpdate=="function"&&(t.flags|=4),typeof w.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof w.componentDidUpdate!="function"||h===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&s===e.memoizedState||(t.flags|=1024),t.memoizedProps=a,t.memoizedState=l),w.props=a,w.state=l,w.context=r,a=c):(typeof w.componentDidUpdate!="function"||h===e.memoizedProps&&s===e.memoizedState||(t.flags|=4),typeof w.getSnapshotBeforeUpdate!="function"||h===e.memoizedProps&&s===e.memoizedState||(t.flags|=1024),a=!1)}return Fa(e,t,n,a,v,g)}function Fa(e,t,n,a,g,v){qh(e,t);var w=(t.flags&128)!==0;if(!a&&!w)return g&&oc(t,n,!1),Yt(e,t,v);a=t.stateNode,gv.current=t;var h=w&&typeof n.getDerivedStateFromError!="function"?null:a.render();return t.flags|=1,e!==null&&w?(t.child=dr(t,e.child,null,v),t.child=dr(t,null,h,v)):Xe(e,t,h,v),t.memoizedState=a.state,g&&oc(t,n,!0),t.child}function Jh(e){var t=e.stateNode;t.pendingContext?ic(e,t.pendingContext,t.pendingContext!==t.context):t.context&&ic(e,t.context,!1),Al(e,t.containerInfo)}function xc(e,t,n,a,g){return hr(),El(g),t.flags|=256,Xe(e,t,n,a),t.child}var Ra={dehydrated:null,treeContext:null,retryLane:0};function La(e){return{baseLanes:e,cachePool:null,transitions:null}}function Zh(e,t,n){var a=t.pendingProps,g=Se.current,v=!1,w=(t.flags&128)!==0,h;if((h=w)||(h=e!==null&&e.memoizedState===null?!1:(g&2)!==0),h?(v=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(g|=1),Ce(Se,g&1),e===null)return ka(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(w=a.children,e=a.fallback,v?(a=t.mode,v=t.child,w={mode:"hidden",children:w},!(a&1)&&v!==null?(v.childLanes=0,v.pendingProps=w):v=as(w,a,0,null),e=Dn(e,a,n,null),v.return=t,e.return=t,v.sibling=e,t.child=v,t.child.memoizedState=La(n),t.memoizedState=Ra,e):Wl(t,w));if(g=e.memoizedState,g!==null&&(h=g.dehydrated,h!==null))return mv(e,t,w,a,h,g,n);if(v){v=a.fallback,w=t.mode,g=e.child,h=g.sibling;var r={mode:"hidden",children:a.children};return!(w&1)&&t.child!==g?(a=t.child,a.childLanes=0,a.pendingProps=r,t.deletions=null):(a=gn(g,r),a.subtreeFlags=g.subtreeFlags&14680064),h!==null?v=gn(h,v):(v=Dn(v,w,n,null),v.flags|=2),v.return=t,a.return=t,a.sibling=v,t.child=a,a=v,v=t.child,w=e.child.memoizedState,w=w===null?La(n):{baseLanes:w.baseLanes|n,cachePool:null,transitions:w.transitions},v.memoizedState=w,v.childLanes=e.childLanes&~n,t.memoizedState=Ra,a}return v=e.child,e=v.sibling,a=gn(v,{mode:"visible",children:a.children}),!(t.mode&1)&&(a.lanes=n),a.return=t,a.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Wl(e,t){return t=as({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function $i(e,t,n,a){return a!==null&&El(a),dr(t,e.child,null,n),e=Wl(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function mv(e,t,n,a,g,v,w){if(n)return t.flags&256?(t.flags&=-257,a=Ws(Error(re(422))),$i(e,t,w,a)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(v=a.fallback,g=t.mode,a=as({mode:"visible",children:a.children},g,0,null),v=Dn(v,g,w,null),v.flags|=2,a.return=t,v.return=t,a.sibling=v,t.child=a,t.mode&1&&dr(t,e.child,null,w),t.child.memoizedState=La(w),t.memoizedState=Ra,v);if(!(t.mode&1))return $i(e,t,w,null);if(g.data==="$!"){if(a=g.nextSibling&&g.nextSibling.dataset,a)var h=a.dgst;return a=h,v=Error(re(419)),a=Ws(v,a,void 0),$i(e,t,w,a)}if(h=(w&e.childLanes)!==0,qe||h){if(a=Re,a!==null){switch(w&-w){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=g&(a.suspendedLanes|w)?0:g,g!==0&&g!==v.retryLane&&(v.retryLane=g,Xt(e,g),St(a,e,g,-1))}return $l(),a=Ws(Error(re(421))),$i(e,t,w,a)}return g.data==="$?"?(t.flags|=128,t.child=e.child,t=Pv.bind(null,e),g._reactRetry=t,null):(e=v.treeContext,it=fn(g.nextSibling),ot=t,_e=!0,xt=null,e!==null&&(ct[ft++]=It,ct[ft++]=Nt,ct[ft++]=Ln,It=e.id,Nt=e.overflow,Ln=t),t=Wl(t,a.children),t.flags|=4096,t)}function _c(e,t,n){e.lanes|=t;var a=e.alternate;a!==null&&(a.lanes|=t),Pa(e.return,t,n)}function Hs(e,t,n,a,g){var v=e.memoizedState;v===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:a,tail:n,tailMode:g}:(v.isBackwards=t,v.rendering=null,v.renderingStartTime=0,v.last=a,v.tail=n,v.tailMode=g)}function ed(e,t,n){var a=t.pendingProps,g=a.revealOrder,v=a.tail;if(Xe(e,t,a.children,n),a=Se.current,a&2)a=a&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&_c(e,n,t);else if(e.tag===19)_c(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}a&=1}if(Ce(Se,a),!(t.mode&1))t.memoizedState=null;else switch(g){case"forwards":for(n=t.child,g=null;n!==null;)e=n.alternate,e!==null&&Ro(e)===null&&(g=n),n=n.sibling;n=g,n===null?(g=t.child,t.child=null):(g=n.sibling,n.sibling=null),Hs(t,!1,g,n,v);break;case"backwards":for(n=null,g=t.child,t.child=null;g!==null;){if(e=g.alternate,e!==null&&Ro(e)===null){t.child=g;break}e=g.sibling,g.sibling=n,n=g,g=e}Hs(t,!0,n,null,v);break;case"together":Hs(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function ho(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Yt(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Nn|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(re(153));if(t.child!==null){for(e=t.child,n=gn(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=gn(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function vv(e,t,n){switch(t.tag){case 3:Jh(t),hr();break;case 5:bh(t);break;case 1:Ze(t.type)&&Po(t);break;case 4:Al(t,t.stateNode.containerInfo);break;case 10:var a=t.type._context,g=t.memoizedProps.value;Ce(Do,a._currentValue),a._currentValue=g;break;case 13:if(a=t.memoizedState,a!==null)return a.dehydrated!==null?(Ce(Se,Se.current&1),t.flags|=128,null):n&t.child.childLanes?Zh(e,t,n):(Ce(Se,Se.current&1),e=Yt(e,t,n),e!==null?e.sibling:null);Ce(Se,Se.current&1);break;case 19:if(a=(n&t.childLanes)!==0,e.flags&128){if(a)return ed(e,t,n);t.flags|=128}if(g=t.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),Ce(Se,Se.current),a)break;return null;case 22:case 23:return t.lanes=0,Qh(e,t,n)}return Yt(e,t,n)}var td,Ia,nd,rd;td=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Ia=function(){};nd=function(e,t,n,a){var g=e.memoizedProps;if(g!==a){e=t.stateNode,Pn(jt.current);var v=null;switch(n){case"input":g=oa(e,g),a=oa(e,a),v=[];break;case"select":g=Oe({},g,{value:void 0}),a=Oe({},a,{value:void 0}),v=[];break;case"textarea":g=la(e,g),a=la(e,a),v=[];break;default:typeof g.onClick!="function"&&typeof a.onClick=="function"&&(e.onclick=Eo)}ca(n,a);var w;n=null;for(c in g)if(!a.hasOwnProperty(c)&&g.hasOwnProperty(c)&&g[c]!=null)if(c==="style"){var h=g[c];for(w in h)h.hasOwnProperty(w)&&(n||(n={}),n[w]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ri.hasOwnProperty(c)?v||(v=[]):(v=v||[]).push(c,null));for(c in a){var r=a[c];if(h=g!=null?g[c]:void 0,a.hasOwnProperty(c)&&r!==h&&(r!=null||h!=null))if(c==="style")if(h){for(w in h)!h.hasOwnProperty(w)||r&&r.hasOwnProperty(w)||(n||(n={}),n[w]="");for(w in r)r.hasOwnProperty(w)&&h[w]!==r[w]&&(n||(n={}),n[w]=r[w])}else n||(v||(v=[]),v.push(c,n)),n=r;else c==="dangerouslySetInnerHTML"?(r=r?r.__html:void 0,h=h?h.__html:void 0,r!=null&&h!==r&&(v=v||[]).push(c,r)):c==="children"?typeof r!="string"&&typeof r!="number"||(v=v||[]).push(c,""+r):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ri.hasOwnProperty(c)?(r!=null&&c==="onScroll"&&we("scroll",e),v||h===r||(v=[])):(v=v||[]).push(c,r))}n&&(v=v||[]).push("style",n);var c=v;(t.updateQueue=c)&&(t.flags|=4)}};rd=function(e,t,n,a){n!==a&&(t.flags|=4)};function Fr(e,t){if(!_e)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:a.sibling=null}}function ze(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,a=0;if(t)for(var g=e.child;g!==null;)n|=g.lanes|g.childLanes,a|=g.subtreeFlags&14680064,a|=g.flags&14680064,g.return=e,g=g.sibling;else for(g=e.child;g!==null;)n|=g.lanes|g.childLanes,a|=g.subtreeFlags,a|=g.flags,g.return=e,g=g.sibling;return e.subtreeFlags|=a,e.childLanes=n,t}function yv(e,t,n){var a=t.pendingProps;switch(bl(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ze(t),null;case 1:return Ze(t.type)&&ko(),ze(t),null;case 3:return a=t.stateNode,pr(),xe(Je),xe(Ue),Rl(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(Yi(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,xt!==null&&(Ya(xt),xt=null))),Ia(e,t),ze(t),null;case 5:Fl(t);var g=Pn(gi.current);if(n=t.type,e!==null&&t.stateNode!=null)nd(e,t,n,a,g),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!a){if(t.stateNode===null)throw Error(re(166));return ze(t),null}if(e=Pn(jt.current),Yi(t)){a=t.stateNode,n=t.type;var v=t.memoizedProps;switch(a[Pt]=t,a[di]=v,e=(t.mode&1)!==0,n){case"dialog":we("cancel",a),we("close",a);break;case"iframe":case"object":case"embed":we("load",a);break;case"video":case"audio":for(g=0;g<Hr.length;g++)we(Hr[g],a);break;case"source":we("error",a);break;case"img":case"image":case"link":we("error",a),we("load",a);break;case"details":we("toggle",a);break;case"input":ju(a,v),we("invalid",a);break;case"select":a._wrapperState={wasMultiple:!!v.multiple},we("invalid",a);break;case"textarea":Au(a,v),we("invalid",a)}ca(n,v),g=null;for(var w in v)if(v.hasOwnProperty(w)){var h=v[w];w==="children"?typeof h=="string"?a.textContent!==h&&(v.suppressHydrationWarning!==!0&&Xi(a.textContent,h,e),g=["children",h]):typeof h=="number"&&a.textContent!==""+h&&(v.suppressHydrationWarning!==!0&&Xi(a.textContent,h,e),g=["children",""+h]):ri.hasOwnProperty(w)&&h!=null&&w==="onScroll"&&we("scroll",a)}switch(n){case"input":Li(a),Du(a,v,!0);break;case"textarea":Li(a),Fu(a);break;case"select":case"option":break;default:typeof v.onClick=="function"&&(a.onclick=Eo)}a=g,t.updateQueue=a,a!==null&&(t.flags|=4)}else{w=g.nodeType===9?g:g.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=jf(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=w.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof a.is=="string"?e=w.createElement(n,{is:a.is}):(e=w.createElement(n),n==="select"&&(w=e,a.multiple?w.multiple=!0:a.size&&(w.size=a.size))):e=w.createElementNS(e,n),e[Pt]=t,e[di]=a,td(e,t,!1,!1),t.stateNode=e;e:{switch(w=fa(n,a),n){case"dialog":we("cancel",e),we("close",e),g=a;break;case"iframe":case"object":case"embed":we("load",e),g=a;break;case"video":case"audio":for(g=0;g<Hr.length;g++)we(Hr[g],e);g=a;break;case"source":we("error",e),g=a;break;case"img":case"image":case"link":we("error",e),we("load",e),g=a;break;case"details":we("toggle",e),g=a;break;case"input":ju(e,a),g=oa(e,a),we("invalid",e);break;case"option":g=a;break;case"select":e._wrapperState={wasMultiple:!!a.multiple},g=Oe({},a,{value:void 0}),we("invalid",e);break;case"textarea":Au(e,a),g=la(e,a),we("invalid",e);break;default:g=a}ca(n,g),h=g;for(v in h)if(h.hasOwnProperty(v)){var r=h[v];v==="style"?Ff(e,r):v==="dangerouslySetInnerHTML"?(r=r?r.__html:void 0,r!=null&&Df(e,r)):v==="children"?typeof r=="string"?(n!=="textarea"||r!=="")&&ii(e,r):typeof r=="number"&&ii(e,""+r):v!=="suppressContentEditableWarning"&&v!=="suppressHydrationWarning"&&v!=="autoFocus"&&(ri.hasOwnProperty(v)?r!=null&&v==="onScroll"&&we("scroll",e):r!=null&&fl(e,v,r,w))}switch(n){case"input":Li(e),Du(e,a,!1);break;case"textarea":Li(e),Fu(e);break;case"option":a.value!=null&&e.setAttribute("value",""+mn(a.value));break;case"select":e.multiple=!!a.multiple,v=a.value,v!=null?ir(e,!!a.multiple,v,!1):a.defaultValue!=null&&ir(e,!!a.multiple,a.defaultValue,!0);break;default:typeof g.onClick=="function"&&(e.onclick=Eo)}switch(n){case"button":case"input":case"select":case"textarea":a=!!a.autoFocus;break e;case"img":a=!0;break e;default:a=!1}}a&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ze(t),null;case 6:if(e&&t.stateNode!=null)rd(e,t,e.memoizedProps,a);else{if(typeof a!="string"&&t.stateNode===null)throw Error(re(166));if(n=Pn(gi.current),Pn(jt.current),Yi(t)){if(a=t.stateNode,n=t.memoizedProps,a[Pt]=t,(v=a.nodeValue!==n)&&(e=ot,e!==null))switch(e.tag){case 3:Xi(a.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Xi(a.nodeValue,n,(e.mode&1)!==0)}v&&(t.flags|=4)}else a=(n.nodeType===9?n:n.ownerDocument).createTextNode(a),a[Pt]=t,t.stateNode=a}return ze(t),null;case 13:if(xe(Se),a=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(_e&&it!==null&&t.mode&1&&!(t.flags&128))xh(),hr(),t.flags|=98560,v=!1;else if(v=Yi(t),a!==null&&a.dehydrated!==null){if(e===null){if(!v)throw Error(re(318));if(v=t.memoizedState,v=v!==null?v.dehydrated:null,!v)throw Error(re(317));v[Pt]=t}else hr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ze(t),v=!1}else xt!==null&&(Ya(xt),xt=null),v=!0;if(!v)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(a=a!==null,a!==(e!==null&&e.memoizedState!==null)&&a&&(t.child.flags|=8192,t.mode&1&&(e===null||Se.current&1?Ae===0&&(Ae=3):$l())),t.updateQueue!==null&&(t.flags|=4),ze(t),null);case 4:return pr(),Ia(e,t),e===null&&fi(t.stateNode.containerInfo),ze(t),null;case 10:return Ml(t.type._context),ze(t),null;case 17:return Ze(t.type)&&ko(),ze(t),null;case 19:if(xe(Se),v=t.memoizedState,v===null)return ze(t),null;if(a=(t.flags&128)!==0,w=v.rendering,w===null)if(a)Fr(v,!1);else{if(Ae!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(w=Ro(e),w!==null){for(t.flags|=128,Fr(v,!1),a=w.updateQueue,a!==null&&(t.updateQueue=a,t.flags|=4),t.subtreeFlags=0,a=n,n=t.child;n!==null;)v=n,e=a,v.flags&=14680066,w=v.alternate,w===null?(v.childLanes=0,v.lanes=e,v.child=null,v.subtreeFlags=0,v.memoizedProps=null,v.memoizedState=null,v.updateQueue=null,v.dependencies=null,v.stateNode=null):(v.childLanes=w.childLanes,v.lanes=w.lanes,v.child=w.child,v.subtreeFlags=0,v.deletions=null,v.memoizedProps=w.memoizedProps,v.memoizedState=w.memoizedState,v.updateQueue=w.updateQueue,v.type=w.type,e=w.dependencies,v.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Ce(Se,Se.current&1|2),t.child}e=e.sibling}v.tail!==null&&Pe()>mr&&(t.flags|=128,a=!0,Fr(v,!1),t.lanes=4194304)}else{if(!a)if(e=Ro(w),e!==null){if(t.flags|=128,a=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Fr(v,!0),v.tail===null&&v.tailMode==="hidden"&&!w.alternate&&!_e)return ze(t),null}else 2*Pe()-v.renderingStartTime>mr&&n!==1073741824&&(t.flags|=128,a=!0,Fr(v,!1),t.lanes=4194304);v.isBackwards?(w.sibling=t.child,t.child=w):(n=v.last,n!==null?n.sibling=w:t.child=w,v.last=w)}return v.tail!==null?(t=v.tail,v.rendering=t,v.tail=t.sibling,v.renderingStartTime=Pe(),t.sibling=null,n=Se.current,Ce(Se,a?n&1|2:n&1),t):(ze(t),null);case 22:case 23:return Vl(),a=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==a&&(t.flags|=8192),a&&t.mode&1?rt&1073741824&&(ze(t),t.subtreeFlags&6&&(t.flags|=8192)):ze(t),null;case 24:return null;case 25:return null}throw Error(re(156,t.tag))}function Cv(e,t){switch(bl(t),t.tag){case 1:return Ze(t.type)&&ko(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return pr(),xe(Je),xe(Ue),Rl(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Fl(t),null;case 13:if(xe(Se),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(re(340));hr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(Se),null;case 4:return pr(),null;case 10:return Ml(t.type._context),null;case 22:case 23:return Vl(),null;case 24:return null;default:return null}}var Gi=!1,He=!1,wv=typeof WeakSet=="function"?WeakSet:Set,se=null;function nr(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(a){be(e,t,a)}else n.current=null}function Na(e,t,n){try{n()}catch(a){be(e,t,a)}}var Sc=!1;function xv(e,t){if(xa=To,e=lh(),Tl(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var a=n.getSelection&&n.getSelection();if(a&&a.rangeCount!==0){n=a.anchorNode;var g=a.anchorOffset,v=a.focusNode;a=a.focusOffset;try{n.nodeType,v.nodeType}catch{n=null;break e}var w=0,h=-1,r=-1,c=0,f=0,i=e,s=null;t:for(;;){for(var o;i!==n||g!==0&&i.nodeType!==3||(h=w+g),i!==v||a!==0&&i.nodeType!==3||(r=w+a),i.nodeType===3&&(w+=i.nodeValue.length),(o=i.firstChild)!==null;)s=i,i=o;for(;;){if(i===e)break t;if(s===n&&++c===g&&(h=w),s===v&&++f===a&&(r=w),(o=i.nextSibling)!==null)break;i=s,s=i.parentNode}i=o}n=h===-1||r===-1?null:{start:h,end:r}}else n=null}n=n||{start:0,end:0}}else n=null;for(_a={focusedElem:e,selectionRange:n},To=!1,se=t;se!==null;)if(t=se,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,se=e;else for(;se!==null;){t=se;try{var l=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(l!==null){var d=l.memoizedProps,u=l.memoizedState,p=t.stateNode,m=p.getSnapshotBeforeUpdate(t.elementType===t.type?d:Ct(t.type,d),u);p.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var y=t.stateNode.containerInfo;y.nodeType===1?y.textContent="":y.nodeType===9&&y.documentElement&&y.removeChild(y.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(C){be(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,se=e;break}se=t.return}return l=Sc,Sc=!1,l}function Qr(e,t,n){var a=t.updateQueue;if(a=a!==null?a.lastEffect:null,a!==null){var g=a=a.next;do{if((g.tag&e)===e){var v=g.destroy;g.destroy=void 0,v!==void 0&&Na(t,n,v)}g=g.next}while(g!==a)}}function os(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var a=n.create;n.destroy=a()}n=n.next}while(n!==t)}}function Ba(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function id(e){var t=e.alternate;t!==null&&(e.alternate=null,id(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Pt],delete t[di],delete t[Oa],delete t[rv],delete t[iv])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function od(e){return e.tag===5||e.tag===3||e.tag===4}function Tc(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||od(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function za(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Eo));else if(a!==4&&(e=e.child,e!==null))for(za(e,t,n),e=e.sibling;e!==null;)za(e,t,n),e=e.sibling}function Wa(e,t,n){var a=e.tag;if(a===5||a===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(a!==4&&(e=e.child,e!==null))for(Wa(e,t,n),e=e.sibling;e!==null;)Wa(e,t,n),e=e.sibling}var Le=null,wt=!1;function Qt(e,t,n){for(n=n.child;n!==null;)sd(e,t,n),n=n.sibling}function sd(e,t,n){if(Mt&&typeof Mt.onCommitFiberUnmount=="function")try{Mt.onCommitFiberUnmount(qo,n)}catch{}switch(n.tag){case 5:He||nr(n,t);case 6:var a=Le,g=wt;Le=null,Qt(e,t,n),Le=a,wt=g,Le!==null&&(wt?(e=Le,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Le.removeChild(n.stateNode));break;case 18:Le!==null&&(wt?(e=Le,n=n.stateNode,e.nodeType===8?Rs(e.parentNode,n):e.nodeType===1&&Rs(e,n),li(e)):Rs(Le,n.stateNode));break;case 4:a=Le,g=wt,Le=n.stateNode.containerInfo,wt=!0,Qt(e,t,n),Le=a,wt=g;break;case 0:case 11:case 14:case 15:if(!He&&(a=n.updateQueue,a!==null&&(a=a.lastEffect,a!==null))){g=a=a.next;do{var v=g,w=v.destroy;v=v.tag,w!==void 0&&(v&2||v&4)&&Na(n,t,w),g=g.next}while(g!==a)}Qt(e,t,n);break;case 1:if(!He&&(nr(n,t),a=n.stateNode,typeof a.componentWillUnmount=="function"))try{a.props=n.memoizedProps,a.state=n.memoizedState,a.componentWillUnmount()}catch(h){be(n,t,h)}Qt(e,t,n);break;case 21:Qt(e,t,n);break;case 22:n.mode&1?(He=(a=He)||n.memoizedState!==null,Qt(e,t,n),He=a):Qt(e,t,n);break;default:Qt(e,t,n)}}function Oc(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new wv),t.forEach(function(a){var g=Mv.bind(null,e,a);n.has(a)||(n.add(a),a.then(g,g))})}}function yt(e,t){var n=t.deletions;if(n!==null)for(var a=0;a<n.length;a++){var g=n[a];try{var v=e,w=t,h=w;e:for(;h!==null;){switch(h.tag){case 5:Le=h.stateNode,wt=!1;break e;case 3:Le=h.stateNode.containerInfo,wt=!0;break e;case 4:Le=h.stateNode.containerInfo,wt=!0;break e}h=h.return}if(Le===null)throw Error(re(160));sd(v,w,g),Le=null,wt=!1;var r=g.alternate;r!==null&&(r.return=null),g.return=null}catch(c){be(g,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)ad(t,e),t=t.sibling}function ad(e,t){var n=e.alternate,a=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(yt(t,e),bt(e),a&4){try{Qr(3,e,e.return),os(3,e)}catch(d){be(e,e.return,d)}try{Qr(5,e,e.return)}catch(d){be(e,e.return,d)}}break;case 1:yt(t,e),bt(e),a&512&&n!==null&&nr(n,n.return);break;case 5:if(yt(t,e),bt(e),a&512&&n!==null&&nr(n,n.return),e.flags&32){var g=e.stateNode;try{ii(g,"")}catch(d){be(e,e.return,d)}}if(a&4&&(g=e.stateNode,g!=null)){var v=e.memoizedProps,w=n!==null?n.memoizedProps:v,h=e.type,r=e.updateQueue;if(e.updateQueue=null,r!==null)try{h==="input"&&v.type==="radio"&&v.name!=null&&Pf(g,v),fa(h,w);var c=fa(h,v);for(w=0;w<r.length;w+=2){var f=r[w],i=r[w+1];f==="style"?Ff(g,i):f==="dangerouslySetInnerHTML"?Df(g,i):f==="children"?ii(g,i):fl(g,f,i,c)}switch(h){case"input":sa(g,v);break;case"textarea":Mf(g,v);break;case"select":var s=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!v.multiple;var o=v.value;o!=null?ir(g,!!v.multiple,o,!1):s!==!!v.multiple&&(v.defaultValue!=null?ir(g,!!v.multiple,v.defaultValue,!0):ir(g,!!v.multiple,v.multiple?[]:"",!1))}g[di]=v}catch(d){be(e,e.return,d)}}break;case 6:if(yt(t,e),bt(e),a&4){if(e.stateNode===null)throw Error(re(162));g=e.stateNode,v=e.memoizedProps;try{g.nodeValue=v}catch(d){be(e,e.return,d)}}break;case 3:if(yt(t,e),bt(e),a&4&&n!==null&&n.memoizedState.isDehydrated)try{li(t.containerInfo)}catch(d){be(e,e.return,d)}break;case 4:yt(t,e),bt(e);break;case 13:yt(t,e),bt(e),g=e.child,g.flags&8192&&(v=g.memoizedState!==null,g.stateNode.isHidden=v,!v||g.alternate!==null&&g.alternate.memoizedState!==null||(Xl=Pe())),a&4&&Oc(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(He=(c=He)||f,yt(t,e),He=c):yt(t,e),bt(e),a&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(se=e,f=e.child;f!==null;){for(i=se=f;se!==null;){switch(s=se,o=s.child,s.tag){case 0:case 11:case 14:case 15:Qr(4,s,s.return);break;case 1:nr(s,s.return);var l=s.stateNode;if(typeof l.componentWillUnmount=="function"){a=s,n=s.return;try{t=a,l.props=t.memoizedProps,l.state=t.memoizedState,l.componentWillUnmount()}catch(d){be(a,n,d)}}break;case 5:nr(s,s.return);break;case 22:if(s.memoizedState!==null){Ec(i);continue}}o!==null?(o.return=s,se=o):Ec(i)}f=f.sibling}e:for(f=null,i=e;;){if(i.tag===5){if(f===null){f=i;try{g=i.stateNode,c?(v=g.style,typeof v.setProperty=="function"?v.setProperty("display","none","important"):v.display="none"):(h=i.stateNode,r=i.memoizedProps.style,w=r!=null&&r.hasOwnProperty("display")?r.display:null,h.style.display=Af("display",w))}catch(d){be(e,e.return,d)}}}else if(i.tag===6){if(f===null)try{i.stateNode.nodeValue=c?"":i.memoizedProps}catch(d){be(e,e.return,d)}}else if((i.tag!==22&&i.tag!==23||i.memoizedState===null||i===e)&&i.child!==null){i.child.return=i,i=i.child;continue}if(i===e)break e;for(;i.sibling===null;){if(i.return===null||i.return===e)break e;f===i&&(f=null),i=i.return}f===i&&(f=null),i.sibling.return=i.return,i=i.sibling}}break;case 19:yt(t,e),bt(e),a&4&&Oc(e);break;case 21:break;default:yt(t,e),bt(e)}}function bt(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(od(n)){var a=n;break e}n=n.return}throw Error(re(160))}switch(a.tag){case 5:var g=a.stateNode;a.flags&32&&(ii(g,""),a.flags&=-33);var v=Tc(e);Wa(e,v,g);break;case 3:case 4:var w=a.stateNode.containerInfo,h=Tc(e);za(e,h,w);break;default:throw Error(re(161))}}catch(r){be(e,e.return,r)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function _v(e,t,n){se=e,ld(e)}function ld(e,t,n){for(var a=(e.mode&1)!==0;se!==null;){var g=se,v=g.child;if(g.tag===22&&a){var w=g.memoizedState!==null||Gi;if(!w){var h=g.alternate,r=h!==null&&h.memoizedState!==null||He;h=Gi;var c=He;if(Gi=w,(He=r)&&!c)for(se=g;se!==null;)w=se,r=w.child,w.tag===22&&w.memoizedState!==null?kc(g):r!==null?(r.return=w,se=r):kc(g);for(;v!==null;)se=v,ld(v),v=v.sibling;se=g,Gi=h,He=c}bc(e)}else g.subtreeFlags&8772&&v!==null?(v.return=g,se=v):bc(e)}}function bc(e){for(;se!==null;){var t=se;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||os(5,t);break;case 1:var a=t.stateNode;if(t.flags&4&&!He)if(n===null)a.componentDidMount();else{var g=t.elementType===t.type?n.memoizedProps:Ct(t.type,n.memoizedProps);a.componentDidUpdate(g,n.memoizedState,a.__reactInternalSnapshotBeforeUpdate)}var v=t.updateQueue;v!==null&&cc(t,v,a);break;case 3:var w=t.updateQueue;if(w!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}cc(t,w,n)}break;case 5:var h=t.stateNode;if(n===null&&t.flags&4){n=h;var r=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":r.autoFocus&&n.focus();break;case"img":r.src&&(n.src=r.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var i=f.dehydrated;i!==null&&li(i)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}He||t.flags&512&&Ba(t)}catch(s){be(t,t.return,s)}}if(t===e){se=null;break}if(n=t.sibling,n!==null){n.return=t.return,se=n;break}se=t.return}}function Ec(e){for(;se!==null;){var t=se;if(t===e){se=null;break}var n=t.sibling;if(n!==null){n.return=t.return,se=n;break}se=t.return}}function kc(e){for(;se!==null;){var t=se;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{os(4,t)}catch(r){be(t,n,r)}break;case 1:var a=t.stateNode;if(typeof a.componentDidMount=="function"){var g=t.return;try{a.componentDidMount()}catch(r){be(t,g,r)}}var v=t.return;try{Ba(t)}catch(r){be(t,v,r)}break;case 5:var w=t.return;try{Ba(t)}catch(r){be(t,w,r)}}}catch(r){be(t,t.return,r)}if(t===e){se=null;break}var h=t.sibling;if(h!==null){h.return=t.return,se=h;break}se=t.return}}var Sv=Math.ceil,No=Gt.ReactCurrentDispatcher,Hl=Gt.ReactCurrentOwner,dt=Gt.ReactCurrentBatchConfig,ve=0,Re=null,je=null,Ie=0,rt=0,rr=wn(0),Ae=0,Ci=null,Nn=0,ss=0,Ul=0,qr=null,Qe=null,Xl=0,mr=1/0,Rt=null,Bo=!1,Ha=null,dn=null,Ki=!1,sn=null,zo=0,Jr=0,Ua=null,po=-1,go=0;function $e(){return ve&6?Pe():po!==-1?po:po=Pe()}function pn(e){return e.mode&1?ve&2&&Ie!==0?Ie&-Ie:sv.transition!==null?(go===0&&(go=Vf()),go):(e=ye,e!==0||(e=window.event,e=e===void 0?16:Zf(e.type)),e):1}function St(e,t,n,a){if(50<Jr)throw Jr=0,Ua=null,Error(re(185));bi(e,n,a),(!(ve&2)||e!==Re)&&(e===Re&&(!(ve&2)&&(ss|=n),Ae===4&&nn(e,Ie)),et(e,a),n===1&&ve===0&&!(t.mode&1)&&(mr=Pe()+500,ns&&xn()))}function et(e,t){var n=e.callbackNode;sm(e,t);var a=So(e,e===Re?Ie:0);if(a===0)n!==null&&Iu(n),e.callbackNode=null,e.callbackPriority=0;else if(t=a&-a,e.callbackPriority!==t){if(n!=null&&Iu(n),t===1)e.tag===0?ov(Pc.bind(null,e)):yh(Pc.bind(null,e)),tv(function(){!(ve&6)&&xn()}),n=null;else{switch($f(a)){case 1:n=ml;break;case 4:n=Xf;break;case 16:n=_o;break;case 536870912:n=Yf;break;default:n=_o}n=md(n,ud.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ud(e,t){if(po=-1,go=0,ve&6)throw Error(re(327));var n=e.callbackNode;if(ur()&&e.callbackNode!==n)return null;var a=So(e,e===Re?Ie:0);if(a===0)return null;if(a&30||a&e.expiredLanes||t)t=Wo(e,a);else{t=a;var g=ve;ve|=2;var v=fd();(Re!==e||Ie!==t)&&(Rt=null,mr=Pe()+500,jn(e,t));do try{bv();break}catch(h){cd(e,h)}while(!0);Pl(),No.current=v,ve=g,je!==null?t=0:(Re=null,Ie=0,t=Ae)}if(t!==0){if(t===2&&(g=ma(e),g!==0&&(a=g,t=Xa(e,g))),t===1)throw n=Ci,jn(e,0),nn(e,a),et(e,Pe()),n;if(t===6)nn(e,a);else{if(g=e.current.alternate,!(a&30)&&!Tv(g)&&(t=Wo(e,a),t===2&&(v=ma(e),v!==0&&(a=v,t=Xa(e,v))),t===1))throw n=Ci,jn(e,0),nn(e,a),et(e,Pe()),n;switch(e.finishedWork=g,e.finishedLanes=a,t){case 0:case 1:throw Error(re(345));case 2:On(e,Qe,Rt);break;case 3:if(nn(e,a),(a&130023424)===a&&(t=Xl+500-Pe(),10<t)){if(So(e,0)!==0)break;if(g=e.suspendedLanes,(g&a)!==a){$e(),e.pingedLanes|=e.suspendedLanes&g;break}e.timeoutHandle=Ta(On.bind(null,e,Qe,Rt),t);break}On(e,Qe,Rt);break;case 4:if(nn(e,a),(a&4194240)===a)break;for(t=e.eventTimes,g=-1;0<a;){var w=31-_t(a);v=1<<w,w=t[w],w>g&&(g=w),a&=~v}if(a=g,a=Pe()-a,a=(120>a?120:480>a?480:1080>a?1080:1920>a?1920:3e3>a?3e3:4320>a?4320:1960*Sv(a/1960))-a,10<a){e.timeoutHandle=Ta(On.bind(null,e,Qe,Rt),a);break}On(e,Qe,Rt);break;case 5:On(e,Qe,Rt);break;default:throw Error(re(329))}}}return et(e,Pe()),e.callbackNode===n?ud.bind(null,e):null}function Xa(e,t){var n=qr;return e.current.memoizedState.isDehydrated&&(jn(e,t).flags|=256),e=Wo(e,t),e!==2&&(t=Qe,Qe=n,t!==null&&Ya(t)),e}function Ya(e){Qe===null?Qe=e:Qe.push.apply(Qe,e)}function Tv(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var a=0;a<n.length;a++){var g=n[a],v=g.getSnapshot;g=g.value;try{if(!Tt(v(),g))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function nn(e,t){for(t&=~Ul,t&=~ss,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_t(t),a=1<<n;e[n]=-1,t&=~a}}function Pc(e){if(ve&6)throw Error(re(327));ur();var t=So(e,0);if(!(t&1))return et(e,Pe()),null;var n=Wo(e,t);if(e.tag!==0&&n===2){var a=ma(e);a!==0&&(t=a,n=Xa(e,a))}if(n===1)throw n=Ci,jn(e,0),nn(e,t),et(e,Pe()),n;if(n===6)throw Error(re(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,On(e,Qe,Rt),et(e,Pe()),null}function Yl(e,t){var n=ve;ve|=1;try{return e(t)}finally{ve=n,ve===0&&(mr=Pe()+500,ns&&xn())}}function Bn(e){sn!==null&&sn.tag===0&&!(ve&6)&&ur();var t=ve;ve|=1;var n=dt.transition,a=ye;try{if(dt.transition=null,ye=1,e)return e()}finally{ye=a,dt.transition=n,ve=t,!(ve&6)&&xn()}}function Vl(){rt=rr.current,xe(rr)}function jn(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,ev(n)),je!==null)for(n=je.return;n!==null;){var a=n;switch(bl(a),a.tag){case 1:a=a.type.childContextTypes,a!=null&&ko();break;case 3:pr(),xe(Je),xe(Ue),Rl();break;case 5:Fl(a);break;case 4:pr();break;case 13:xe(Se);break;case 19:xe(Se);break;case 10:Ml(a.type._context);break;case 22:case 23:Vl()}n=n.return}if(Re=e,je=e=gn(e.current,null),Ie=rt=t,Ae=0,Ci=null,Ul=ss=Nn=0,Qe=qr=null,kn!==null){for(t=0;t<kn.length;t++)if(n=kn[t],a=n.interleaved,a!==null){n.interleaved=null;var g=a.next,v=n.pending;if(v!==null){var w=v.next;v.next=g,a.next=w}n.pending=a}kn=null}return e}function cd(e,t){do{var n=je;try{if(Pl(),co.current=Io,Lo){for(var a=Te.memoizedState;a!==null;){var g=a.queue;g!==null&&(g.pending=null),a=a.next}Lo=!1}if(In=0,Fe=De=Te=null,Kr=!1,mi=0,Hl.current=null,n===null||n.return===null){Ae=1,Ci=t,je=null;break}e:{var v=e,w=n.return,h=n,r=t;if(t=Ie,h.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){var c=r,f=h,i=f.tag;if(!(f.mode&1)&&(i===0||i===11||i===15)){var s=f.alternate;s?(f.updateQueue=s.updateQueue,f.memoizedState=s.memoizedState,f.lanes=s.lanes):(f.updateQueue=null,f.memoizedState=null)}var o=mc(w);if(o!==null){o.flags&=-257,vc(o,w,h,v,t),o.mode&1&&gc(v,c,t),t=o,r=c;var l=t.updateQueue;if(l===null){var d=new Set;d.add(r),t.updateQueue=d}else l.add(r);break e}else{if(!(t&1)){gc(v,c,t),$l();break e}r=Error(re(426))}}else if(_e&&h.mode&1){var u=mc(w);if(u!==null){!(u.flags&65536)&&(u.flags|=256),vc(u,w,h,v,t),El(gr(r,h));break e}}v=r=gr(r,h),Ae!==4&&(Ae=2),qr===null?qr=[v]:qr.push(v),v=w;do{switch(v.tag){case 3:v.flags|=65536,t&=-t,v.lanes|=t;var p=$h(v,r,t);uc(v,p);break e;case 1:h=r;var m=v.type,y=v.stateNode;if(!(v.flags&128)&&(typeof m.getDerivedStateFromError=="function"||y!==null&&typeof y.componentDidCatch=="function"&&(dn===null||!dn.has(y)))){v.flags|=65536,t&=-t,v.lanes|=t;var C=Gh(v,h,t);uc(v,C);break e}}v=v.return}while(v!==null)}dd(n)}catch(x){t=x,je===n&&n!==null&&(je=n=n.return);continue}break}while(!0)}function fd(){var e=No.current;return No.current=Io,e===null?Io:e}function $l(){(Ae===0||Ae===3||Ae===2)&&(Ae=4),Re===null||!(Nn&268435455)&&!(ss&268435455)||nn(Re,Ie)}function Wo(e,t){var n=ve;ve|=2;var a=fd();(Re!==e||Ie!==t)&&(Rt=null,jn(e,t));do try{Ov();break}catch(g){cd(e,g)}while(!0);if(Pl(),ve=n,No.current=a,je!==null)throw Error(re(261));return Re=null,Ie=0,Ae}function Ov(){for(;je!==null;)hd(je)}function bv(){for(;je!==null&&!qg();)hd(je)}function hd(e){var t=gd(e.alternate,e,rt);e.memoizedProps=e.pendingProps,t===null?dd(e):je=t,Hl.current=null}function dd(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=Cv(n,t),n!==null){n.flags&=32767,je=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Ae=6,je=null;return}}else if(n=yv(n,t,rt),n!==null){je=n;return}if(t=t.sibling,t!==null){je=t;return}je=t=e}while(t!==null);Ae===0&&(Ae=5)}function On(e,t,n){var a=ye,g=dt.transition;try{dt.transition=null,ye=1,Ev(e,t,n,a)}finally{dt.transition=g,ye=a}return null}function Ev(e,t,n,a){do ur();while(sn!==null);if(ve&6)throw Error(re(327));n=e.finishedWork;var g=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(re(177));e.callbackNode=null,e.callbackPriority=0;var v=n.lanes|n.childLanes;if(am(e,v),e===Re&&(je=Re=null,Ie=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ki||(Ki=!0,md(_o,function(){return ur(),null})),v=(n.flags&15990)!==0,n.subtreeFlags&15990||v){v=dt.transition,dt.transition=null;var w=ye;ye=1;var h=ve;ve|=4,Hl.current=null,xv(e,n),ad(n,e),$m(_a),To=!!xa,_a=xa=null,e.current=n,_v(n),Jg(),ve=h,ye=w,dt.transition=v}else e.current=n;if(Ki&&(Ki=!1,sn=e,zo=g),v=e.pendingLanes,v===0&&(dn=null),tm(n.stateNode),et(e,Pe()),t!==null)for(a=e.onRecoverableError,n=0;n<t.length;n++)g=t[n],a(g.value,{componentStack:g.stack,digest:g.digest});if(Bo)throw Bo=!1,e=Ha,Ha=null,e;return zo&1&&e.tag!==0&&ur(),v=e.pendingLanes,v&1?e===Ua?Jr++:(Jr=0,Ua=e):Jr=0,xn(),null}function ur(){if(sn!==null){var e=$f(zo),t=dt.transition,n=ye;try{if(dt.transition=null,ye=16>e?16:e,sn===null)var a=!1;else{if(e=sn,sn=null,zo=0,ve&6)throw Error(re(331));var g=ve;for(ve|=4,se=e.current;se!==null;){var v=se,w=v.child;if(se.flags&16){var h=v.deletions;if(h!==null){for(var r=0;r<h.length;r++){var c=h[r];for(se=c;se!==null;){var f=se;switch(f.tag){case 0:case 11:case 15:Qr(8,f,v)}var i=f.child;if(i!==null)i.return=f,se=i;else for(;se!==null;){f=se;var s=f.sibling,o=f.return;if(id(f),f===c){se=null;break}if(s!==null){s.return=o,se=s;break}se=o}}}var l=v.alternate;if(l!==null){var d=l.child;if(d!==null){l.child=null;do{var u=d.sibling;d.sibling=null,d=u}while(d!==null)}}se=v}}if(v.subtreeFlags&2064&&w!==null)w.return=v,se=w;else e:for(;se!==null;){if(v=se,v.flags&2048)switch(v.tag){case 0:case 11:case 15:Qr(9,v,v.return)}var p=v.sibling;if(p!==null){p.return=v.return,se=p;break e}se=v.return}}var m=e.current;for(se=m;se!==null;){w=se;var y=w.child;if(w.subtreeFlags&2064&&y!==null)y.return=w,se=y;else e:for(w=m;se!==null;){if(h=se,h.flags&2048)try{switch(h.tag){case 0:case 11:case 15:os(9,h)}}catch(x){be(h,h.return,x)}if(h===w){se=null;break e}var C=h.sibling;if(C!==null){C.return=h.return,se=C;break e}se=h.return}}if(ve=g,xn(),Mt&&typeof Mt.onPostCommitFiberRoot=="function")try{Mt.onPostCommitFiberRoot(qo,e)}catch{}a=!0}return a}finally{ye=n,dt.transition=t}}return!1}function Mc(e,t,n){t=gr(n,t),t=$h(e,t,1),e=hn(e,t,1),t=$e(),e!==null&&(bi(e,1,t),et(e,t))}function be(e,t,n){if(e.tag===3)Mc(e,e,n);else for(;t!==null;){if(t.tag===3){Mc(t,e,n);break}else if(t.tag===1){var a=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof a.componentDidCatch=="function"&&(dn===null||!dn.has(a))){e=gr(n,e),e=Gh(t,e,1),t=hn(t,e,1),e=$e(),t!==null&&(bi(t,1,e),et(t,e));break}}t=t.return}}function kv(e,t,n){var a=e.pingCache;a!==null&&a.delete(t),t=$e(),e.pingedLanes|=e.suspendedLanes&n,Re===e&&(Ie&n)===n&&(Ae===4||Ae===3&&(Ie&130023424)===Ie&&500>Pe()-Xl?jn(e,0):Ul|=n),et(e,t)}function pd(e,t){t===0&&(e.mode&1?(t=Bi,Bi<<=1,!(Bi&130023424)&&(Bi=4194304)):t=1);var n=$e();e=Xt(e,t),e!==null&&(bi(e,t,n),et(e,n))}function Pv(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),pd(e,n)}function Mv(e,t){var n=0;switch(e.tag){case 13:var a=e.stateNode,g=e.memoizedState;g!==null&&(n=g.retryLane);break;case 19:a=e.stateNode;break;default:throw Error(re(314))}a!==null&&a.delete(t),pd(e,n)}var gd;gd=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Je.current)qe=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return qe=!1,vv(e,t,n);qe=!!(e.flags&131072)}else qe=!1,_e&&t.flags&1048576&&Ch(t,jo,t.index);switch(t.lanes=0,t.tag){case 2:var a=t.type;ho(e,t),e=t.pendingProps;var g=fr(t,Ue.current);lr(t,n),g=Il(null,t,a,e,g,n);var v=Nl();return t.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ze(a)?(v=!0,Po(t)):v=!1,t.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Dl(t),g.updater=is,t.stateNode=g,g._reactInternals=t,ja(t,a,e,n),t=Fa(null,t,a,!0,v,n)):(t.tag=0,_e&&v&&Ol(t),Xe(null,t,g,n),t=t.child),t;case 16:a=t.elementType;e:{switch(ho(e,t),e=t.pendingProps,g=a._init,a=g(a._payload),t.type=a,g=t.tag=Dv(a),e=Ct(a,e),g){case 0:t=Aa(null,t,a,e,n);break e;case 1:t=wc(null,t,a,e,n);break e;case 11:t=yc(null,t,a,e,n);break e;case 14:t=Cc(null,t,a,Ct(a.type,e),n);break e}throw Error(re(306,a,""))}return t;case 0:return a=t.type,g=t.pendingProps,g=t.elementType===a?g:Ct(a,g),Aa(e,t,a,g,n);case 1:return a=t.type,g=t.pendingProps,g=t.elementType===a?g:Ct(a,g),wc(e,t,a,g,n);case 3:e:{if(Jh(t),e===null)throw Error(re(387));a=t.pendingProps,v=t.memoizedState,g=v.element,Oh(e,t),Fo(t,a,null,n);var w=t.memoizedState;if(a=w.element,v.isDehydrated)if(v={element:a,isDehydrated:!1,cache:w.cache,pendingSuspenseBoundaries:w.pendingSuspenseBoundaries,transitions:w.transitions},t.updateQueue.baseState=v,t.memoizedState=v,t.flags&256){g=gr(Error(re(423)),t),t=xc(e,t,a,n,g);break e}else if(a!==g){g=gr(Error(re(424)),t),t=xc(e,t,a,n,g);break e}else for(it=fn(t.stateNode.containerInfo.firstChild),ot=t,_e=!0,xt=null,n=Sh(t,null,a,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(hr(),a===g){t=Yt(e,t,n);break e}Xe(e,t,a,n)}t=t.child}return t;case 5:return bh(t),e===null&&ka(t),a=t.type,g=t.pendingProps,v=e!==null?e.memoizedProps:null,w=g.children,Sa(a,g)?w=null:v!==null&&Sa(a,v)&&(t.flags|=32),qh(e,t),Xe(e,t,w,n),t.child;case 6:return e===null&&ka(t),null;case 13:return Zh(e,t,n);case 4:return Al(t,t.stateNode.containerInfo),a=t.pendingProps,e===null?t.child=dr(t,null,a,n):Xe(e,t,a,n),t.child;case 11:return a=t.type,g=t.pendingProps,g=t.elementType===a?g:Ct(a,g),yc(e,t,a,g,n);case 7:return Xe(e,t,t.pendingProps,n),t.child;case 8:return Xe(e,t,t.pendingProps.children,n),t.child;case 12:return Xe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(a=t.type._context,g=t.pendingProps,v=t.memoizedProps,w=g.value,Ce(Do,a._currentValue),a._currentValue=w,v!==null)if(Tt(v.value,w)){if(v.children===g.children&&!Je.current){t=Yt(e,t,n);break e}}else for(v=t.child,v!==null&&(v.return=t);v!==null;){var h=v.dependencies;if(h!==null){w=v.child;for(var r=h.firstContext;r!==null;){if(r.context===a){if(v.tag===1){r=Wt(-1,n&-n),r.tag=2;var c=v.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?r.next=r:(r.next=f.next,f.next=r),c.pending=r}}v.lanes|=n,r=v.alternate,r!==null&&(r.lanes|=n),Pa(v.return,n,t),h.lanes|=n;break}r=r.next}}else if(v.tag===10)w=v.type===t.type?null:v.child;else if(v.tag===18){if(w=v.return,w===null)throw Error(re(341));w.lanes|=n,h=w.alternate,h!==null&&(h.lanes|=n),Pa(w,n,t),w=v.sibling}else w=v.child;if(w!==null)w.return=v;else for(w=v;w!==null;){if(w===t){w=null;break}if(v=w.sibling,v!==null){v.return=w.return,w=v;break}w=w.return}v=w}Xe(e,t,g.children,n),t=t.child}return t;case 9:return g=t.type,a=t.pendingProps.children,lr(t,n),g=pt(g),a=a(g),t.flags|=1,Xe(e,t,a,n),t.child;case 14:return a=t.type,g=Ct(a,t.pendingProps),g=Ct(a.type,g),Cc(e,t,a,g,n);case 15:return Kh(e,t,t.type,t.pendingProps,n);case 17:return a=t.type,g=t.pendingProps,g=t.elementType===a?g:Ct(a,g),ho(e,t),t.tag=1,Ze(a)?(e=!0,Po(t)):e=!1,lr(t,n),Vh(t,a,g),ja(t,a,g,n),Fa(null,t,a,!0,e,n);case 19:return ed(e,t,n);case 22:return Qh(e,t,n)}throw Error(re(156,t.tag))};function md(e,t){return Uf(e,t)}function jv(e,t,n,a){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=a,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ht(e,t,n,a){return new jv(e,t,n,a)}function Gl(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Dv(e){if(typeof e=="function")return Gl(e)?1:0;if(e!=null){if(e=e.$$typeof,e===dl)return 11;if(e===pl)return 14}return 2}function gn(e,t){var n=e.alternate;return n===null?(n=ht(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function mo(e,t,n,a,g,v){var w=2;if(a=e,typeof e=="function")Gl(e)&&(w=1);else if(typeof e=="string")w=5;else e:switch(e){case $n:return Dn(n.children,g,v,t);case hl:w=8,g|=8;break;case ta:return e=ht(12,n,t,g|2),e.elementType=ta,e.lanes=v,e;case na:return e=ht(13,n,t,g),e.elementType=na,e.lanes=v,e;case ra:return e=ht(19,n,t,g),e.elementType=ra,e.lanes=v,e;case bf:return as(n,g,v,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Tf:w=10;break e;case Of:w=9;break e;case dl:w=11;break e;case pl:w=14;break e;case qt:w=16,a=null;break e}throw Error(re(130,e==null?e:typeof e,""))}return t=ht(w,n,t,g),t.elementType=e,t.type=a,t.lanes=v,t}function Dn(e,t,n,a){return e=ht(7,e,a,t),e.lanes=n,e}function as(e,t,n,a){return e=ht(22,e,a,t),e.elementType=bf,e.lanes=n,e.stateNode={isHidden:!1},e}function Us(e,t,n){return e=ht(6,e,null,t),e.lanes=n,e}function Xs(e,t,n){return t=ht(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Av(e,t,n,a,g){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ts(0),this.expirationTimes=Ts(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ts(0),this.identifierPrefix=a,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function Kl(e,t,n,a,g,v,w,h,r){return e=new Av(e,t,n,h,r),t===1?(t=1,v===!0&&(t|=8)):t=0,v=ht(3,null,null,t),e.current=v,v.stateNode=e,v.memoizedState={element:a,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dl(v),e}function Fv(e,t,n){var a=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vn,key:a==null?null:""+a,children:e,containerInfo:t,implementation:n}}function vd(e){if(!e)return vn;e=e._reactInternals;e:{if(Hn(e)!==e||e.tag!==1)throw Error(re(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ze(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(re(171))}if(e.tag===1){var n=e.type;if(Ze(n))return vh(e,n,t)}return t}function yd(e,t,n,a,g,v,w,h,r){return e=Kl(n,a,!0,e,g,v,w,h,r),e.context=vd(null),n=e.current,a=$e(),g=pn(n),v=Wt(a,g),v.callback=t??null,hn(n,v,g),e.current.lanes=g,bi(e,g,a),et(e,a),e}function ls(e,t,n,a){var g=t.current,v=$e(),w=pn(g);return n=vd(n),t.context===null?t.context=n:t.pendingContext=n,t=Wt(v,w),t.payload={element:e},a=a===void 0?null:a,a!==null&&(t.callback=a),e=hn(g,t,w),e!==null&&(St(e,g,w,v),uo(e,g,w)),w}function Ho(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function jc(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Ql(e,t){jc(e,t),(e=e.alternate)&&jc(e,t)}function Rv(){return null}var Cd=typeof reportError=="function"?reportError:function(e){console.error(e)};function ql(e){this._internalRoot=e}us.prototype.render=ql.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(re(409));ls(e,t,null,null)};us.prototype.unmount=ql.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Bn(function(){ls(null,e,null,null)}),t[Ut]=null}};function us(e){this._internalRoot=e}us.prototype.unstable_scheduleHydration=function(e){if(e){var t=Qf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<tn.length&&t!==0&&t<tn[n].priority;n++);tn.splice(n,0,e),n===0&&Jf(e)}};function Jl(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function cs(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Dc(){}function Lv(e,t,n,a,g){if(g){if(typeof a=="function"){var v=a;a=function(){var c=Ho(w);v.call(c)}}var w=yd(t,a,e,0,null,!1,!1,"",Dc);return e._reactRootContainer=w,e[Ut]=w.current,fi(e.nodeType===8?e.parentNode:e),Bn(),w}for(;g=e.lastChild;)e.removeChild(g);if(typeof a=="function"){var h=a;a=function(){var c=Ho(r);h.call(c)}}var r=Kl(e,0,!1,null,null,!1,!1,"",Dc);return e._reactRootContainer=r,e[Ut]=r.current,fi(e.nodeType===8?e.parentNode:e),Bn(function(){ls(t,r,n,a)}),r}function fs(e,t,n,a,g){var v=n._reactRootContainer;if(v){var w=v;if(typeof g=="function"){var h=g;g=function(){var r=Ho(w);h.call(r)}}ls(t,w,e,g)}else w=Lv(n,t,e,g,a);return Ho(w)}Gf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Wr(t.pendingLanes);n!==0&&(vl(t,n|1),et(t,Pe()),!(ve&6)&&(mr=Pe()+500,xn()))}break;case 13:Bn(function(){var a=Xt(e,1);if(a!==null){var g=$e();St(a,e,1,g)}}),Ql(e,1)}};yl=function(e){if(e.tag===13){var t=Xt(e,134217728);if(t!==null){var n=$e();St(t,e,134217728,n)}Ql(e,134217728)}};Kf=function(e){if(e.tag===13){var t=pn(e),n=Xt(e,t);if(n!==null){var a=$e();St(n,e,t,a)}Ql(e,t)}};Qf=function(){return ye};qf=function(e,t){var n=ye;try{return ye=e,t()}finally{ye=n}};da=function(e,t,n){switch(t){case"input":if(sa(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var a=n[t];if(a!==e&&a.form===e.form){var g=ts(a);if(!g)throw Error(re(90));kf(a),sa(a,g)}}}break;case"textarea":Mf(e,n);break;case"select":t=n.value,t!=null&&ir(e,!!n.multiple,t,!1)}};If=Yl;Nf=Bn;var Iv={usingClientEntryPoint:!1,Events:[ki,qn,ts,Rf,Lf,Yl]},Rr={findFiberByHostInstance:En,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Nv={bundleType:Rr.bundleType,version:Rr.version,rendererPackageName:Rr.rendererPackageName,rendererConfig:Rr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Wf(e),e===null?null:e.stateNode},findFiberByHostInstance:Rr.findFiberByHostInstance||Rv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qi=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qi.isDisabled&&Qi.supportsFiber)try{qo=Qi.inject(Nv),Mt=Qi}catch{}}lt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Iv;lt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jl(t))throw Error(re(200));return Fv(e,t,null,n)};lt.createRoot=function(e,t){if(!Jl(e))throw Error(re(299));var n=!1,a="",g=Cd;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(a=t.identifierPrefix),t.onRecoverableError!==void 0&&(g=t.onRecoverableError)),t=Kl(e,1,!1,null,null,n,!1,a,g),e[Ut]=t.current,fi(e.nodeType===8?e.parentNode:e),new ql(t)};lt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(re(188)):(e=Object.keys(e).join(","),Error(re(268,e)));return e=Wf(t),e=e===null?null:e.stateNode,e};lt.flushSync=function(e){return Bn(e)};lt.hydrate=function(e,t,n){if(!cs(t))throw Error(re(200));return fs(null,e,t,!0,n)};lt.hydrateRoot=function(e,t,n){if(!Jl(e))throw Error(re(405));var a=n!=null&&n.hydratedSources||null,g=!1,v="",w=Cd;if(n!=null&&(n.unstable_strictMode===!0&&(g=!0),n.identifierPrefix!==void 0&&(v=n.identifierPrefix),n.onRecoverableError!==void 0&&(w=n.onRecoverableError)),t=yd(t,null,e,1,n??null,g,!1,v,w),e[Ut]=t.current,fi(e),a)for(e=0;e<a.length;e++)n=a[e],g=n._getVersion,g=g(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,g]:t.mutableSourceEagerHydrationData.push(n,g);return new us(t)};lt.render=function(e,t,n){if(!cs(t))throw Error(re(200));return fs(null,e,t,!1,n)};lt.unmountComponentAtNode=function(e){if(!cs(e))throw Error(re(40));return e._reactRootContainer?(Bn(function(){fs(null,null,e,!1,function(){e._reactRootContainer=null,e[Ut]=null})}),!0):!1};lt.unstable_batchedUpdates=Yl;lt.unstable_renderSubtreeIntoContainer=function(e,t,n,a){if(!cs(n))throw Error(re(200));if(e==null||e._reactInternals===void 0)throw Error(re(38));return fs(e,t,n,!1,a)};lt.version="18.3.1-next-f1338f8080-20240426";function wd(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wd)}catch(e){console.error(e)}}wd(),wf.exports=lt;var xd=wf.exports;const Mn=Ti(xd);var _d,Ac=xd;_d=Ac.createRoot,Ac.hydrateRoot;var Bt={};const Bv={},zv=Object.freeze(Object.defineProperty({__proto__:null,default:Bv},Symbol.toStringTag,{value:"Module"})),Ys=dg(zv);(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.4.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=Ys,a=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=a.document,t.jsdomImplForWrapper=Ys.implForWrapper,t.nodeCanvas=Ys.Canvas,t.window=a,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function h(o,l){if(this.__eventListeners[o]){var d=this.__eventListeners[o];l?d[d.indexOf(l)]=!1:t.util.array.fill(d,!1)}}function r(o,l){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var d in o)this.on(d,o[d]);else this.__eventListeners[o]||(this.__eventListeners[o]=[]),this.__eventListeners[o].push(l);return this}function c(o,l){var d=(function(){l.apply(this,arguments),this.off(o,d)}).bind(this);this.on(o,d)}function f(o,l){if(arguments.length===1)for(var d in o)c.call(this,d,o[d]);else c.call(this,o,l);return this}function i(o,l){if(!this.__eventListeners)return this;if(arguments.length===0)for(o in this.__eventListeners)h.call(this,o);else if(arguments.length===1&&typeof arguments[0]=="object")for(var d in o)h.call(this,d,o[d]);else h.call(this,o,l);return this}function s(o,l){if(!this.__eventListeners)return this;var d=this.__eventListeners[o];if(!d)return this;for(var u=0,p=d.length;u<p;u++)d[u]&&d[u].call(this,l||{});return this.__eventListeners[o]=d.filter(function(m){return m!==!1}),this}t.Observable={fire:s,on:r,once:f,off:i}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var h=0,r=arguments.length;h<r;h++)this._onObjectAdded(arguments[h]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(h,r,c){var f=this._objects;return c?f[r]=h:f.splice(r,0,h),this._onObjectAdded&&this._onObjectAdded(h),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var h=this._objects,r,c=!1,f=0,i=arguments.length;f<i;f++)r=h.indexOf(arguments[f]),r!==-1&&(c=!0,h.splice(r,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[f]));return this.renderOnAddRemove&&c&&this.requestRenderAll(),this},forEachObject:function(h,r){for(var c=this.getObjects(),f=0,i=c.length;f<i;f++)h.call(r,c[f],f,c);return this},getObjects:function(h){return typeof h>"u"?this._objects.concat():this._objects.filter(function(r){return r.type===h})},item:function(h){return this._objects[h]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(h,r){return this._objects.indexOf(h)>-1?!0:r?this._objects.some(function(c){return typeof c.contains=="function"&&c.contains(h,!0)}):!1},complexity:function(){return this._objects.reduce(function(h,r){return h+=r.complexity?r.complexity():0,h},0)}},t.CommonMethods={_setOptions:function(h){for(var r in h)this.set(r,h[r])},_initGradient:function(h,r){h&&h.colorStops&&!(h instanceof t.Gradient)&&this.set(r,new t.Gradient(h))},_initPattern:function(h,r,c){h&&h.source&&!(h instanceof t.Pattern)?this.set(r,new t.Pattern(h,c)):c&&c()},_setObject:function(h){for(var r in h)this._set(r,h[r])},set:function(h,r){return typeof h=="object"?this._setObject(h):this._set(h,r),this},_set:function(h,r){this[h]=r},toggle:function(h){var r=this.get(h);return typeof r=="boolean"&&this.set(h,!r),this},get:function(h){return this[h]}},function(h){var r=Math.sqrt,c=Math.atan2,f=Math.pow,i=Math.PI/180,s=Math.PI/2;t.util={cos:function(o){if(o===0)return 1;o<0&&(o=-o);var l=o/s;switch(l){case 1:case 3:return 0;case 2:return-1}return Math.cos(o)},sin:function(o){if(o===0)return 0;var l=o/s,d=1;switch(o<0&&(d=-1),l){case 1:return d;case 2:return 0;case 3:return-d}return Math.sin(o)},removeFromArray:function(o,l){var d=o.indexOf(l);return d!==-1&&o.splice(d,1),o},getRandomInt:function(o,l){return Math.floor(Math.random()*(l-o+1))+o},degreesToRadians:function(o){return o*i},radiansToDegrees:function(o){return o/i},rotatePoint:function(o,l,d){var u=new t.Point(o.x-l.x,o.y-l.y),p=t.util.rotateVector(u,d);return new t.Point(p.x,p.y).addEquals(l)},rotateVector:function(o,l){var d=t.util.sin(l),u=t.util.cos(l),p=o.x*u-o.y*d,m=o.x*d+o.y*u;return{x:p,y:m}},createVector:function(o,l){return new t.Point(l.x-o.x,l.y-o.y)},calcAngleBetweenVectors:function(o,l){return Math.acos((o.x*l.x+o.y*l.y)/(Math.hypot(o.x,o.y)*Math.hypot(l.x,l.y)))},getHatVector:function(o){return new t.Point(o.x,o.y).multiply(1/Math.hypot(o.x,o.y))},getBisector:function(o,l,d){var u=t.util.createVector(o,l),p=t.util.createVector(o,d),m=t.util.calcAngleBetweenVectors(u,p),y=t.util.calcAngleBetweenVectors(t.util.rotateVector(u,m),p),C=m*(y===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(u,C)),angle:m}},projectStrokeOnPoints:function(o,l,d){var u=[],p=l.strokeWidth/2,m=l.strokeUniform?new t.Point(1/l.scaleX,1/l.scaleY):new t.Point(1,1),y=function(C){var x=p/Math.hypot(C.x,C.y);return new t.Point(C.x*x*m.x,C.y*x*m.y)};return o.length<=1||o.forEach(function(C,x){var _=new t.Point(C.x,C.y),S,b;x===0?(b=o[x+1],S=d?y(t.util.createVector(b,_)).addEquals(_):o[o.length-1]):x===o.length-1?(S=o[x-1],b=d?y(t.util.createVector(S,_)).addEquals(_):o[0]):(S=o[x-1],b=o[x+1]);var F=t.util.getBisector(_,S,b),R=F.vector,z=F.angle,$,G;if(l.strokeLineJoin==="miter"&&($=-p/Math.sin(z/2),G=new t.Point(R.x*$*m.x,R.y*$*m.y),Math.hypot(G.x,G.y)/p<=l.strokeMiterLimit)){u.push(_.add(G)),u.push(_.subtract(G));return}$=-p*Math.SQRT2,G=new t.Point(R.x*$*m.x,R.y*$*m.y),u.push(_.add(G)),u.push(_.subtract(G))}),u},transformPoint:function(o,l,d){return d?new t.Point(l[0]*o.x+l[2]*o.y,l[1]*o.x+l[3]*o.y):new t.Point(l[0]*o.x+l[2]*o.y+l[4],l[1]*o.x+l[3]*o.y+l[5])},makeBoundingBoxFromPoints:function(o,l){if(l)for(var d=0;d<o.length;d++)o[d]=t.util.transformPoint(o[d],l);var u=[o[0].x,o[1].x,o[2].x,o[3].x],p=t.util.array.min(u),m=t.util.array.max(u),y=m-p,C=[o[0].y,o[1].y,o[2].y,o[3].y],x=t.util.array.min(C),_=t.util.array.max(C),S=_-x;return{left:p,top:x,width:y,height:S}},invertTransform:function(o){var l=1/(o[0]*o[3]-o[1]*o[2]),d=[l*o[3],-l*o[1],-l*o[2],l*o[0]],u=t.util.transformPoint({x:o[4],y:o[5]},d,!0);return d[4]=-u.x,d[5]=-u.y,d},toFixed:function(o,l){return parseFloat(Number(o).toFixed(l))},parseUnit:function(o,l){var d=/\D{0,2}$/.exec(o),u=parseFloat(o);switch(l||(l=t.Text.DEFAULT_SVG_FONT_SIZE),d[0]){case"mm":return u*t.DPI/25.4;case"cm":return u*t.DPI/2.54;case"in":return u*t.DPI;case"pt":return u*t.DPI/72;case"pc":return u*t.DPI/72*12;case"em":return u*l;default:return u}},falseFunction:function(){return!1},getKlass:function(o,l){return o=t.util.string.camelize(o.charAt(0).toUpperCase()+o.slice(1)),t.util.resolveNamespace(l)[o]},getSvgAttributes:function(o){var l=["instantiated_by_use","style","id","class"];switch(o){case"linearGradient":l=l.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":l=l.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":l=l.concat(["offset","stop-color","stop-opacity"]);break}return l},resolveNamespace:function(o){if(!o)return t;var l=o.split("."),d=l.length,u,p=h||t.window;for(u=0;u<d;++u)p=p[l[u]];return p},loadImage:function(o,l,d,u){if(!o){l&&l.call(d,o);return}var p=t.util.createImage(),m=function(){l&&l.call(d,p,!1),p=p.onload=p.onerror=null};p.onload=m,p.onerror=function(){t.log("Error loading "+p.src),l&&l.call(d,null,!0),p=p.onload=p.onerror=null},o.indexOf("data")!==0&&u!==void 0&&u!==null&&(p.crossOrigin=u),o.substring(0,14)==="data:image/svg"&&(p.onload=null,t.util.loadImageInDom(p,m)),p.src=o},loadImageInDom:function(o,l){var d=t.document.createElement("div");d.style.width=d.style.height="1px",d.style.left=d.style.top="-100%",d.style.position="absolute",d.appendChild(o),t.document.querySelector("body").appendChild(d),o.onload=function(){l(),d.parentNode.removeChild(d),d=null}},enlivenObjects:function(o,l,d,u){o=o||[];var p=[],m=0,y=o.length;function C(){++m===y&&l&&l(p.filter(function(x){return x}))}if(!y){l&&l(p);return}o.forEach(function(x,_){if(!x||!x.type){C();return}var S=t.util.getKlass(x.type,d);S.fromObject(x,function(b,F){F||(p[_]=b),u&&u(x,b,F),C()})})},enlivenObjectEnlivables:function(o,l,d){var u=t.Object.ENLIVEN_PROPS.filter(function(p){return!!o[p]});t.util.enlivenObjects(u.map(function(p){return o[p]}),function(p){var m={};u.forEach(function(y,C){m[y]=p[C],l&&(l[y]=p[C])}),d&&d(m)})},enlivenPatterns:function(o,l){o=o||[];function d(){++p===m&&l&&l(u)}var u=[],p=0,m=o.length;if(!m){l&&l(u);return}o.forEach(function(y,C){y&&y.source?new t.Pattern(y,function(x){u[C]=x,d()}):(u[C]=y,d())})},groupSVGElements:function(o,l,d){var u;return o&&o.length===1?(typeof d<"u"&&(o[0].sourcePath=d),o[0]):(l&&(l.width&&l.height?l.centerPoint={x:l.width/2,y:l.height/2}:(delete l.width,delete l.height)),u=new t.Group(o,l),typeof d<"u"&&(u.sourcePath=d),u)},populateWithProperties:function(o,l,d){if(d&&Array.isArray(d))for(var u=0,p=d.length;u<p;u++)d[u]in o&&(l[d[u]]=o[d[u]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(o){var l=t.util.createCanvasElement();return l.width=o.width,l.height=o.height,l.getContext("2d").drawImage(o,0,0),l},toDataURL:function(o,l,d){return o.toDataURL("image/"+l,d)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(o,l,d){return[o[0]*l[0]+o[2]*l[1],o[1]*l[0]+o[3]*l[1],o[0]*l[2]+o[2]*l[3],o[1]*l[2]+o[3]*l[3],d?0:o[0]*l[4]+o[2]*l[5]+o[4],d?0:o[1]*l[4]+o[3]*l[5]+o[5]]},qrDecompose:function(o){var l=c(o[1],o[0]),d=f(o[0],2)+f(o[1],2),u=r(d),p=(o[0]*o[3]-o[2]*o[1])/u,m=c(o[0]*o[2]+o[1]*o[3],d);return{angle:l/i,scaleX:u,scaleY:p,skewX:m/i,skewY:0,translateX:o[4],translateY:o[5]}},calcRotateMatrix:function(o){if(!o.angle)return t.iMatrix.concat();var l=t.util.degreesToRadians(o.angle),d=t.util.cos(l),u=t.util.sin(l);return[d,u,-u,d,0,0]},calcDimensionsMatrix:function(o){var l=typeof o.scaleX>"u"?1:o.scaleX,d=typeof o.scaleY>"u"?1:o.scaleY,u=[o.flipX?-l:l,0,0,o.flipY?-d:d,0,0],p=t.util.multiplyTransformMatrices,m=t.util.degreesToRadians;return o.skewX&&(u=p(u,[1,0,Math.tan(m(o.skewX)),1],!0)),o.skewY&&(u=p(u,[1,Math.tan(m(o.skewY)),0,1],!0)),u},composeMatrix:function(o){var l=[1,0,0,1,o.translateX||0,o.translateY||0],d=t.util.multiplyTransformMatrices;return o.angle&&(l=d(l,t.util.calcRotateMatrix(o))),(o.scaleX!==1||o.scaleY!==1||o.skewX||o.skewY||o.flipX||o.flipY)&&(l=d(l,t.util.calcDimensionsMatrix(o))),l},resetObjectTransform:function(o){o.scaleX=1,o.scaleY=1,o.skewX=0,o.skewY=0,o.flipX=!1,o.flipY=!1,o.rotate(0)},saveObjectTransform:function(o){return{scaleX:o.scaleX,scaleY:o.scaleY,skewX:o.skewX,skewY:o.skewY,angle:o.angle,left:o.left,flipX:o.flipX,flipY:o.flipY,top:o.top}},isTransparent:function(o,l,d,u){u>0&&(l>u?l-=u:l=0,d>u?d-=u:d=0);var p=!0,m,y,C=o.getImageData(l,d,u*2||1,u*2||1),x=C.data.length;for(m=3;m<x&&(y=C.data[m],p=y<=0,p!==!1);m+=4);return C=null,p},parsePreserveAspectRatioAttribute:function(o){var l="meet",d="Mid",u="Mid",p=o.split(" "),m;return p&&p.length&&(l=p.pop(),l!=="meet"&&l!=="slice"?(m=l,l="meet"):p.length&&(m=p.pop())),d=m!=="none"?m.slice(1,4):"none",u=m!=="none"?m.slice(5,8):"none",{meetOrSlice:l,alignX:d,alignY:u}},clearFabricFontCache:function(o){o=(o||"").toLowerCase(),o?t.charWidthsCache[o]&&delete t.charWidthsCache[o]:t.charWidthsCache={}},limitDimsByArea:function(o,l){var d=Math.sqrt(l*o),u=Math.floor(l/d);return{x:Math.floor(d),y:u}},capValue:function(o,l,d){return Math.max(o,Math.min(l,d))},findScaleToFit:function(o,l){return Math.min(l.width/o.width,l.height/o.height)},findScaleToCover:function(o,l){return Math.max(l.width/o.width,l.height/o.height)},matrixToSVG:function(o){return"matrix("+o.map(function(l){return t.util.toFixed(l,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(o,l){var d=t.util.invertTransform(l),u=t.util.multiplyTransformMatrices(d,o.calcOwnMatrix());t.util.applyTransformToObject(o,u)},addTransformToObject:function(o,l){t.util.applyTransformToObject(o,t.util.multiplyTransformMatrices(l,o.calcOwnMatrix()))},applyTransformToObject:function(o,l){var d=t.util.qrDecompose(l),u=new t.Point(d.translateX,d.translateY);o.flipX=!1,o.flipY=!1,o.set("scaleX",d.scaleX),o.set("scaleY",d.scaleY),o.skewX=d.skewX,o.skewY=d.skewY,o.angle=d.angle,o.setPositionByOrigin(u,"center","center")},sizeAfterTransform:function(o,l,d){var u=o/2,p=l/2,m=[{x:-u,y:-p},{x:u,y:-p},{x:-u,y:p},{x:u,y:p}],y=t.util.calcDimensionsMatrix(d),C=t.util.makeBoundingBoxFromPoints(m,y);return{x:C.width,y:C.height}},mergeClipPaths:function(o,l){var d=o,u=l;d.inverted&&!u.inverted&&(d=l,u=o),t.util.applyTransformToObject(u,t.util.multiplyTransformMatrices(t.util.invertTransform(d.calcTransformMatrix()),u.calcTransformMatrix()));var p=d.inverted&&u.inverted;return p&&(d.inverted=u.inverted=!1),new t.Group([d],{clipPath:u,inverted:p})},hasStyleChanged:function(o,l,d){return d=d||!1,o.fill!==l.fill||o.stroke!==l.stroke||o.strokeWidth!==l.strokeWidth||o.fontSize!==l.fontSize||o.fontFamily!==l.fontFamily||o.fontWeight!==l.fontWeight||o.fontStyle!==l.fontStyle||o.textBackgroundColor!==l.textBackgroundColor||o.deltaY!==l.deltaY||d&&(o.overline!==l.overline||o.underline!==l.underline||o.linethrough!==l.linethrough)},stylesToArray:function(d,l){for(var d=t.util.object.clone(d,!0),u=l.split(`
`),p=-1,m={},y=[],C=0;C<u.length;C++){if(!d[C]){p+=u[C].length;continue}for(var x=0;x<u[C].length;x++){p++;var _=d[C][x];if(_&&Object.keys(_).length>0){var S=t.util.hasStyleChanged(m,_,!0);S?y.push({start:p,end:p+1,style:_}):y[y.length-1].end++}m=_||{}}}return y},stylesFromArray:function(o,l){if(!Array.isArray(o))return o;for(var d=l.split(`
`),u=-1,p=0,m={},y=0;y<d.length;y++)for(var C=0;C<d[y].length;C++)u++,o[p]&&o[p].start<=u&&u<o[p].end&&(m[y]=m[y]||{},m[y][C]=Object.assign({},o[p].style),u===o[p].end-1&&p++);return m}}}(e),function(){var h=Array.prototype.join,r={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},c={m:"l",M:"L"};function f(T,k,M,D,B,P,O,A,L,V,W){var Z=t.util.cos(T),ne=t.util.sin(T),ie=t.util.cos(k),U=t.util.sin(k),I=M*B*ie-D*P*U+O,H=D*B*ie+M*P*U+A,q=V+L*(-M*B*ne-D*P*Z),X=W+L*(-D*B*ne+M*P*Z),te=I+L*(M*B*U+D*P*ie),oe=H+L*(D*B*U-M*P*ie);return["C",q,X,te,oe,I,H]}function i(T,k,M,D,B,P,O){var A=Math.PI,L=O*A/180,V=t.util.sin(L),W=t.util.cos(L),Z=0,ne=0;M=Math.abs(M),D=Math.abs(D);var ie=-W*T*.5-V*k*.5,U=-W*k*.5+V*T*.5,I=M*M,H=D*D,q=U*U,X=ie*ie,te=I*H-I*q-H*X,oe=0;if(te<0){var fe=Math.sqrt(1-te/(I*H));M*=fe,D*=fe}else oe=(B===P?-1:1)*Math.sqrt(te/(I*q+H*X));var ae=oe*M*U/D,Q=-oe*D*ie/M,le=W*ae-V*Q+T*.5,de=V*ae+W*Q+k*.5,pe=s(1,0,(ie-ae)/M,(U-Q)/D),ce=s((ie-ae)/M,(U-Q)/D,(-ie-ae)/M,(-U-Q)/D);P===0&&ce>0?ce-=2*A:P===1&&ce<0&&(ce+=2*A);for(var ge=Math.ceil(Math.abs(ce/A*2)),ke=[],Me=ce/ge,Sn=8/3*Math.sin(Me/4)*Math.sin(Me/4)/Math.sin(Me/2),Er=pe+Me,Ot=0;Ot<ge;Ot++)ke[Ot]=f(pe,Er,W,V,M,D,le,de,Sn,Z,ne),Z=ke[Ot][5],ne=ke[Ot][6],pe=Er,Er+=Me;return ke}function s(T,k,M,D){var B=Math.atan2(k,T),P=Math.atan2(D,M);return P>=B?P-B:2*Math.PI-(B-P)}function o(T,k,M,D,B,P,O,A){var L;if(t.cachesBoundsOfCurve&&(L=h.call(arguments),t.boundsOfCurveCache[L]))return t.boundsOfCurveCache[L];var V=Math.sqrt,W=Math.min,Z=Math.max,ne=Math.abs,ie=[],U=[[],[]],I,H,q,X,te,oe,fe,ae;H=6*T-12*M+6*B,I=-3*T+9*M-9*B+3*O,q=3*M-3*T;for(var Q=0;Q<2;++Q){if(Q>0&&(H=6*k-12*D+6*P,I=-3*k+9*D-9*P+3*A,q=3*D-3*k),ne(I)<1e-12){if(ne(H)<1e-12)continue;X=-q/H,0<X&&X<1&&ie.push(X);continue}fe=H*H-4*q*I,!(fe<0)&&(ae=V(fe),te=(-H+ae)/(2*I),0<te&&te<1&&ie.push(te),oe=(-H-ae)/(2*I),0<oe&&oe<1&&ie.push(oe))}for(var le,de,pe=ie.length,ce=pe,ge;pe--;)X=ie[pe],ge=1-X,le=ge*ge*ge*T+3*ge*ge*X*M+3*ge*X*X*B+X*X*X*O,U[0][pe]=le,de=ge*ge*ge*k+3*ge*ge*X*D+3*ge*X*X*P+X*X*X*A,U[1][pe]=de;U[0][ce]=T,U[1][ce]=k,U[0][ce+1]=O,U[1][ce+1]=A;var ke=[{x:W.apply(null,U[0]),y:W.apply(null,U[1])},{x:Z.apply(null,U[0]),y:Z.apply(null,U[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[L]=ke),ke}function l(T,k,M){for(var D=M[1],B=M[2],P=M[3],O=M[4],A=M[5],L=M[6],V=M[7],W=i(L-T,V-k,D,B,O,A,P),Z=0,ne=W.length;Z<ne;Z++)W[Z][1]+=T,W[Z][2]+=k,W[Z][3]+=T,W[Z][4]+=k,W[Z][5]+=T,W[Z][6]+=k;return W}function d(T){var k=0,M=0,D=T.length,B=0,P=0,O,A,L,V=[],W,Z,ne;for(A=0;A<D;++A){switch(L=!1,O=T[A].slice(0),O[0]){case"l":O[0]="L",O[1]+=k,O[2]+=M;case"L":k=O[1],M=O[2];break;case"h":O[1]+=k;case"H":O[0]="L",O[2]=M,k=O[1];break;case"v":O[1]+=M;case"V":O[0]="L",M=O[1],O[1]=k,O[2]=M;break;case"m":O[0]="M",O[1]+=k,O[2]+=M;case"M":k=O[1],M=O[2],B=O[1],P=O[2];break;case"c":O[0]="C",O[1]+=k,O[2]+=M,O[3]+=k,O[4]+=M,O[5]+=k,O[6]+=M;case"C":Z=O[3],ne=O[4],k=O[5],M=O[6];break;case"s":O[0]="S",O[1]+=k,O[2]+=M,O[3]+=k,O[4]+=M;case"S":W==="C"?(Z=2*k-Z,ne=2*M-ne):(Z=k,ne=M),k=O[3],M=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=Z,O[2]=ne,Z=O[3],ne=O[4];break;case"q":O[0]="Q",O[1]+=k,O[2]+=M,O[3]+=k,O[4]+=M;case"Q":Z=O[1],ne=O[2],k=O[3],M=O[4];break;case"t":O[0]="T",O[1]+=k,O[2]+=M;case"T":W==="Q"?(Z=2*k-Z,ne=2*M-ne):(Z=k,ne=M),O[0]="Q",k=O[1],M=O[2],O[1]=Z,O[2]=ne,O[3]=k,O[4]=M;break;case"a":O[0]="A",O[6]+=k,O[7]+=M;case"A":L=!0,V=V.concat(l(k,M,O)),k=O[6],M=O[7];break;case"z":case"Z":k=B,M=P;break}L||V.push(O),W=O[0]}return V}function u(T,k,M,D){return Math.sqrt((M-T)*(M-T)+(D-k)*(D-k))}function p(T){return T*T*T}function m(T){return 3*T*T*(1-T)}function y(T){return 3*T*(1-T)*(1-T)}function C(T){return(1-T)*(1-T)*(1-T)}function x(T,k,M,D,B,P,O,A){return function(L){var V=p(L),W=m(L),Z=y(L),ne=C(L);return{x:O*V+B*W+M*Z+T*ne,y:A*V+P*W+D*Z+k*ne}}}function _(T,k,M,D,B,P,O,A){return function(L){var V=1-L,W=3*V*V*(M-T)+6*V*L*(B-M)+3*L*L*(O-B),Z=3*V*V*(D-k)+6*V*L*(P-D)+3*L*L*(A-P);return Math.atan2(Z,W)}}function S(T){return T*T}function b(T){return 2*T*(1-T)}function F(T){return(1-T)*(1-T)}function R(T,k,M,D,B,P){return function(O){var A=S(O),L=b(O),V=F(O);return{x:B*A+M*L+T*V,y:P*A+D*L+k*V}}}function z(T,k,M,D,B,P){return function(O){var A=1-O,L=2*A*(M-T)+2*O*(B-M),V=2*A*(D-k)+2*O*(P-D);return Math.atan2(V,L)}}function $(T,k,M){var D={x:k,y:M},B,P=0,O;for(O=1;O<=100;O+=1)B=T(O/100),P+=u(D.x,D.y,B.x,B.y),D=B;return P}function G(T,k){for(var M=0,D=0,B=T.iterator,P={x:T.x,y:T.y},O,A,L=.01,V=T.angleFinder,W;D<k&&L>1e-4;)O=B(M),W=M,A=u(P.x,P.y,O.x,O.y),A+D>k?(M-=L,L/=2):(P=O,M+=L,D+=A);return O.angle=V(W),O}function K(T){for(var k=0,M=T.length,D,B=0,P=0,O=0,A=0,L=[],V,W,Z,ne=0;ne<M;ne++){switch(D=T[ne],W={x:B,y:P,command:D[0]},D[0]){case"M":W.length=0,O=B=D[1],A=P=D[2];break;case"L":W.length=u(B,P,D[1],D[2]),B=D[1],P=D[2];break;case"C":V=x(B,P,D[1],D[2],D[3],D[4],D[5],D[6]),Z=_(B,P,D[1],D[2],D[3],D[4],D[5],D[6]),W.iterator=V,W.angleFinder=Z,W.length=$(V,B,P),B=D[5],P=D[6];break;case"Q":V=R(B,P,D[1],D[2],D[3],D[4]),Z=z(B,P,D[1],D[2],D[3],D[4]),W.iterator=V,W.angleFinder=Z,W.length=$(V,B,P),B=D[3],P=D[4];break;case"Z":case"z":W.destX=O,W.destY=A,W.length=u(B,P,O,A),B=O,P=A;break}k+=W.length,L.push(W)}return L.push({length:k,x:B,y:P}),L}function J(T,k,M){M||(M=K(T));for(var D=0;k-M[D].length>0&&D<M.length-2;)k-=M[D].length,D++;var B=M[D],P=k/B.length,O=B.command,A=T[D],L;switch(O){case"M":return{x:B.x,y:B.y,angle:0};case"Z":case"z":return L=new t.Point(B.x,B.y).lerp(new t.Point(B.destX,B.destY),P),L.angle=Math.atan2(B.destY-B.y,B.destX-B.x),L;case"L":return L=new t.Point(B.x,B.y).lerp(new t.Point(A[1],A[2]),P),L.angle=Math.atan2(A[2]-B.y,A[1]-B.x),L;case"C":return G(B,k);case"Q":return G(B,k)}}function Y(T){var k=[],M=[],D,B,P=t.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",A="("+O+")"+t.commaWsp,L="([01])"+t.commaWsp+"?",V=A+"?"+A+"?"+A+L+L+A+"?("+O+")",W=new RegExp(V,"g"),Z,ne,ie;if(!T||!T.match)return k;ie=T.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var U=0,I,H=ie.length;U<H;U++){D=ie[U],ne=D.slice(1).trim(),M.length=0;var q=D.charAt(0);if(I=[q],q.toLowerCase()==="a")for(var X;X=W.exec(ne);)for(var te=1;te<X.length;te++)M.push(X[te]);else for(;Z=P.exec(ne);)M.push(Z[0]);for(var te=0,oe=M.length;te<oe;te++)B=parseFloat(M[te]),isNaN(B)||I.push(B);var fe=r[q.toLowerCase()],ae=c[q]||q;if(I.length-1>fe)for(var Q=1,le=I.length;Q<le;Q+=fe)k.push([q].concat(I.slice(Q,Q+fe))),q=ae;else k.push(I)}return k}function ee(T,k){var M=[],D,B=new t.Point(T[0].x,T[0].y),P=new t.Point(T[1].x,T[1].y),O=T.length,A=1,L=0,V=O>2;for(k=k||0,V&&(A=T[2].x<P.x?-1:T[2].x===P.x?0:1,L=T[2].y<P.y?-1:T[2].y===P.y?0:1),M.push(["M",B.x-A*k,B.y-L*k]),D=1;D<O;D++){if(!B.eq(P)){var W=B.midPointFrom(P);M.push(["Q",B.x,B.y,W.x,W.y])}B=T[D],D+1<T.length&&(P=T[D+1])}return V&&(A=B.x>T[D-2].x?1:B.x===T[D-2].x?0:-1,L=B.y>T[D-2].y?1:B.y===T[D-2].y?0:-1),M.push(["L",B.x+A*k,B.y+L*k]),M}function N(T,k,M){return M&&(k=t.util.multiplyTransformMatrices(k,[1,0,0,1,-M.x,-M.y])),T.map(function(D){for(var B=D.slice(0),P={},O=1;O<D.length-1;O+=2)P.x=D[O],P.y=D[O+1],P=t.util.transformPoint(P,k),B[O]=P.x,B[O+1]=P.y;return B})}t.util.joinPath=function(T){return T.map(function(k){return k.join(" ")}).join(" ")},t.util.parsePath=Y,t.util.makePathSimpler=d,t.util.getSmoothPathFromPoints=ee,t.util.getPathSegmentsInfo=K,t.util.getBoundsOfCurve=o,t.util.getPointOnPath=J,t.util.transformPath=N}(),function(){var h=Array.prototype.slice;function r(o,l){for(var d=h.call(arguments,2),u=[],p=0,m=o.length;p<m;p++)u[p]=d.length?o[p][l].apply(o[p],d):o[p][l].call(o[p]);return u}function c(o,l){return s(o,l,function(d,u){return d>=u})}function f(o,l){return s(o,l,function(d,u){return d<u})}function i(o,l){for(var d=o.length;d--;)o[d]=l;return o}function s(o,l,d){if(!(!o||o.length===0)){var u=o.length-1,p=l?o[u][l]:o[u];if(l)for(;u--;)d(o[u][l],p)&&(p=o[u][l]);else for(;u--;)d(o[u],p)&&(p=o[u]);return p}}t.util.array={fill:i,invoke:r,min:f,max:c}}(),function(){function h(c,f,i){if(i)if(!t.isLikelyNode&&f instanceof Element)c=f;else if(f instanceof Array){c=[];for(var s=0,o=f.length;s<o;s++)c[s]=h({},f[s],i)}else if(f&&typeof f=="object")for(var l in f)l==="canvas"||l==="group"?c[l]=null:f.hasOwnProperty(l)&&(c[l]=h({},f[l],i));else c=f;else for(var l in f)c[l]=f[l];return c}function r(c,f){return h({},c,f)}t.util.object={extend:h,clone:r},t.util.object.extend(t.util,t.Observable)}(),function(){function h(s){return s.replace(/-+(.)?/g,function(o,l){return l?l.toUpperCase():""})}function r(s,o){return s.charAt(0).toUpperCase()+(o?s.slice(1):s.slice(1).toLowerCase())}function c(s){return s.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function f(s){var o=0,l,d=[];for(o=0,l;o<s.length;o++)(l=i(s,o))!==!1&&d.push(l);return d}function i(s,o){var l=s.charCodeAt(o);if(isNaN(l))return"";if(l<55296||l>57343)return s.charAt(o);if(55296<=l&&l<=56319){if(s.length<=o+1)throw"High surrogate without following low surrogate";var d=s.charCodeAt(o+1);if(56320>d||d>57343)throw"High surrogate without following low surrogate";return s.charAt(o)+s.charAt(o+1)}if(o===0)throw"Low surrogate without preceding high surrogate";var u=s.charCodeAt(o-1);if(55296>u||u>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:h,capitalize:r,escapeXml:c,graphemeSplit:f}}(),function(){var h=Array.prototype.slice,r=function(){},c=function(){for(var l in{toString:1})if(l==="toString")return!1;return!0}(),f=function(l,d,u){for(var p in d)p in l.prototype&&typeof l.prototype[p]=="function"&&(d[p]+"").indexOf("callSuper")>-1?l.prototype[p]=function(m){return function(){var y=this.constructor.superclass;this.constructor.superclass=u;var C=d[m].apply(this,arguments);if(this.constructor.superclass=y,m!=="initialize")return C}}(p):l.prototype[p]=d[p],c&&(d.toString!==Object.prototype.toString&&(l.prototype.toString=d.toString),d.valueOf!==Object.prototype.valueOf&&(l.prototype.valueOf=d.valueOf))};function i(){}function s(l){for(var d=null,u=this;u.constructor.superclass;){var p=u.constructor.superclass.prototype[l];if(u[l]!==p){d=p;break}u=u.constructor.superclass.prototype}return d?arguments.length>1?d.apply(this,h.call(arguments,1)):d.call(this):console.log("tried to callSuper "+l+", method not found in prototype chain",this)}function o(){var l=null,d=h.call(arguments,0);typeof d[0]=="function"&&(l=d.shift());function u(){this.initialize.apply(this,arguments)}u.superclass=l,u.subclasses=[],l&&(i.prototype=l.prototype,u.prototype=new i,l.subclasses.push(u));for(var p=0,m=d.length;p<m;p++)f(u,d[p],l);return u.prototype.initialize||(u.prototype.initialize=r),u.prototype.constructor=u,u.prototype.callSuper=s,u}t.util.createClass=o}(),function(){var h=!!t.document.createElement("div").attachEvent,r=["touchstart","touchmove","touchend"];t.util.addListener=function(f,i,s,o){f&&f.addEventListener(i,s,h?!1:o)},t.util.removeListener=function(f,i,s,o){f&&f.removeEventListener(i,s,h?!1:o)};function c(f){var i=f.changedTouches;return i&&i[0]?i[0]:f}t.util.getPointer=function(f){var i=f.target,s=t.util.getScrollLeftTop(i),o=c(f);return{x:o.clientX+s.left,y:o.clientY+s.top}},t.util.isTouchEvent=function(f){return r.indexOf(f.type)>-1||f.pointerType==="touch"}}(),function(){function h(o,l){var d=o.style;if(!d)return o;if(typeof l=="string")return o.style.cssText+=";"+l,l.indexOf("opacity")>-1?s(o,l.match(/opacity:\s*(\d?\.?\d*)/)[1]):o;for(var u in l)if(u==="opacity")s(o,l[u]);else{var p=u==="float"||u==="cssFloat"?typeof d.styleFloat>"u"?"cssFloat":"styleFloat":u;d.setProperty(p,l[u])}return o}var r=t.document.createElement("div"),c=typeof r.style.opacity=="string",f=typeof r.style.filter=="string",i=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,s=function(o){return o};c?s=function(o,l){return o.style.opacity=l,o}:f&&(s=function(o,l){var d=o.style;return o.currentStyle&&!o.currentStyle.hasLayout&&(d.zoom=1),i.test(d.filter)?(l=l>=.9999?"":"alpha(opacity="+l*100+")",d.filter=d.filter.replace(i,l)):d.filter+=" alpha(opacity="+l*100+")",o}),t.util.setStyle=h}(),function(){var h=Array.prototype.slice;function r(C){return typeof C=="string"?t.document.getElementById(C):C}var c,f=function(C){return h.call(C,0)};try{c=f(t.document.childNodes)instanceof Array}catch{}c||(f=function(C){for(var x=new Array(C.length),_=C.length;_--;)x[_]=C[_];return x});function i(C,x){var _=t.document.createElement(C);for(var S in x)S==="class"?_.className=x[S]:S==="for"?_.htmlFor=x[S]:_.setAttribute(S,x[S]);return _}function s(C,x){C&&(" "+C.className+" ").indexOf(" "+x+" ")===-1&&(C.className+=(C.className?" ":"")+x)}function o(C,x,_){return typeof x=="string"&&(x=i(x,_)),C.parentNode&&C.parentNode.replaceChild(x,C),x.appendChild(C),x}function l(C){for(var x=0,_=0,S=t.document.documentElement,b=t.document.body||{scrollLeft:0,scrollTop:0};C&&(C.parentNode||C.host)&&(C=C.parentNode||C.host,C===t.document?(x=b.scrollLeft||S.scrollLeft||0,_=b.scrollTop||S.scrollTop||0):(x+=C.scrollLeft||0,_+=C.scrollTop||0),!(C.nodeType===1&&C.style.position==="fixed")););return{left:x,top:_}}function d(C){var x,_=C&&C.ownerDocument,S={left:0,top:0},b={left:0,top:0},F,R={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!_)return b;for(var z in R)b[R[z]]+=parseInt(u(C,z),10)||0;return x=_.documentElement,typeof C.getBoundingClientRect<"u"&&(S=C.getBoundingClientRect()),F=l(C),{left:S.left+F.left-(x.clientLeft||0)+b.left,top:S.top+F.top-(x.clientTop||0)+b.top}}var u;t.document.defaultView&&t.document.defaultView.getComputedStyle?u=function(C,x){var _=t.document.defaultView.getComputedStyle(C,null);return _?_[x]:void 0}:u=function(C,x){var _=C.style[x];return!_&&C.currentStyle&&(_=C.currentStyle[x]),_},function(){var C=t.document.documentElement.style,x="userSelect"in C?"userSelect":"MozUserSelect"in C?"MozUserSelect":"WebkitUserSelect"in C?"WebkitUserSelect":"KhtmlUserSelect"in C?"KhtmlUserSelect":"";function _(b){return typeof b.onselectstart<"u"&&(b.onselectstart=t.util.falseFunction),x?b.style[x]="none":typeof b.unselectable=="string"&&(b.unselectable="on"),b}function S(b){return typeof b.onselectstart<"u"&&(b.onselectstart=null),x?b.style[x]="":typeof b.unselectable=="string"&&(b.unselectable=""),b}t.util.makeElementUnselectable=_,t.util.makeElementSelectable=S}();function p(C){var x=t.jsdomImplForWrapper(C);return x._canvas||x._image}function m(C){if(t.isLikelyNode){var x=t.jsdomImplForWrapper(C);x&&(x._image=null,x._canvas=null,x._currentSrc=null,x._attributes=null,x._classList=null)}}function y(C,x){C.imageSmoothingEnabled=C.imageSmoothingEnabled||C.webkitImageSmoothingEnabled||C.mozImageSmoothingEnabled||C.msImageSmoothingEnabled||C.oImageSmoothingEnabled,C.imageSmoothingEnabled=x}t.util.setImageSmoothing=y,t.util.getById=r,t.util.toArray=f,t.util.addClass=s,t.util.makeElement=i,t.util.wrapElement=o,t.util.getScrollLeftTop=l,t.util.getElementOffset=d,t.util.getNodeCanvas=p,t.util.cleanUpJsdomNode=m}(),function(){function h(f,i){return f+(/\?/.test(f)?"&":"?")+i}function r(){}function c(f,i){i||(i={});var s=i.method?i.method.toUpperCase():"GET",o=i.onComplete||function(){},l=new t.window.XMLHttpRequest,d=i.body||i.parameters;return l.onreadystatechange=function(){l.readyState===4&&(o(l),l.onreadystatechange=r)},s==="GET"&&(d=null,typeof i.parameters=="string"&&(f=h(f,i.parameters))),l.open(s,f,!0),(s==="POST"||s==="PUT")&&l.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),l.send(d),l}t.util.request=c}(),t.log=console.log,t.warn=console.warn,function(){var h=t.util.object.extend,r=t.util.object.clone,c=[];t.util.object.extend(c,{cancelAll:function(){var p=this.splice(0);return p.forEach(function(m){m.cancel()}),p},cancelByCanvas:function(p){if(!p)return[];var m=this.filter(function(y){return typeof y.target=="object"&&y.target.canvas===p});return m.forEach(function(y){y.cancel()}),m},cancelByTarget:function(p){var m=this.findAnimationsByTarget(p);return m.forEach(function(y){y.cancel()}),m},findAnimationIndex:function(p){return this.indexOf(this.findAnimation(p))},findAnimation:function(p){return this.find(function(m){return m.cancel===p})},findAnimationsByTarget:function(p){return p?this.filter(function(m){return m.target===p}):[]}});function f(){return!1}function i(p,m,y,C){return-y*Math.cos(p/C*(Math.PI/2))+y+m}function s(p){p||(p={});var m=!1,y,C=function(){var x=t.runningAnimations.indexOf(y);return x>-1&&t.runningAnimations.splice(x,1)[0]};return y=h(r(p),{cancel:function(){return m=!0,C()},currentValue:"startValue"in p?p.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(y),d(function(x){var _=x||+new Date,S=p.duration||500,b=_+S,F,R=p.onChange||f,z=p.abort||f,$=p.onComplete||f,G=p.easing||i,K="startValue"in p?p.startValue.length>0:!1,J="startValue"in p?p.startValue:0,Y="endValue"in p?p.endValue:100,ee=p.byValue||(K?J.map(function(N,T){return Y[T]-J[T]}):Y-J);p.onStart&&p.onStart(),function N(T){F=T||+new Date;var k=F>b?S:F-_,M=k/S,D=K?J.map(function(P,O){return G(k,J[O],ee[O],S)}):G(k,J,ee,S),B=Math.abs(K?(D[0]-J[0])/ee[0]:(D-J)/ee);if(y.currentValue=K?D.slice():D,y.completionRate=B,y.durationRate=M,!m){if(z(D,B,M)){C();return}if(F>b){y.currentValue=K?Y.slice():Y,y.completionRate=1,y.durationRate=1,R(K?Y.slice():Y,1,1),$(Y,1,1),C();return}else R(D,B,M),d(N)}}(_)}),y.cancel}var o=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(p){return t.window.setTimeout(p,1e3/60)},l=t.window.cancelAnimationFrame||t.window.clearTimeout;function d(){return o.apply(t.window,arguments)}function u(){return l.apply(t.window,arguments)}t.util.animate=s,t.util.requestAnimFrame=d,t.util.cancelAnimFrame=u,t.runningAnimations=c}(),function(){function h(c,f,i){var s="rgba("+parseInt(c[0]+i*(f[0]-c[0]),10)+","+parseInt(c[1]+i*(f[1]-c[1]),10)+","+parseInt(c[2]+i*(f[2]-c[2]),10);return s+=","+(c&&f?parseFloat(c[3]+i*(f[3]-c[3])):1),s+=")",s}function r(c,f,i,s){var o=new t.Color(c).getSource(),l=new t.Color(f).getSource(),d=s.onComplete,u=s.onChange;return s=s||{},t.util.animate(t.util.object.extend(s,{duration:i||500,startValue:o,endValue:l,byValue:l,easing:function(p,m,y,C){var x=s.colorEasing?s.colorEasing(p,C):1-Math.cos(p/C*(Math.PI/2));return h(m,y,x)},onComplete:function(p,m,y){if(d)return d(h(l,l,0),m,y)},onChange:function(p,m,y){if(u){if(Array.isArray(p))return u(h(p,p,0),m,y);u(p,m,y)}}}))}t.util.animateColor=r}(),function(){function h(T,k,M,D){return T<Math.abs(k)?(T=k,D=M/4):k===0&&T===0?D=M/(2*Math.PI)*Math.asin(1):D=M/(2*Math.PI)*Math.asin(k/T),{a:T,c:k,p:M,s:D}}function r(T,k,M){return T.a*Math.pow(2,10*(k-=1))*Math.sin((k*M-T.s)*(2*Math.PI)/T.p)}function c(T,k,M,D){return M*((T=T/D-1)*T*T+1)+k}function f(T,k,M,D){return T/=D/2,T<1?M/2*T*T*T+k:M/2*((T-=2)*T*T+2)+k}function i(T,k,M,D){return M*(T/=D)*T*T*T+k}function s(T,k,M,D){return-M*((T=T/D-1)*T*T*T-1)+k}function o(T,k,M,D){return T/=D/2,T<1?M/2*T*T*T*T+k:-M/2*((T-=2)*T*T*T-2)+k}function l(T,k,M,D){return M*(T/=D)*T*T*T*T+k}function d(T,k,M,D){return M*((T=T/D-1)*T*T*T*T+1)+k}function u(T,k,M,D){return T/=D/2,T<1?M/2*T*T*T*T*T+k:M/2*((T-=2)*T*T*T*T+2)+k}function p(T,k,M,D){return-M*Math.cos(T/D*(Math.PI/2))+M+k}function m(T,k,M,D){return M*Math.sin(T/D*(Math.PI/2))+k}function y(T,k,M,D){return-M/2*(Math.cos(Math.PI*T/D)-1)+k}function C(T,k,M,D){return T===0?k:M*Math.pow(2,10*(T/D-1))+k}function x(T,k,M,D){return T===D?k+M:M*(-Math.pow(2,-10*T/D)+1)+k}function _(T,k,M,D){return T===0?k:T===D?k+M:(T/=D/2,T<1?M/2*Math.pow(2,10*(T-1))+k:M/2*(-Math.pow(2,-10*--T)+2)+k)}function S(T,k,M,D){return-M*(Math.sqrt(1-(T/=D)*T)-1)+k}function b(T,k,M,D){return M*Math.sqrt(1-(T=T/D-1)*T)+k}function F(T,k,M,D){return T/=D/2,T<1?-M/2*(Math.sqrt(1-T*T)-1)+k:M/2*(Math.sqrt(1-(T-=2)*T)+1)+k}function R(T,k,M,D){var B=1.70158,P=0,O=M;if(T===0)return k;if(T/=D,T===1)return k+M;P||(P=D*.3);var A=h(O,M,P,B);return-r(A,T,D)+k}function z(T,k,M,D){var B=1.70158,P=0,O=M;if(T===0)return k;if(T/=D,T===1)return k+M;P||(P=D*.3);var A=h(O,M,P,B);return A.a*Math.pow(2,-10*T)*Math.sin((T*D-A.s)*(2*Math.PI)/A.p)+A.c+k}function $(T,k,M,D){var B=1.70158,P=0,O=M;if(T===0)return k;if(T/=D/2,T===2)return k+M;P||(P=D*(.3*1.5));var A=h(O,M,P,B);return T<1?-.5*r(A,T,D)+k:A.a*Math.pow(2,-10*(T-=1))*Math.sin((T*D-A.s)*(2*Math.PI)/A.p)*.5+A.c+k}function G(T,k,M,D,B){return B===void 0&&(B=1.70158),M*(T/=D)*T*((B+1)*T-B)+k}function K(T,k,M,D,B){return B===void 0&&(B=1.70158),M*((T=T/D-1)*T*((B+1)*T+B)+1)+k}function J(T,k,M,D,B){return B===void 0&&(B=1.70158),T/=D/2,T<1?M/2*(T*T*(((B*=1.525)+1)*T-B))+k:M/2*((T-=2)*T*(((B*=1.525)+1)*T+B)+2)+k}function Y(T,k,M,D){return M-ee(D-T,0,M,D)+k}function ee(T,k,M,D){return(T/=D)<1/2.75?M*(7.5625*T*T)+k:T<2/2.75?M*(7.5625*(T-=1.5/2.75)*T+.75)+k:T<2.5/2.75?M*(7.5625*(T-=2.25/2.75)*T+.9375)+k:M*(7.5625*(T-=2.625/2.75)*T+.984375)+k}function N(T,k,M,D){return T<D/2?Y(T*2,0,M,D)*.5+k:ee(T*2-D,0,M,D)*.5+M*.5+k}t.util.ease={easeInQuad:function(T,k,M,D){return M*(T/=D)*T+k},easeOutQuad:function(T,k,M,D){return-M*(T/=D)*(T-2)+k},easeInOutQuad:function(T,k,M,D){return T/=D/2,T<1?M/2*T*T+k:-M/2*(--T*(T-2)-1)+k},easeInCubic:function(T,k,M,D){return M*(T/=D)*T*T+k},easeOutCubic:c,easeInOutCubic:f,easeInQuart:i,easeOutQuart:s,easeInOutQuart:o,easeInQuint:l,easeOutQuint:d,easeInOutQuint:u,easeInSine:p,easeOutSine:m,easeInOutSine:y,easeInExpo:C,easeOutExpo:x,easeInOutExpo:_,easeInCirc:S,easeOutCirc:b,easeInOutCirc:F,easeInElastic:R,easeOutElastic:z,easeInOutElastic:$,easeInBack:G,easeOutBack:K,easeInOutBack:J,easeInBounce:Y,easeOutBounce:ee,easeInOutBounce:N}}(),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.util.object.clone,i=r.util.toFixed,s=r.util.parseUnit,o=r.util.multiplyTransformMatrices,l=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],d=["symbol","image","marker","pattern","view","svg"],u=["pattern","defs","symbol","metadata","clipPath","mask","desc"],p=["symbol","g","a","svg","clipPath","defs"],m={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},y={stroke:"strokeOpacity",fill:"fillOpacity"},C="font-size",x="clip-path";r.svgValidTagNamesRegEx=b(l),r.svgViewBoxElementsRegEx=b(d),r.svgInvalidAncestorsRegEx=b(u),r.svgValidParentsRegEx=b(p),r.cssRules={},r.gradientDefs={},r.clipPaths={};function _(P){return P in m?m[P]:P}function S(P,O,A,L){var V=Array.isArray(O),W;if((P==="fill"||P==="stroke")&&O==="none")O="";else{if(P==="strokeUniform")return O==="non-scaling-stroke";if(P==="strokeDashArray")O==="none"?O=null:O=O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(P==="transformMatrix")A&&A.transformMatrix?O=o(A.transformMatrix,r.parseTransformAttribute(O)):O=r.parseTransformAttribute(O);else if(P==="visible")O=O!=="none"&&O!=="hidden",A&&A.visible===!1&&(O=!1);else if(P==="opacity")O=parseFloat(O),A&&typeof A.opacity<"u"&&(O*=A.opacity);else if(P==="textAnchor")O=O==="start"?"left":O==="end"?"right":"center";else if(P==="charSpacing")W=s(O,L)/L*1e3;else if(P==="paintFirst"){var Z=O.indexOf("fill"),ne=O.indexOf("stroke"),O="fill";(Z>-1&&ne>-1&&ne<Z||Z===-1&&ne>-1)&&(O="stroke")}else{if(P==="href"||P==="xlink:href"||P==="font")return O;if(P==="imageSmoothing")return O==="optimizeQuality";W=V?O.map(s):s(O,L)}}return!V&&isNaN(W)?O:W}function b(P){return new RegExp("^("+P.join("|")+")\\b","i")}function F(P){for(var O in y)if(!(typeof P[y[O]]>"u"||P[O]==="")){if(typeof P[O]>"u"){if(!r.Object.prototype[O])continue;P[O]=r.Object.prototype[O]}if(P[O].indexOf("url(")!==0){var A=new r.Color(P[O]);P[O]=A.setAlpha(i(A.getAlpha()*P[y[O]],2)).toRgba()}}return P}function R(P,O){var A,L=[],V,W,Z;for(W=0,Z=O.length;W<Z;W++)A=O[W],V=P.getElementsByTagName(A),L=L.concat(Array.prototype.slice.call(V));return L}r.parseTransformAttribute=function(){function P(Q,le){var de=r.util.cos(le[0]),pe=r.util.sin(le[0]),ce=0,ge=0;le.length===3&&(ce=le[1],ge=le[2]),Q[0]=de,Q[1]=pe,Q[2]=-pe,Q[3]=de,Q[4]=ce-(de*ce-pe*ge),Q[5]=ge-(pe*ce+de*ge)}function O(Q,le){var de=le[0],pe=le.length===2?le[1]:le[0];Q[0]=de,Q[3]=pe}function A(Q,le,de){Q[de]=Math.tan(r.util.degreesToRadians(le[0]))}function L(Q,le){Q[4]=le[0],le.length===2&&(Q[5]=le[1])}var V=r.iMatrix,W=r.reNum,Z=r.commaWsp,ne="(?:(skewX)\\s*\\(\\s*("+W+")\\s*\\))",ie="(?:(skewY)\\s*\\(\\s*("+W+")\\s*\\))",U="(?:(rotate)\\s*\\(\\s*("+W+")(?:"+Z+"("+W+")"+Z+"("+W+"))?\\s*\\))",I="(?:(scale)\\s*\\(\\s*("+W+")(?:"+Z+"("+W+"))?\\s*\\))",H="(?:(translate)\\s*\\(\\s*("+W+")(?:"+Z+"("+W+"))?\\s*\\))",q="(?:(matrix)\\s*\\(\\s*("+W+")"+Z+"("+W+")"+Z+"("+W+")"+Z+"("+W+")"+Z+"("+W+")"+Z+"("+W+")\\s*\\))",X="(?:"+q+"|"+H+"|"+I+"|"+U+"|"+ne+"|"+ie+")",te="(?:"+X+"(?:"+Z+"*"+X+")*)",oe="^\\s*(?:"+te+"?)\\s*$",fe=new RegExp(oe),ae=new RegExp(X,"g");return function(Q){var le=V.concat(),de=[];if(!Q||Q&&!fe.test(Q))return le;Q.replace(ae,function(ce){var ge=new RegExp(X).exec(ce).filter(function(Sn){return!!Sn}),ke=ge[1],Me=ge.slice(2).map(parseFloat);switch(ke){case"translate":L(le,Me);break;case"rotate":Me[0]=r.util.degreesToRadians(Me[0]),P(le,Me);break;case"scale":O(le,Me);break;case"skewX":A(le,Me,2);break;case"skewY":A(le,Me,1);break;case"matrix":le=Me;break}de.push(le.concat()),le=V.concat()});for(var pe=de[0];de.length>1;)de.shift(),pe=r.util.multiplyTransformMatrices(pe,de[0]);return pe}}();function z(P,O){var A,L;P.replace(/;\s*$/,"").split(";").forEach(function(V){var W=V.split(":");A=W[0].trim().toLowerCase(),L=W[1].trim(),O[A]=L})}function $(P,O){var A,L;for(var V in P)typeof P[V]>"u"||(A=V.toLowerCase(),L=P[V],O[A]=L)}function G(P,O){var A={};for(var L in r.cssRules[O])if(K(P,L.split(" ")))for(var V in r.cssRules[O][L])A[V]=r.cssRules[O][L][V];return A}function K(P,O){var A,L=!0;return A=Y(P,O.pop()),A&&O.length&&(L=J(P,O)),A&&L&&O.length===0}function J(P,O){for(var A,L=!0;P.parentNode&&P.parentNode.nodeType===1&&O.length;)L&&(A=O.pop()),P=P.parentNode,L=Y(P,A);return O.length===0}function Y(P,O){var A=P.nodeName,L=P.getAttribute("class"),V=P.getAttribute("id"),W,Z;if(W=new RegExp("^"+A,"i"),O=O.replace(W,""),V&&O.length&&(W=new RegExp("#"+V+"(?![a-zA-Z\\-]+)","i"),O=O.replace(W,"")),L&&O.length)for(L=L.split(" "),Z=L.length;Z--;)W=new RegExp("\\."+L[Z]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(W,"");return O.length===0}function ee(P,O){var A;if(P.getElementById&&(A=P.getElementById(O)),A)return A;var L,V,W,Z=P.getElementsByTagName("*");for(V=0,W=Z.length;V<W;V++)if(L=Z[V],O===L.getAttribute("id"))return L}function N(P){for(var O=R(P,["use","svg:use"]),A=0;O.length&&A<O.length;){var L=O[A],V=L.getAttribute("xlink:href")||L.getAttribute("href");if(V===null)return;var W=V.slice(1),Z=L.getAttribute("x")||0,ne=L.getAttribute("y")||0,ie=ee(P,W).cloneNode(!0),U=(ie.getAttribute("transform")||"")+" translate("+Z+", "+ne+")",I,H=O.length,q,X,te,oe,fe=r.svgNS;if(k(ie),/^svg$/i.test(ie.nodeName)){var ae=ie.ownerDocument.createElementNS(fe,"g");for(X=0,te=ie.attributes,oe=te.length;X<oe;X++)q=te.item(X),ae.setAttributeNS(fe,q.nodeName,q.nodeValue);for(;ie.firstChild;)ae.appendChild(ie.firstChild);ie=ae}for(X=0,te=L.attributes,oe=te.length;X<oe;X++)q=te.item(X),!(q.nodeName==="x"||q.nodeName==="y"||q.nodeName==="xlink:href"||q.nodeName==="href")&&(q.nodeName==="transform"?U=q.nodeValue+" "+U:ie.setAttribute(q.nodeName,q.nodeValue));ie.setAttribute("transform",U),ie.setAttribute("instantiated_by_use","1"),ie.removeAttribute("id"),I=L.parentNode,I.replaceChild(ie,L),O.length===H&&A++}}var T=new RegExp("^\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*,?\\s*("+r.reNum+"+)\\s*$");function k(P){if(!r.svgViewBoxElementsRegEx.test(P.nodeName))return{};var O=P.getAttribute("viewBox"),A=1,L=1,V=0,W=0,Z,ne,ie,U,I=P.getAttribute("width"),H=P.getAttribute("height"),q=P.getAttribute("x")||0,X=P.getAttribute("y")||0,te=P.getAttribute("preserveAspectRatio")||"",oe=!O||!(O=O.match(T)),fe=!I||!H||I==="100%"||H==="100%",ae=oe&&fe,Q={},le="",de=0,pe=0;if(Q.width=0,Q.height=0,Q.toBeParsed=ae,oe&&(q||X)&&P.parentNode&&P.parentNode.nodeName!=="#document"&&(le=" translate("+s(q)+" "+s(X)+") ",ie=(P.getAttribute("transform")||"")+le,P.setAttribute("transform",ie),P.removeAttribute("x"),P.removeAttribute("y")),ae)return Q;if(oe)return Q.width=s(I),Q.height=s(H),Q;if(V=-parseFloat(O[1]),W=-parseFloat(O[2]),Z=parseFloat(O[3]),ne=parseFloat(O[4]),Q.minX=V,Q.minY=W,Q.viewBoxWidth=Z,Q.viewBoxHeight=ne,fe?(Q.width=Z,Q.height=ne):(Q.width=s(I),Q.height=s(H),A=Q.width/Z,L=Q.height/ne),te=r.util.parsePreserveAspectRatioAttribute(te),te.alignX!=="none"&&(te.meetOrSlice==="meet"&&(L=A=A>L?L:A),te.meetOrSlice==="slice"&&(L=A=A>L?A:L),de=Q.width-Z*A,pe=Q.height-ne*A,te.alignX==="Mid"&&(de/=2),te.alignY==="Mid"&&(pe/=2),te.alignX==="Min"&&(de=0),te.alignY==="Min"&&(pe=0)),A===1&&L===1&&V===0&&W===0&&q===0&&X===0)return Q;if((q||X)&&P.parentNode.nodeName!=="#document"&&(le=" translate("+s(q)+" "+s(X)+") "),ie=le+" matrix("+A+" 0 0 "+L+" "+(V*A+de)+" "+(W*L+pe)+") ",P.nodeName==="svg"){for(U=P.ownerDocument.createElementNS(r.svgNS,"g");P.firstChild;)U.appendChild(P.firstChild);P.appendChild(U)}else U=P,U.removeAttribute("x"),U.removeAttribute("y"),ie=U.getAttribute("transform")+ie;return U.setAttribute("transform",ie),Q}function M(P,O){for(;P&&(P=P.parentNode);)if(P.nodeName&&O.test(P.nodeName.replace("svg:",""))&&!P.getAttribute("instantiated_by_use"))return!0;return!1}r.parseSVGDocument=function(P,O,A,L){if(P){N(P);var V=r.Object.__uid++,W,Z,ne=k(P),ie=r.util.toArray(P.getElementsByTagName("*"));if(ne.crossOrigin=L&&L.crossOrigin,ne.svgUid=V,ie.length===0&&r.isLikelyNode){ie=P.selectNodes('//*[name(.)!="svg"]');var U=[];for(W=0,Z=ie.length;W<Z;W++)U[W]=ie[W];ie=U}var I=ie.filter(function(q){return k(q),r.svgValidTagNamesRegEx.test(q.nodeName.replace("svg:",""))&&!M(q,r.svgInvalidAncestorsRegEx)});if(!I||I&&!I.length){O&&O([],{});return}var H={};ie.filter(function(q){return q.nodeName.replace("svg:","")==="clipPath"}).forEach(function(q){var X=q.getAttribute("id");H[X]=r.util.toArray(q.getElementsByTagName("*")).filter(function(te){return r.svgValidTagNamesRegEx.test(te.nodeName.replace("svg:",""))})}),r.gradientDefs[V]=r.getGradientDefs(P),r.cssRules[V]=r.getCSSRules(P),r.clipPaths[V]=H,r.parseElements(I,function(q,X){O&&(O(q,ne,X,ie),delete r.gradientDefs[V],delete r.cssRules[V],delete r.clipPaths[V])},f(ne),A,L)}};function D(P,O){var A=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],L="xlink:href",V=O.getAttribute(L).slice(1),W=ee(P,V);if(W&&W.getAttribute(L)&&D(P,W),A.forEach(function(ne){W&&!O.hasAttribute(ne)&&W.hasAttribute(ne)&&O.setAttribute(ne,W.getAttribute(ne))}),!O.children.length)for(var Z=W.cloneNode(!0);Z.firstChild;)O.appendChild(Z.firstChild);O.removeAttribute(L)}var B=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+r.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+r.reNum+"))?\\s+(.*)");c(r,{parseFontDeclaration:function(P,O){var A=P.match(B);if(A){var L=A[1],V=A[3],W=A[4],Z=A[5],ne=A[6];L&&(O.fontStyle=L),V&&(O.fontWeight=isNaN(parseFloat(V))?V:parseFloat(V)),W&&(O.fontSize=s(W)),ne&&(O.fontFamily=ne),Z&&(O.lineHeight=Z==="normal"?1:Z)}},getGradientDefs:function(P){var O=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],A=R(P,O),L,V=0,W={};for(V=A.length;V--;)L=A[V],L.getAttribute("xlink:href")&&D(P,L),W[L.getAttribute("id")]=L;return W},parseAttributes:function(P,O,A){if(P){var L,V={},W,Z;typeof A>"u"&&(A=P.getAttribute("svgUid")),P.parentNode&&r.svgValidParentsRegEx.test(P.parentNode.nodeName)&&(V=r.parseAttributes(P.parentNode,O,A));var ne=O.reduce(function(te,oe){return L=P.getAttribute(oe),L&&(te[oe]=L),te},{}),ie=c(G(P,A),r.parseStyleAttribute(P));ne=c(ne,ie),ie[x]&&P.setAttribute(x,ie[x]),W=Z=V.fontSize||r.Text.DEFAULT_SVG_FONT_SIZE,ne[C]&&(ne[C]=W=s(ne[C],Z));var U,I,H={};for(var q in ne)U=_(q),I=S(U,ne[q],V,W),H[U]=I;H&&H.font&&r.parseFontDeclaration(H.font,H);var X=c(V,H);return r.svgValidParentsRegEx.test(P.nodeName)?X:F(X)}},parseElements:function(P,O,A,L,V){new r.ElementsParser(P,O,A,L,V).parse()},parseStyleAttribute:function(P){var O={},A=P.getAttribute("style");return A&&(typeof A=="string"?z(A,O):$(A,O)),O},parsePointsAttribute:function(P){if(!P)return null;P=P.replace(/,/g," ").trim(),P=P.split(/\s+/);var O=[],A,L;for(A=0,L=P.length;A<L;A+=2)O.push({x:parseFloat(P[A]),y:parseFloat(P[A+1])});return O},getCSSRules:function(P){var O=P.getElementsByTagName("style"),A,L,V={},W;for(A=0,L=O.length;A<L;A++){var Z=O[A].textContent;Z=Z.replace(/\/\*[\s\S]*?\*\//g,""),Z.trim()!==""&&(W=Z.split("}"),W=W.filter(function(ne){return ne.trim()}),W.forEach(function(ne){var ie=ne.split("{"),U={},I=ie[1].trim(),H=I.split(";").filter(function(oe){return oe.trim()});for(A=0,L=H.length;A<L;A++){var q=H[A].split(":"),X=q[0].trim(),te=q[1].trim();U[X]=te}ne=ie[0].trim(),ne.split(",").forEach(function(oe){oe=oe.replace(/^svg/i,"").trim(),oe!==""&&(V[oe]?r.util.object.extend(V[oe],U):V[oe]=r.util.object.clone(U))})}))}return V},loadSVGFromURL:function(P,O,A,L){P=P.replace(/^\n\s*/,"").trim(),new r.util.request(P,{method:"get",onComplete:V});function V(W){var Z=W.responseXML;if(!Z||!Z.documentElement)return O&&O(null),!1;r.parseSVGDocument(Z.documentElement,function(ne,ie,U,I){O&&O(ne,ie,U,I)},A,L)}},loadSVGFromString:function(P,O,A,L){var V=new r.window.DOMParser,W=V.parseFromString(P.trim(),"text/xml");r.parseSVGDocument(W.documentElement,function(Z,ne,ie,U){O(Z,ne,ie,U)},A,L)}})}(e),t.ElementsParser=function(h,r,c,f,i,s){this.elements=h,this.callback=r,this.options=c,this.reviver=f,this.svgUid=c&&c.svgUid||0,this.parsingOptions=i,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=s},function(h){h.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},h.createObjects=function(){var r=this;this.elements.forEach(function(c,f){c.setAttribute("svgUid",r.svgUid),r.createObject(c,f)})},h.findTag=function(r){return t[t.util.string.capitalize(r.tagName.replace("svg:",""))]},h.createObject=function(r,c){var f=this.findTag(r);if(f&&f.fromElement)try{f.fromElement(r,this.createCallback(c,r),this.options)}catch(i){t.log(i)}else this.checkIfDone()},h.createCallback=function(r,c){var f=this;return function(i){var s;f.resolveGradient(i,c,"fill"),f.resolveGradient(i,c,"stroke"),i instanceof t.Image&&i._originalElement&&(s=i.parsePreserveAspectRatioAttribute(c)),i._removeTransformMatrix(s),f.resolveClipPath(i,c),f.reviver&&f.reviver(c,i),f.instances[r]=i,f.checkIfDone()}},h.extractPropertyDefinition=function(r,c,f){var i=r[c],s=this.regexUrl;if(s.test(i)){s.lastIndex=0;var o=s.exec(i)[1];return s.lastIndex=0,t[f][this.svgUid][o]}},h.resolveGradient=function(r,c,f){var i=this.extractPropertyDefinition(r,f,"gradientDefs");if(i){var s=c.getAttribute(f+"-opacity"),o=t.Gradient.fromElement(i,r,s,this.options);r.set(f,o)}},h.createClipPathCallback=function(r,c){return function(f){f._removeTransformMatrix(),f.fillRule=f.clipRule,c.push(f)}},h.resolveClipPath=function(r,c){var f=this.extractPropertyDefinition(r,"clipPath","clipPaths"),i,s,o,l,d,u;if(f){l=[],o=t.util.invertTransform(r.calcTransformMatrix());for(var p=f[0].parentNode,m=c;m.parentNode&&m.getAttribute("clip-path")!==r.clipPath;)m=m.parentNode;m.parentNode.appendChild(p);for(var y=0;y<f.length;y++)i=f[y],s=this.findTag(i),s.fromElement(i,this.createClipPathCallback(r,l),this.options);l.length===1?f=l[0]:f=new t.Group(l),d=t.util.multiplyTransformMatrices(o,f.calcTransformMatrix()),f.clipPath&&this.resolveClipPath(f,m);var u=t.util.qrDecompose(d);f.flipX=!1,f.flipY=!1,f.set("scaleX",u.scaleX),f.set("scaleY",u.scaleY),f.angle=u.angle,f.skewX=u.skewX,f.skewY=0,f.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),r.clipPath=f}else delete r.clipPath},h.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(r){return r!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(h){var r=h.fabric||(h.fabric={});if(r.Point){r.warn("fabric.Point is already defined");return}r.Point=c;function c(f,i){this.x=f,this.y=i}c.prototype={type:"point",constructor:c,add:function(f){return new c(this.x+f.x,this.y+f.y)},addEquals:function(f){return this.x+=f.x,this.y+=f.y,this},scalarAdd:function(f){return new c(this.x+f,this.y+f)},scalarAddEquals:function(f){return this.x+=f,this.y+=f,this},subtract:function(f){return new c(this.x-f.x,this.y-f.y)},subtractEquals:function(f){return this.x-=f.x,this.y-=f.y,this},scalarSubtract:function(f){return new c(this.x-f,this.y-f)},scalarSubtractEquals:function(f){return this.x-=f,this.y-=f,this},multiply:function(f){return new c(this.x*f,this.y*f)},multiplyEquals:function(f){return this.x*=f,this.y*=f,this},divide:function(f){return new c(this.x/f,this.y/f)},divideEquals:function(f){return this.x/=f,this.y/=f,this},eq:function(f){return this.x===f.x&&this.y===f.y},lt:function(f){return this.x<f.x&&this.y<f.y},lte:function(f){return this.x<=f.x&&this.y<=f.y},gt:function(f){return this.x>f.x&&this.y>f.y},gte:function(f){return this.x>=f.x&&this.y>=f.y},lerp:function(f,i){return typeof i>"u"&&(i=.5),i=Math.max(Math.min(1,i),0),new c(this.x+(f.x-this.x)*i,this.y+(f.y-this.y)*i)},distanceFrom:function(f){var i=this.x-f.x,s=this.y-f.y;return Math.sqrt(i*i+s*s)},midPointFrom:function(f){return this.lerp(f)},min:function(f){return new c(Math.min(this.x,f.x),Math.min(this.y,f.y))},max:function(f){return new c(Math.max(this.x,f.x),Math.max(this.y,f.y))},toString:function(){return this.x+","+this.y},setXY:function(f,i){return this.x=f,this.y=i,this},setX:function(f){return this.x=f,this},setY:function(f){return this.y=f,this},setFromPoint:function(f){return this.x=f.x,this.y=f.y,this},swap:function(f){var i=this.x,s=this.y;this.x=f.x,this.y=f.y,f.x=i,f.y=s},clone:function(){return new c(this.x,this.y)}}}(e),function(h){var r=h.fabric||(h.fabric={});if(r.Intersection){r.warn("fabric.Intersection is already defined");return}function c(f){this.status=f,this.points=[]}r.Intersection=c,r.Intersection.prototype={constructor:c,appendPoint:function(f){return this.points.push(f),this},appendPoints:function(f){return this.points=this.points.concat(f),this}},r.Intersection.intersectLineLine=function(f,i,s,o){var l,d=(o.x-s.x)*(f.y-s.y)-(o.y-s.y)*(f.x-s.x),u=(i.x-f.x)*(f.y-s.y)-(i.y-f.y)*(f.x-s.x),p=(o.y-s.y)*(i.x-f.x)-(o.x-s.x)*(i.y-f.y);if(p!==0){var m=d/p,y=u/p;0<=m&&m<=1&&0<=y&&y<=1?(l=new c("Intersection"),l.appendPoint(new r.Point(f.x+m*(i.x-f.x),f.y+m*(i.y-f.y)))):l=new c}else d===0||u===0?l=new c("Coincident"):l=new c("Parallel");return l},r.Intersection.intersectLinePolygon=function(f,i,s){var o=new c,l=s.length,d,u,p,m;for(m=0;m<l;m++)d=s[m],u=s[(m+1)%l],p=c.intersectLineLine(f,i,d,u),o.appendPoints(p.points);return o.points.length>0&&(o.status="Intersection"),o},r.Intersection.intersectPolygonPolygon=function(f,i){var s=new c,o=f.length,l;for(l=0;l<o;l++){var d=f[l],u=f[(l+1)%o],p=c.intersectLinePolygon(d,u,i);s.appendPoints(p.points)}return s.points.length>0&&(s.status="Intersection"),s},r.Intersection.intersectPolygonRectangle=function(f,i,s){var o=i.min(s),l=i.max(s),d=new r.Point(l.x,o.y),u=new r.Point(o.x,l.y),p=c.intersectLinePolygon(o,d,f),m=c.intersectLinePolygon(d,l,f),y=c.intersectLinePolygon(l,u,f),C=c.intersectLinePolygon(u,o,f),x=new c;return x.appendPoints(p.points),x.appendPoints(m.points),x.appendPoints(y.points),x.appendPoints(C.points),x.points.length>0&&(x.status="Intersection"),x}}(e),function(h){var r=h.fabric||(h.fabric={});if(r.Color){r.warn("fabric.Color is already defined.");return}function c(i){i?this._tryParsingColor(i):this.setSource([0,0,0,1])}r.Color=c,r.Color.prototype={_tryParsingColor:function(i){var s;i in c.colorNameMap&&(i=c.colorNameMap[i]),i==="transparent"&&(s=[255,255,255,0]),s||(s=c.sourceFromHex(i)),s||(s=c.sourceFromRgb(i)),s||(s=c.sourceFromHsl(i)),s||(s=[0,0,0,1]),s&&this.setSource(s)},_rgbToHsl:function(i,s,o){i/=255,s/=255,o/=255;var l,d,u,p=r.util.array.max([i,s,o]),m=r.util.array.min([i,s,o]);if(u=(p+m)/2,p===m)l=d=0;else{var y=p-m;switch(d=u>.5?y/(2-p-m):y/(p+m),p){case i:l=(s-o)/y+(s<o?6:0);break;case s:l=(o-i)/y+2;break;case o:l=(i-s)/y+4;break}l/=6}return[Math.round(l*360),Math.round(d*100),Math.round(u*100)]},getSource:function(){return this._source},setSource:function(i){this._source=i},toRgb:function(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function(){var i=this.getSource(),s=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+s[0]+","+s[1]+"%,"+s[2]+"%)"},toHsla:function(){var i=this.getSource(),s=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+s[0]+","+s[1]+"%,"+s[2]+"%,"+i[3]+")"},toHex:function(){var i=this.getSource(),s,o,l;return s=i[0].toString(16),s=s.length===1?"0"+s:s,o=i[1].toString(16),o=o.length===1?"0"+o:o,l=i[2].toString(16),l=l.length===1?"0"+l:l,s.toUpperCase()+o.toUpperCase()+l.toUpperCase()},toHexa:function(){var i=this.getSource(),s;return s=Math.round(i[3]*255),s=s.toString(16),s=s.length===1?"0"+s:s,this.toHex()+s.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(i){var s=this.getSource();return s[3]=i,this.setSource(s),this},toGrayscale:function(){var i=this.getSource(),s=parseInt((i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),10),o=i[3];return this.setSource([s,s,s,o]),this},toBlackWhite:function(i){var s=this.getSource(),o=(s[0]*.3+s[1]*.59+s[2]*.11).toFixed(0),l=s[3];return i=i||127,o=Number(o)<Number(i)?0:255,this.setSource([o,o,o,l]),this},overlayWith:function(i){i instanceof c||(i=new c(i));var s=[],o=this.getAlpha(),l=.5,d=this.getSource(),u=i.getSource(),p;for(p=0;p<3;p++)s.push(Math.round(d[p]*(1-l)+u[p]*l));return s[3]=o,this.setSource(s),this}},r.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,r.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,r.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,r.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function f(i,s,o){return o<0&&(o+=1),o>1&&(o-=1),o<1/6?i+(s-i)*6*o:o<1/2?s:o<2/3?i+(s-i)*(2/3-o)*6:i}r.Color.fromRgb=function(i){return c.fromSource(c.sourceFromRgb(i))},r.Color.sourceFromRgb=function(i){var s=i.match(c.reRGBa);if(s){var o=parseInt(s[1],10)/(/%$/.test(s[1])?100:1)*(/%$/.test(s[1])?255:1),l=parseInt(s[2],10)/(/%$/.test(s[2])?100:1)*(/%$/.test(s[2])?255:1),d=parseInt(s[3],10)/(/%$/.test(s[3])?100:1)*(/%$/.test(s[3])?255:1);return[parseInt(o,10),parseInt(l,10),parseInt(d,10),s[4]?parseFloat(s[4]):1]}},r.Color.fromRgba=c.fromRgb,r.Color.fromHsl=function(i){return c.fromSource(c.sourceFromHsl(i))},r.Color.sourceFromHsl=function(i){var s=i.match(c.reHSLa);if(s){var o=(parseFloat(s[1])%360+360)%360/360,l=parseFloat(s[2])/(/%$/.test(s[2])?100:1),d=parseFloat(s[3])/(/%$/.test(s[3])?100:1),u,p,m;if(l===0)u=p=m=d;else{var y=d<=.5?d*(l+1):d+l-d*l,C=d*2-y;u=f(C,y,o+1/3),p=f(C,y,o),m=f(C,y,o-1/3)}return[Math.round(u*255),Math.round(p*255),Math.round(m*255),s[4]?parseFloat(s[4]):1]}},r.Color.fromHsla=c.fromHsl,r.Color.fromHex=function(i){return c.fromSource(c.sourceFromHex(i))},r.Color.sourceFromHex=function(i){if(i.match(c.reHex)){var s=i.slice(i.indexOf("#")+1),o=s.length===3||s.length===4,l=s.length===8||s.length===4,d=o?s.charAt(0)+s.charAt(0):s.substring(0,2),u=o?s.charAt(1)+s.charAt(1):s.substring(2,4),p=o?s.charAt(2)+s.charAt(2):s.substring(4,6),m=l?o?s.charAt(3)+s.charAt(3):s.substring(6,8):"FF";return[parseInt(d,16),parseInt(u,16),parseInt(p,16),parseFloat((parseInt(m,16)/255).toFixed(2))]}},r.Color.fromSource=function(i){var s=new c;return s.setSource(i),s}}(e),function(h){var r=h.fabric||(h.fabric={}),c=["e","se","s","sw","w","nw","n","ne","e"],f=["ns","nesw","ew","nwse"],i={},s="left",o="top",l="right",d="bottom",u="center",p={top:d,bottom:o,left:l,right:s,center:u},m=r.util.radiansToDegrees,y=Math.sign||function(U){return(U>0)-(U<0)||+U};function C(U,I){var H=U.angle+m(Math.atan2(I.y,I.x))+360;return Math.round(H%360/45)}function x(U,I){var H=I.transform.target,q=H.canvas,X=r.util.object.clone(I);X.target=H,q&&q.fire("object:"+U,X),H.fire(U,I)}function _(U,I){var H=I.canvas,q=H.uniScaleKey,X=U[q];return H.uniformScaling&&!X||!H.uniformScaling&&X}function S(U){return U.originX===u&&U.originY===u}function b(U,I,H){var q=U.lockScalingX,X=U.lockScalingY;return!!(q&&X||!I&&(q||X)&&H||q&&I==="x"||X&&I==="y")}function F(U,I,H){var q="not-allowed",X=_(U,H),te="";if(I.x!==0&&I.y===0?te="x":I.x===0&&I.y!==0&&(te="y"),b(H,te,X))return q;var oe=C(H,I);return c[oe]+"-resize"}function R(U,I,H){var q="not-allowed";if(I.x!==0&&H.lockSkewingY||I.y!==0&&H.lockSkewingX)return q;var X=C(H,I)%4;return f[X]+"-resize"}function z(U,I,H){return U[H.canvas.altActionKey]?i.skewCursorStyleHandler(U,I,H):i.scaleCursorStyleHandler(U,I,H)}function $(U,I,H){var q=U[H.canvas.altActionKey];if(I.x===0)return q?"skewX":"scaleY";if(I.y===0)return q?"skewY":"scaleX"}function G(U,I,H){return H.lockRotation?"not-allowed":I.cursorStyle}function K(U,I,H,q){return{e:U,transform:I,pointer:{x:H,y:q}}}function J(U){return function(I,H,q,X){var te=H.target,oe=te.getCenterPoint(),fe=te.translateToOriginPoint(oe,H.originX,H.originY),ae=U(I,H,q,X);return te.setPositionByOrigin(fe,H.originX,H.originY),ae}}function Y(U,I){return function(H,q,X,te){var oe=I(H,q,X,te);return oe&&x(U,K(H,q,X,te)),oe}}function ee(U,I,H,q,X){var te=U.target,oe=te.controls[U.corner],fe=te.canvas.getZoom(),ae=te.padding/fe,Q=te.toLocalPoint(new r.Point(q,X),I,H);return Q.x>=ae&&(Q.x-=ae),Q.x<=-ae&&(Q.x+=ae),Q.y>=ae&&(Q.y-=ae),Q.y<=ae&&(Q.y+=ae),Q.x-=oe.offsetX,Q.y-=oe.offsetY,Q}function N(U){return U.flipX!==U.flipY}function T(U,I,H,q,X){if(U[I]!==0){var te=U._getTransformedDimensions()[q],oe=X/te*U[H];U.set(H,oe)}}function k(U,I,H,q){var X=I.target,te=X._getTransformedDimensions(0,X.skewY),oe=ee(I,I.originX,I.originY,H,q),fe=Math.abs(oe.x*2)-te.x,ae=X.skewX,Q;fe<2?Q=0:(Q=m(Math.atan2(fe/X.scaleX,te.y/X.scaleY)),I.originX===s&&I.originY===d&&(Q=-Q),I.originX===l&&I.originY===o&&(Q=-Q),N(X)&&(Q=-Q));var le=ae!==Q;if(le){var de=X._getTransformedDimensions().y;X.set("skewX",Q),T(X,"skewY","scaleY","y",de)}return le}function M(U,I,H,q){var X=I.target,te=X._getTransformedDimensions(X.skewX,0),oe=ee(I,I.originX,I.originY,H,q),fe=Math.abs(oe.y*2)-te.y,ae=X.skewY,Q;fe<2?Q=0:(Q=m(Math.atan2(fe/X.scaleY,te.x/X.scaleX)),I.originX===s&&I.originY===d&&(Q=-Q),I.originX===l&&I.originY===o&&(Q=-Q),N(X)&&(Q=-Q));var le=ae!==Q;if(le){var de=X._getTransformedDimensions().x;X.set("skewY",Q),T(X,"skewX","scaleX","x",de)}return le}function D(U,I,H,q){var X=I.target,te=X.skewX,oe,fe=I.originY;if(X.lockSkewingX)return!1;if(te===0){var ae=ee(I,u,u,H,q);ae.x>0?oe=s:oe=l}else te>0&&(oe=fe===o?s:l),te<0&&(oe=fe===o?l:s),N(X)&&(oe=oe===s?l:s);I.originX=oe;var Q=Y("skewing",J(k));return Q(U,I,H,q)}function B(U,I,H,q){var X=I.target,te=X.skewY,oe,fe=I.originX;if(X.lockSkewingY)return!1;if(te===0){var ae=ee(I,u,u,H,q);ae.y>0?oe=o:oe=d}else te>0&&(oe=fe===s?o:d),te<0&&(oe=fe===s?d:o),N(X)&&(oe=oe===o?d:o);I.originY=oe;var Q=Y("skewing",J(M));return Q(U,I,H,q)}function P(U,I,H,q){var X=I,te=X.target,oe=te.translateToOriginPoint(te.getCenterPoint(),X.originX,X.originY);if(te.lockRotation)return!1;var fe=Math.atan2(X.ey-oe.y,X.ex-oe.x),ae=Math.atan2(q-oe.y,H-oe.x),Q=m(ae-fe+X.theta),le=!0;if(te.snapAngle>0){var de=te.snapAngle,pe=te.snapThreshold||de,ce=Math.ceil(Q/de)*de,ge=Math.floor(Q/de)*de;Math.abs(Q-ge)<pe?Q=ge:Math.abs(Q-ce)<pe&&(Q=ce)}return Q<0&&(Q=360+Q),Q%=360,le=te.angle!==Q,te.angle=Q,le}function O(U,I,H,q,X){X=X||{};var te=I.target,oe=te.lockScalingX,fe=te.lockScalingY,ae=X.by,Q,le,de,pe,ce=_(U,te),ge=b(te,ae,ce),ke,Me,Sn=I.gestureScale;if(ge)return!1;if(Sn)le=I.scaleX*Sn,de=I.scaleY*Sn;else{if(Q=ee(I,I.originX,I.originY,H,q),ke=ae!=="y"?y(Q.x):1,Me=ae!=="x"?y(Q.y):1,I.signX||(I.signX=ke),I.signY||(I.signY=Me),te.lockScalingFlip&&(I.signX!==ke||I.signY!==Me))return!1;if(pe=te._getTransformedDimensions(),ce&&!ae){var Er=Math.abs(Q.x)+Math.abs(Q.y),Ot=I.original,cg=Math.abs(pe.x*Ot.scaleX/te.scaleX)+Math.abs(pe.y*Ot.scaleY/te.scaleY),Tu=Er/cg;le=Ot.scaleX*Tu,de=Ot.scaleY*Tu}else le=Math.abs(Q.x*te.scaleX/pe.x),de=Math.abs(Q.y*te.scaleY/pe.y);S(I)&&(le*=2,de*=2),I.signX!==ke&&ae!=="y"&&(I.originX=p[I.originX],le*=-1,I.signX=ke),I.signY!==Me&&ae!=="x"&&(I.originY=p[I.originY],de*=-1,I.signY=Me)}var fg=te.scaleX,hg=te.scaleY;return ae?(ae==="x"&&te.set("scaleX",le),ae==="y"&&te.set("scaleY",de)):(!oe&&te.set("scaleX",le),!fe&&te.set("scaleY",de)),fg!==te.scaleX||hg!==te.scaleY}function A(U,I,H,q){return O(U,I,H,q)}function L(U,I,H,q){return O(U,I,H,q,{by:"x"})}function V(U,I,H,q){return O(U,I,H,q,{by:"y"})}function W(U,I,H,q){return U[I.target.canvas.altActionKey]?i.skewHandlerX(U,I,H,q):i.scalingY(U,I,H,q)}function Z(U,I,H,q){return U[I.target.canvas.altActionKey]?i.skewHandlerY(U,I,H,q):i.scalingX(U,I,H,q)}function ne(U,I,H,q){var X=I.target,te=ee(I,I.originX,I.originY,H,q),oe=X.strokeWidth/(X.strokeUniform?X.scaleX:1),fe=S(I)?2:1,ae=X.width,Q=Math.abs(te.x*fe/X.scaleX)-oe;return X.set("width",Math.max(Q,0)),ae!==Q}function ie(U,I,H,q){var X=I.target,te=H-I.offsetX,oe=q-I.offsetY,fe=!X.get("lockMovementX")&&X.left!==te,ae=!X.get("lockMovementY")&&X.top!==oe;return fe&&X.set("left",te),ae&&X.set("top",oe),(fe||ae)&&x("moving",K(U,I,H,q)),fe||ae}i.scaleCursorStyleHandler=F,i.skewCursorStyleHandler=R,i.scaleSkewCursorStyleHandler=z,i.rotationWithSnapping=Y("rotating",J(P)),i.scalingEqually=Y("scaling",J(A)),i.scalingX=Y("scaling",J(L)),i.scalingY=Y("scaling",J(V)),i.scalingYOrSkewingX=W,i.scalingXOrSkewingY=Z,i.changeWidth=Y("resizing",J(ne)),i.skewHandlerX=D,i.skewHandlerY=B,i.dragHandler=ie,i.scaleOrSkewActionName=$,i.rotationStyleHandler=G,i.fireEvent=x,i.wrapWithFixedAnchor=J,i.wrapWithFireEvent=Y,i.getLocalPoint=ee,r.controlsUtils=i}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.degreesToRadians,f=r.controlsUtils;function i(o,l,d,u,p){u=u||{};var m=this.sizeX||u.cornerSize||p.cornerSize,y=this.sizeY||u.cornerSize||p.cornerSize,C=typeof u.transparentCorners<"u"?u.transparentCorners:p.transparentCorners,x=C?"stroke":"fill",_=!C&&(u.cornerStrokeColor||p.cornerStrokeColor),S=l,b=d,F;o.save(),o.fillStyle=u.cornerColor||p.cornerColor,o.strokeStyle=u.cornerStrokeColor||p.cornerStrokeColor,m>y?(F=m,o.scale(1,y/m),b=d*m/y):y>m?(F=y,o.scale(m/y,1),S=l*y/m):F=m,o.lineWidth=1,o.beginPath(),o.arc(S,b,F/2,0,2*Math.PI,!1),o[x](),_&&o.stroke(),o.restore()}function s(o,l,d,u,p){u=u||{};var m=this.sizeX||u.cornerSize||p.cornerSize,y=this.sizeY||u.cornerSize||p.cornerSize,C=typeof u.transparentCorners<"u"?u.transparentCorners:p.transparentCorners,x=C?"stroke":"fill",_=!C&&(u.cornerStrokeColor||p.cornerStrokeColor),S=m/2,b=y/2;o.save(),o.fillStyle=u.cornerColor||p.cornerColor,o.strokeStyle=u.cornerStrokeColor||p.cornerStrokeColor,o.lineWidth=1,o.translate(l,d),o.rotate(c(p.angle)),o[x+"Rect"](-S,-b,m,y),_&&o.strokeRect(-S,-b,m,y),o.restore()}f.renderCircleControl=i,f.renderSquareControl=s}(e),function(h){var r=h.fabric||(h.fabric={});function c(f){for(var i in f)this[i]=f[i]}r.Control=c,r.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(f,i){return i.cursorStyle},getActionName:function(f,i){return i.actionName},getVisibility:function(f,i){var s=f._controlsVisibility;return s&&typeof s[i]<"u"?s[i]:this.visible},setVisibility:function(f){this.visible=f},positionHandler:function(f,i){var s=r.util.transformPoint({x:this.x*f.x+this.offsetX,y:this.y*f.y+this.offsetY},i);return s},calcCornerCoords:function(f,i,s,o,l){var d,u,p,m,y=l?this.touchSizeX:this.sizeX,C=l?this.touchSizeY:this.sizeY;if(y&&C&&y!==C){var x=Math.atan2(C,y),_=Math.sqrt(y*y+C*C)/2,S=x-r.util.degreesToRadians(f),b=Math.PI/2-x-r.util.degreesToRadians(f);d=_*r.util.cos(S),u=_*r.util.sin(S),p=_*r.util.cos(b),m=_*r.util.sin(b)}else{var F=y&&C?y:i;_=F*.7071067812;var S=r.util.degreesToRadians(45-f);d=p=_*r.util.cos(S),u=m=_*r.util.sin(S)}return{tl:{x:s-m,y:o-p},tr:{x:s+d,y:o-u},bl:{x:s-d,y:o+u},br:{x:s+m,y:o+p}}},render:function(f,i,s,o,l){switch(o=o||{},o.cornerStyle||l.cornerStyle){case"circle":r.controlsUtils.renderCircleControl.call(this,f,i,s,o,l);break;default:r.controlsUtils.renderSquareControl.call(this,f,i,s,o,l)}}}}(e),function(){function h(s,o){var l=s.getAttribute("style"),d=s.getAttribute("offset")||0,u,p,m,y;if(d=parseFloat(d)/(/%$/.test(d)?100:1),d=d<0?0:d>1?1:d,l){var C=l.split(/\s*;\s*/);for(C[C.length-1]===""&&C.pop(),y=C.length;y--;){var x=C[y].split(/\s*:\s*/),_=x[0].trim(),S=x[1].trim();_==="stop-color"?u=S:_==="stop-opacity"&&(m=S)}}return u||(u=s.getAttribute("stop-color")||"rgb(0,0,0)"),m||(m=s.getAttribute("stop-opacity")),u=new t.Color(u),p=u.getAlpha(),m=isNaN(parseFloat(m))?1:parseFloat(m),m*=p*o,{offset:d,color:u.toRgb(),opacity:m}}function r(s){return{x1:s.getAttribute("x1")||0,y1:s.getAttribute("y1")||0,x2:s.getAttribute("x2")||"100%",y2:s.getAttribute("y2")||0}}function c(s){return{x1:s.getAttribute("fx")||s.getAttribute("cx")||"50%",y1:s.getAttribute("fy")||s.getAttribute("cy")||"50%",r1:0,x2:s.getAttribute("cx")||"50%",y2:s.getAttribute("cy")||"50%",r2:s.getAttribute("r")||"50%"}}var f=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(s){s||(s={}),s.coords||(s.coords={});var o,l=this;Object.keys(s).forEach(function(d){l[d]=s[d]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,o={x1:s.coords.x1||0,y1:s.coords.y1||0,x2:s.coords.x2||0,y2:s.coords.y2||0},this.type==="radial"&&(o.r1=s.coords.r1||0,o.r2=s.coords.r2||0),this.coords=o,this.colorStops=s.colorStops.slice()},addColorStop:function(s){for(var o in s){var l=new t.Color(s[o]);this.colorStops.push({offset:parseFloat(o),color:l.toRgb(),opacity:l.getAlpha()})}return this},toObject:function(s){var o={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,o,s),o},toSVG:function(s,p){var l=f(this.coords,!0),d,u,p=p||{},m,y,C=f(this.colorStops,!0),x=l.r1>l.r2,_=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),S=-this.offsetX,b=-this.offsetY,F=!!p.additionalTransform,R=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(C.sort(function(J,Y){return J.offset-Y.offset}),R==="objectBoundingBox"?(S/=s.width,b/=s.height):(S+=s.width/2,b+=s.height/2),s.type==="path"&&this.gradientUnits!=="percentage"&&(S-=s.pathOffset.x,b-=s.pathOffset.y),_[4]-=S,_[5]-=b,y='id="SVGID_'+this.id+'" gradientUnits="'+R+'"',y+=' gradientTransform="'+(F?p.additionalTransform+" ":"")+t.util.matrixToSVG(_)+'" ',this.type==="linear"?m=["<linearGradient ",y,' x1="',l.x1,'" y1="',l.y1,'" x2="',l.x2,'" y2="',l.y2,`">
`]:this.type==="radial"&&(m=["<radialGradient ",y,' cx="',x?l.x1:l.x2,'" cy="',x?l.y1:l.y2,'" r="',x?l.r1:l.r2,'" fx="',x?l.x2:l.x1,'" fy="',x?l.y2:l.y1,`">
`]),this.type==="radial"){if(x)for(C=C.concat(),C.reverse(),d=0,u=C.length;d<u;d++)C[d].offset=1-C[d].offset;var z=Math.min(l.r1,l.r2);if(z>0){var $=Math.max(l.r1,l.r2),G=z/$;for(d=0,u=C.length;d<u;d++)C[d].offset+=G*(1-C[d].offset)}}for(d=0,u=C.length;d<u;d++){var K=C[d];m.push("<stop ",'offset="',K.offset*100+"%",'" style="stop-color:',K.color,typeof K.opacity<"u"?";stop-opacity: "+K.opacity:";",`"/>
`)}return m.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),m.join("")},toLive:function(s){var o,l=t.util.object.clone(this.coords),d,u;if(this.type){for(this.type==="linear"?o=s.createLinearGradient(l.x1,l.y1,l.x2,l.y2):this.type==="radial"&&(o=s.createRadialGradient(l.x1,l.y1,l.r1,l.x2,l.y2,l.r2)),d=0,u=this.colorStops.length;d<u;d++){var p=this.colorStops[d].color,m=this.colorStops[d].opacity,y=this.colorStops[d].offset;typeof m<"u"&&(p=new t.Color(p).setAlpha(m).toRgba()),o.addColorStop(y,p)}return o}}}),t.util.object.extend(t.Gradient,{fromElement:function(s,o,l,d){var u=parseFloat(l)/(/%$/.test(l)?100:1);u=u<0?0:u>1?1:u,isNaN(u)&&(u=1);var p=s.getElementsByTagName("stop"),m,y=s.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",C=s.getAttribute("gradientTransform")||"",x=[],_,S,b=0,F=0,R;for(s.nodeName==="linearGradient"||s.nodeName==="LINEARGRADIENT"?(m="linear",_=r(s)):(m="radial",_=c(s)),S=p.length;S--;)x.push(h(p[S],u));R=t.parseTransformAttribute(C),i(o,_,d,y),y==="pixels"&&(b=-o.left,F=-o.top);var z=new t.Gradient({id:s.getAttribute("id"),type:m,coords:_,colorStops:x,gradientUnits:y,gradientTransform:R,offsetX:b,offsetY:F});return z}});function i(s,o,l,d){var u,p;Object.keys(o).forEach(function(m){u=o[m],u==="Infinity"?p=1:u==="-Infinity"?p=0:(p=parseFloat(o[m],10),typeof u=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(u)&&(p*=.01,d==="pixels"&&((m==="x1"||m==="x2"||m==="r2")&&(p*=l.viewBoxWidth||l.width),(m==="y1"||m==="y2")&&(p*=l.viewBoxHeight||l.height)))),o[m]=p})}}(),function(){var h=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(r,c){if(r||(r={}),this.id=t.Object.__uid++,this.setOptions(r),!r.source||r.source&&typeof r.source!="string"){c&&c(this);return}else{var f=this;this.source=t.util.createImage(),t.util.loadImage(r.source,function(i,s){f.source=i,c&&c(f,s)},null,this.crossOrigin)}},toObject:function(r){var c=t.Object.NUM_FRACTION_DIGITS,f,i;return typeof this.source.src=="string"?f=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(f=this.source.toDataURL()),i={type:"pattern",source:f,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:h(this.offsetX,c),offsetY:h(this.offsetY,c),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,i,r),i},toSVG:function(r){var c=typeof this.source=="function"?this.source():this.source,f=c.width/r.width,i=c.height/r.height,s=this.offsetX/r.width,o=this.offsetY/r.height,l="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(i=1,o&&(i+=Math.abs(o))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(f=1,s&&(f+=Math.abs(s))),c.src?l=c.src:c.toDataURL&&(l=c.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+s+'" y="'+o+'" width="'+f+'" height="'+i+`">
<image x="0" y="0" width="`+c.width+'" height="'+c.height+'" xlink:href="'+l+`"></image>
</pattern>
`},setOptions:function(r){for(var c in r)this[c]=r[c]},toLive:function(r){var c=this.source;return!c||typeof c.src<"u"&&(!c.complete||c.naturalWidth===0||c.naturalHeight===0)?"":r.createPattern(c,this.repeat)}})}(),function(h){var r=h.fabric||(h.fabric={}),c=r.util.toFixed;if(r.Shadow){r.warn("fabric.Shadow is already defined.");return}r.Shadow=r.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(f){typeof f=="string"&&(f=this._parseShadow(f));for(var i in f)this[i]=f[i];this.id=r.Object.__uid++},_parseShadow:function(f){var i=f.trim(),s=r.Shadow.reOffsetsAndBlur.exec(i)||[],o=i.replace(r.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:o.trim(),offsetX:parseFloat(s[1],10)||0,offsetY:parseFloat(s[2],10)||0,blur:parseFloat(s[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(f){var i=40,s=40,o=r.Object.NUM_FRACTION_DIGITS,l=r.util.rotateVector({x:this.offsetX,y:this.offsetY},r.util.degreesToRadians(-f.angle)),d=20,u=new r.Color(this.color);return f.width&&f.height&&(i=c((Math.abs(l.x)+this.blur)/f.width,o)*100+d,s=c((Math.abs(l.y)+this.blur)/f.height,o)*100+d),f.flipX&&(l.x*=-1),f.flipY&&(l.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+s+'%" height="'+(100+2*s)+'%" x="-'+i+'%" width="'+(100+2*i)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+c(this.blur?this.blur/2:0,o)+`"></feGaussianBlur>
	<feOffset dx="`+c(l.x,o)+'" dy="'+c(l.y,o)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+u.toRgb()+'" flood-opacity="'+u.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var f={},i=r.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(s){this[s]!==i[s]&&(f[s]=this[s])},this),f}}),r.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var h=t.util.object.extend,r=t.util.getElementOffset,c=t.util.removeFromArray,f=t.util.toFixed,i=t.util.transformPoint,s=t.util.invertTransform,o=t.util.getNodeCanvas,l=t.util.createCanvasElement,d=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(u,p){p||(p={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(u,p)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(u,p){var m=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(u),this._initOptions(p),this.interactive||this._initRetinaScaling(),p.overlayImage&&this.setOverlayImage(p.overlayImage,m),p.backgroundImage&&this.setBackgroundImage(p.backgroundImage,m),p.backgroundColor&&this.setBackgroundColor(p.backgroundColor,m),p.overlayColor&&this.setOverlayColor(p.overlayColor,m),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var u=t.devicePixelRatio;this.__initRetinaScaling(u,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(u,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(u,p,m){p.setAttribute("width",this.width*u),p.setAttribute("height",this.height*u),m.scale(u,u)},calcOffset:function(){return this._offset=r(this.lowerCanvasEl),this},setOverlayImage:function(u,p,m){return this.__setBgOverlayImage("overlayImage",u,p,m)},setBackgroundImage:function(u,p,m){return this.__setBgOverlayImage("backgroundImage",u,p,m)},setOverlayColor:function(u,p){return this.__setBgOverlayColor("overlayColor",u,p)},setBackgroundColor:function(u,p){return this.__setBgOverlayColor("backgroundColor",u,p)},__setBgOverlayImage:function(u,p,m,y){return typeof p=="string"?t.util.loadImage(p,function(C,x){if(C){var _=new t.Image(C,y);this[u]=_,_.canvas=this}m&&m(C,x)},this,y&&y.crossOrigin):(y&&p.setOptions(y),this[u]=p,p&&(p.canvas=this),m&&m(p,!1)),this},__setBgOverlayColor:function(u,p,m){return this[u]=p,this._initGradient(p,u),this._initPattern(p,u,m),this},_createCanvasElement:function(){var u=l();if(!u||(u.style||(u.style={}),typeof u.getContext>"u"))throw d;return u},_initOptions:function(u){var p=this.lowerCanvasEl;this._setOptions(u),this.width=this.width||parseInt(p.width,10)||0,this.height=this.height||parseInt(p.height,10)||0,this.lowerCanvasEl.style&&(p.width=this.width,p.height=this.height,p.style.width=this.width+"px",p.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(u){u&&u.getContext?this.lowerCanvasEl=u:this.lowerCanvasEl=t.util.getById(u)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(u,p){return this.setDimensions({width:u},p)},setHeight:function(u,p){return this.setDimensions({height:u},p)},setDimensions:function(u,p){var m;p=p||{};for(var y in u)m=u[y],p.cssOnly||(this._setBackstoreDimension(y,u[y]),m+="px",this.hasLostContext=!0),p.backstoreOnly||this._setCssDimension(y,m);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),p.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(u,p){return this.lowerCanvasEl[u]=p,this.upperCanvasEl&&(this.upperCanvasEl[u]=p),this.cacheCanvasEl&&(this.cacheCanvasEl[u]=p),this[u]=p,this},_setCssDimension:function(u,p){return this.lowerCanvasEl.style[u]=p,this.upperCanvasEl&&(this.upperCanvasEl.style[u]=p),this.wrapperEl&&(this.wrapperEl.style[u]=p),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(u){var p=this._activeObject,m=this.backgroundImage,y=this.overlayImage,C,x,_;for(this.viewportTransform=u,x=0,_=this._objects.length;x<_;x++)C=this._objects[x],C.group||C.setCoords(!0);return p&&p.setCoords(),m&&m.setCoords(!0),y&&y.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(u,p){var m=u,y=this.viewportTransform.slice(0);u=i(u,s(this.viewportTransform)),y[0]=p,y[3]=p;var C=i(u,y);return y[4]+=m.x-C.x,y[5]+=m.y-C.y,this.setViewportTransform(y)},setZoom:function(u){return this.zoomToPoint(new t.Point(0,0),u),this},absolutePan:function(u){var p=this.viewportTransform.slice(0);return p[4]=-u.x,p[5]=-u.y,this.setViewportTransform(p)},relativePan:function(u){return this.absolutePan(new t.Point(-u.x-this.viewportTransform[4],-u.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(u){this.stateful&&u.setupState(),u._set("canvas",this),u.setCoords(),this.fire("object:added",{target:u}),u.fire("added")},_onObjectRemoved:function(u){this.fire("object:removed",{target:u}),u.fire("removed"),delete u.canvas},clearContext:function(u){return u.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var u=this.contextContainer;return this.renderCanvas(u,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var u={},p=this.width,m=this.height,y=s(this.viewportTransform);return u.tl=i({x:0,y:0},y),u.br=i({x:p,y:m},y),u.tr=new t.Point(u.br.x,u.tl.y),u.bl=new t.Point(u.tl.x,u.br.y),this.vptCoords=u,u},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(u,p){var m=this.viewportTransform,y=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(u),t.util.setImageSmoothing(u,this.imageSmoothingEnabled),this.fire("before:render",{ctx:u}),this._renderBackground(u),u.save(),u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),this._renderObjects(u,p),u.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(u),y&&(y.canvas=this,y.shouldCache(),y._transformDone=!0,y.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(u)),this._renderOverlay(u),this.controlsAboveOverlay&&this.interactive&&this.drawControls(u),this.fire("after:render",{ctx:u})},drawClipPathOnCanvas:function(u){var p=this.viewportTransform,m=this.clipPath;u.save(),u.transform(p[0],p[1],p[2],p[3],p[4],p[5]),u.globalCompositeOperation="destination-in",m.transform(u),u.scale(1/m.zoomX,1/m.zoomY),u.drawImage(m._cacheCanvas,-m.cacheTranslationX,-m.cacheTranslationY),u.restore()},_renderObjects:function(u,p){var m,y;for(m=0,y=p.length;m<y;++m)p[m]&&p[m].render(u)},_renderBackgroundOrOverlay:function(u,p){var m=this[p+"Color"],y=this[p+"Image"],C=this.viewportTransform,x=this[p+"Vpt"];if(!(!m&&!y)){if(m){u.save(),u.beginPath(),u.moveTo(0,0),u.lineTo(this.width,0),u.lineTo(this.width,this.height),u.lineTo(0,this.height),u.closePath(),u.fillStyle=m.toLive?m.toLive(u,this):m,x&&u.transform(C[0],C[1],C[2],C[3],C[4],C[5]),u.transform(1,0,0,1,m.offsetX||0,m.offsetY||0);var _=m.gradientTransform||m.patternTransform;_&&u.transform(_[0],_[1],_[2],_[3],_[4],_[5]),u.fill(),u.restore()}if(y){u.save();var S=this.skipOffscreen;this.skipOffscreen=x,x&&u.transform(C[0],C[1],C[2],C[3],C[4],C[5]),y.render(u),this.skipOffscreen=S,u.restore()}}},_renderBackground:function(u){this._renderBackgroundOrOverlay(u,"background")},_renderOverlay:function(u){this._renderBackgroundOrOverlay(u,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(u){return this._centerObject(u,new t.Point(this.getCenterPoint().x,u.getCenterPoint().y))},centerObjectV:function(u){return this._centerObject(u,new t.Point(u.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(u){var p=this.getCenterPoint();return this._centerObject(u,p)},viewportCenterObject:function(u){var p=this.getVpCenter();return this._centerObject(u,p)},viewportCenterObjectH:function(u){var p=this.getVpCenter();return this._centerObject(u,new t.Point(p.x,u.getCenterPoint().y)),this},viewportCenterObjectV:function(u){var p=this.getVpCenter();return this._centerObject(u,new t.Point(u.getCenterPoint().x,p.y))},getVpCenter:function(){var u=this.getCenterPoint(),p=s(this.viewportTransform);return i(u,p)},_centerObject:function(u,p){return u.setPositionByOrigin(p,"center","center"),u.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(u){return this.toDatalessObject(u)},toObject:function(u){return this._toObjectMethod("toObject",u)},toDatalessObject:function(u){return this._toObjectMethod("toDatalessObject",u)},_toObjectMethod:function(u,p){var m=this.clipPath,y={version:t.version,objects:this._toObjects(u,p)};return m&&!m.excludeFromExport&&(y.clipPath=this._toObject(this.clipPath,u,p)),h(y,this.__serializeBgOverlay(u,p)),t.util.populateWithProperties(this,y,p),y},_toObjects:function(u,p){return this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){return this._toObject(m,u,p)},this)},_toObject:function(u,p,m){var y;this.includeDefaultValues||(y=u.includeDefaultValues,u.includeDefaultValues=!1);var C=u[p](m);return this.includeDefaultValues||(u.includeDefaultValues=y),C},__serializeBgOverlay:function(u,p){var m={},y=this.backgroundImage,C=this.overlayImage,x=this.backgroundColor,_=this.overlayColor;return x&&x.toObject?x.excludeFromExport||(m.background=x.toObject(p)):x&&(m.background=x),_&&_.toObject?_.excludeFromExport||(m.overlay=_.toObject(p)):_&&(m.overlay=_),y&&!y.excludeFromExport&&(m.backgroundImage=this._toObject(y,u,p)),C&&!C.excludeFromExport&&(m.overlayImage=this._toObject(C,u,p)),m},svgViewportTransformation:!0,toSVG:function(u,p){u||(u={}),u.reviver=p;var m=[];return this._setSVGPreamble(m,u),this._setSVGHeader(m,u),this.clipPath&&m.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(m,"background"),this._setSVGBgOverlayImage(m,"backgroundImage",p),this._setSVGObjects(m,p),this.clipPath&&m.push(`</g>
`),this._setSVGBgOverlayColor(m,"overlay"),this._setSVGBgOverlayImage(m,"overlayImage",p),m.push("</svg>"),m.join("")},_setSVGPreamble:function(u,p){p.suppressPreamble||u.push('<?xml version="1.0" encoding="',p.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(u,p){var m=p.width||this.width,y=p.height||this.height,C,x='viewBox="0 0 '+this.width+" "+this.height+'" ',_=t.Object.NUM_FRACTION_DIGITS;p.viewBox?x='viewBox="'+p.viewBox.x+" "+p.viewBox.y+" "+p.viewBox.width+" "+p.viewBox.height+'" ':this.svgViewportTransformation&&(C=this.viewportTransform,x='viewBox="'+f(-C[4]/C[0],_)+" "+f(-C[5]/C[3],_)+" "+f(this.width/C[0],_)+" "+f(this.height/C[3],_)+'" '),u.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',m,'" ','height="',y,'" ',x,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(p),`</defs>
`)},createSVGClipPathMarkup:function(u){var p=this.clipPath;return p?(p.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+p.clipPathId+`" >
`+this.clipPath.toClipPathSVG(u.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var u=this,p=["background","overlay"].map(function(m){var y=u[m+"Color"];if(y&&y.toLive){var C=u[m+"Vpt"],x=u.viewportTransform,_={width:u.width/(C?x[0]:1),height:u.height/(C?x[3]:1)};return y.toSVG(_,{additionalTransform:C?t.util.matrixToSVG(x):""})}});return p.join("")},createSVGFontFacesMarkup:function(){var u="",p={},m,y,C,x,_,S,b,F,R,z=t.fontPaths,$=[];for(this._objects.forEach(function K(J){$.push(J),J._objects&&J._objects.forEach(K)}),F=0,R=$.length;F<R;F++)if(m=$[F],y=m.fontFamily,!(m.type.indexOf("text")===-1||p[y]||!z[y])&&(p[y]=!0,!!m.styles)){C=m.styles;for(_ in C){x=C[_];for(b in x)S=x[b],y=S.fontFamily,!p[y]&&z[y]&&(p[y]=!0)}}for(var G in p)u+=[`		@font-face {
`,"			font-family: '",G,`';
`,"			src: url('",z[G],`');
`,`		}
`].join("");return u&&(u=['	<style type="text/css">',`<![CDATA[
`,u,"]]>",`</style>
`].join("")),u},_setSVGObjects:function(u,p){var m,y,C,x=this._objects;for(y=0,C=x.length;y<C;y++)m=x[y],!m.excludeFromExport&&this._setSVGObject(u,m,p)},_setSVGObject:function(u,p,m){u.push(p.toSVG(m))},_setSVGBgOverlayImage:function(u,p,m){this[p]&&!this[p].excludeFromExport&&this[p].toSVG&&u.push(this[p].toSVG(m))},_setSVGBgOverlayColor:function(u,p){var m=this[p+"Color"],y=this.viewportTransform,C=this.width,x=this.height;if(m)if(m.toLive){var _=m.repeat,S=t.util.invertTransform(y),b=this[p+"Vpt"],F=b?t.util.matrixToSVG(S):"";u.push('<rect transform="'+F+" translate(",C/2,",",x/2,')"',' x="',m.offsetX-C/2,'" y="',m.offsetY-x/2,'" ','width="',_==="repeat-y"||_==="no-repeat"?m.source.width:C,'" height="',_==="repeat-x"||_==="no-repeat"?m.source.height:x,'" fill="url(#SVGID_'+m.id+')"',`></rect>
`)}else u.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',m,'"',`></rect>
`)},sendToBack:function(u){if(!u)return this;var p=this._activeObject,m,y,C;if(u===p&&u.type==="activeSelection")for(C=p._objects,m=C.length;m--;)y=C[m],c(this._objects,y),this._objects.unshift(y);else c(this._objects,u),this._objects.unshift(u);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(u){if(!u)return this;var p=this._activeObject,m,y,C;if(u===p&&u.type==="activeSelection")for(C=p._objects,m=0;m<C.length;m++)y=C[m],c(this._objects,y),this._objects.push(y);else c(this._objects,u),this._objects.push(u);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(u,p){if(!u)return this;var m=this._activeObject,y,C,x,_,S,b=0;if(u===m&&u.type==="activeSelection")for(S=m._objects,y=0;y<S.length;y++)C=S[y],x=this._objects.indexOf(C),x>0+b&&(_=x-1,c(this._objects,C),this._objects.splice(_,0,C)),b++;else x=this._objects.indexOf(u),x!==0&&(_=this._findNewLowerIndex(u,x,p),c(this._objects,u),this._objects.splice(_,0,u));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(u,p,m){var y,C;if(m)for(y=p,C=p-1;C>=0;--C){var x=u.intersectsWithObject(this._objects[C])||u.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(u);if(x){y=C;break}}else y=p-1;return y},bringForward:function(u,p){if(!u)return this;var m=this._activeObject,y,C,x,_,S,b=0;if(u===m&&u.type==="activeSelection")for(S=m._objects,y=S.length;y--;)C=S[y],x=this._objects.indexOf(C),x<this._objects.length-1-b&&(_=x+1,c(this._objects,C),this._objects.splice(_,0,C)),b++;else x=this._objects.indexOf(u),x!==this._objects.length-1&&(_=this._findNewUpperIndex(u,x,p),c(this._objects,u),this._objects.splice(_,0,u));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(u,p,m){var y,C,x;if(m)for(y=p,C=p+1,x=this._objects.length;C<x;++C){var _=u.intersectsWithObject(this._objects[C])||u.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(u);if(_){y=C;break}}else y=p+1;return y},moveTo:function(u,p){return c(this._objects,u),this._objects.splice(p,0,u),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(u){u.dispose&&u.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),h(t.StaticCanvas.prototype,t.Observable),h(t.StaticCanvas.prototype,t.Collection),h(t.StaticCanvas.prototype,t.DataURLExporter),h(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(u){var p=l();if(!p||!p.getContext)return null;var m=p.getContext("2d");if(!m)return null;switch(u){case"setLineDash":return typeof m.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var u=o(this.lowerCanvasEl);return u&&u.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(u){var p=o(this.lowerCanvasEl);return p&&p.createJPEGStream(u)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(h){h.strokeStyle=this.color,h.lineWidth=this.width,h.lineCap=this.strokeLineCap,h.miterLimit=this.strokeMiterLimit,h.lineJoin=this.strokeLineJoin,h.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(h){var r=this.canvas.viewportTransform;h.save(),h.transform(r[0],r[1],r[2],r[3],r[4],r[5])},_setShadow:function(){if(this.shadow){var h=this.canvas,r=this.shadow,c=h.contextTop,f=h.getZoom();h&&h._isRetinaScaling()&&(f*=t.devicePixelRatio),c.shadowColor=r.color,c.shadowBlur=r.blur*f,c.shadowOffsetX=r.offsetX*f,c.shadowOffsetY=r.offsetY*f}},needsFullRender:function(){var h=new t.Color(this.color);return h.getAlpha()<1||!!this.shadow},_resetShadow:function(){var h=this.canvas.contextTop;h.shadowColor="",h.shadowBlur=h.shadowOffsetX=h.shadowOffsetY=0},_isOutSideCanvas:function(h){return h.x<0||h.x>this.canvas.getWidth()||h.y<0||h.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(h){this.canvas=h,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(h,r,c){var f=r.midPointFrom(c);return h.quadraticCurveTo(r.x,r.y,f.x,f.y),f},onMouseDown:function(h,r){this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],this._prepareForDrawing(h),this._captureDrawingPath(h),this._render())},onMouseMove:function(h,r){if(this.canvas._isMainEvent(r.e)&&(this.drawStraightLine=r.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h))&&this._captureDrawingPath(h)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var c=this._points,f=c.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,c[f-2],c[f-1],!0),i.stroke(),i.restore()}},onMouseUp:function(h){return this.canvas._isMainEvent(h.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(h){var r=new t.Point(h.x,h.y);this._reset(),this._addPoint(r),this.canvas.contextTop.moveTo(r.x,r.y)},_addPoint:function(h){return this._points.length>1&&h.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(h),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(h){var r=new t.Point(h.x,h.y);return this._addPoint(r)},_render:function(h){var r,c,f=this._points[0],i=this._points[1];if(h=h||this.canvas.contextTop,this._saveAndTransform(h),h.beginPath(),this._points.length===2&&f.x===i.x&&f.y===i.y){var s=this.width/1e3;f=new t.Point(f.x,f.y),i=new t.Point(i.x,i.y),f.x-=s,i.x+=s}for(h.moveTo(f.x,f.y),r=1,c=this._points.length;r<c;r++)this._drawSegment(h,f,i),f=this._points[r],i=this._points[r+1];h.lineTo(f.x,f.y),h.stroke(),h.restore()},convertPointsToSVGPath:function(h){var r=this.width/1e3;return t.util.getSmoothPathFromPoints(h,r)},_isEmptySVGPath:function(h){var r=t.util.joinPath(h);return r==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(h){var r=new t.Path(h,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,r.shadow=new t.Shadow(this.shadow)),r},decimatePoints:function(h,r){if(h.length<=2)return h;var c=this.canvas.getZoom(),f=Math.pow(r/c,2),i,s=h.length-1,o=h[0],l=[o],d;for(i=1;i<s-1;i++)d=Math.pow(o.x-h[i].x,2)+Math.pow(o.y-h[i].y,2),d>=f&&(o=h[i],l.push(o));return l.push(h[s]),l},_finalizeAndAddPath:function(){var h=this.canvas.contextTop;h.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var r=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(r)){this.canvas.requestRenderAll();return}var c=this.createPath(r);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:c}),this.canvas.add(c),this.canvas.requestRenderAll(),c.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:c})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(h){this.canvas=h,this.points=[]},drawDot:function(h){var r=this.addPoint(h),c=this.canvas.contextTop;this._saveAndTransform(c),this.dot(c,r),c.restore()},dot:function(h,r){h.fillStyle=r.fill,h.beginPath(),h.arc(r.x,r.y,r.radius,0,Math.PI*2,!1),h.closePath(),h.fill()},onMouseDown:function(h){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(h)},_render:function(){var h=this.canvas.contextTop,r,c,f=this.points;for(this._saveAndTransform(h),r=0,c=f.length;r<c;r++)this.dot(h,f[r]);h.restore()},onMouseMove:function(h){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(h),this._render()):this.drawDot(h))},onMouseUp:function(){var h=this.canvas.renderOnAddRemove,r,c;this.canvas.renderOnAddRemove=!1;var f=[];for(r=0,c=this.points.length;r<c;r++){var i=this.points[r],s=new t.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(s.shadow=new t.Shadow(this.shadow)),f.push(s)}var o=new t.Group(f);o.canvas=this.canvas,this.canvas.fire("before:path:created",{path:o}),this.canvas.add(o),this.canvas.fire("path:created",{path:o}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},addPoint:function(h){var r=new t.Point(h.x,h.y),c=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,f=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return r.radius=c,r.fill=f,this.points.push(r),r}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(h){this.canvas=h,this.sprayChunks=[]},onMouseDown:function(h){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(h),this.render(this.sprayChunkPoints)},onMouseMove:function(h){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(h)||(this.addSprayChunk(h),this.render(this.sprayChunkPoints))},onMouseUp:function(){var h=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var r=[],c=0,f=this.sprayChunks.length;c<f;c++)for(var i=this.sprayChunks[c],s=0,o=i.length;s<o;s++){var l=new t.Rect({width:i[s].width,height:i[s].width,left:i[s].x+1,top:i[s].y+1,originX:"center",originY:"center",fill:this.color});r.push(l)}this.optimizeOverlapping&&(r=this._getOptimizedRects(r));var d=new t.Group(r);this.shadow&&d.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:d}),this.canvas.add(d),this.canvas.fire("path:created",{path:d}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=h,this.canvas.requestRenderAll()},_getOptimizedRects:function(h){var r={},c,f,i;for(f=0,i=h.length;f<i;f++)c=h[f].left+""+h[f].top,r[c]||(r[c]=h[f]);var s=[];for(c in r)s.push(r[c]);return s},render:function(h){var r=this.canvas.contextTop,c,f;for(r.fillStyle=this.color,this._saveAndTransform(r),c=0,f=h.length;c<f;c++){var i=h[c];typeof i.opacity<"u"&&(r.globalAlpha=i.opacity),r.fillRect(i.x,i.y,i.width,i.width)}r.restore()},_render:function(){var h=this.canvas.contextTop,r,c;for(h.fillStyle=this.color,this._saveAndTransform(h),r=0,c=this.sprayChunks.length;r<c;r++)this.render(this.sprayChunks[r]);h.restore()},addSprayChunk:function(h){this.sprayChunkPoints=[];var r,c,f,i=this.width/2,s;for(s=0;s<this.density;s++){r=t.util.getRandomInt(h.x-i,h.x+i),c=t.util.getRandomInt(h.y-i,h.y+i),this.dotWidthVariance?f=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):f=this.dotWidth;var o=new t.Point(r,c);o.width=f,this.randomOpacity&&(o.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(o)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var h=20,r=5,c=t.util.createCanvasElement(),f=c.getContext("2d");return c.width=c.height=h+r,f.fillStyle=this.color,f.beginPath(),f.arc(h/2,h/2,h/2,0,Math.PI*2,!1),f.closePath(),f.fill(),c},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(h){return h.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(h){this.callSuper("_setBrushStyles",h),h.strokeStyle=this.getPattern(h)},createPath:function(h){var r=this.callSuper("createPath",h),c=r._getLeftTopCoords().scalarAdd(r.strokeWidth/2);return r.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-c.x,offsetY:-c.y}),r}}),function(){var h=t.util.getPointer,r=t.util.degreesToRadians,c=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(i,s){s||(s={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,s),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var i=this.getActiveObjects(),s,o,l;if(i.length>0&&!this.preserveObjectStacking){o=[],l=[];for(var d=0,u=this._objects.length;d<u;d++)s=this._objects[d],i.indexOf(s)===-1?o.push(s):l.push(s);i.length>1&&(this._activeObject._objects=l),o.push.apply(o,l)}else o=this._objects;return o},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function(i,s){var o=i.calcTransformMatrix(),l=t.util.invertTransform(o),d=this.restorePointerVpt(s);return t.util.transformPoint(d,l)},isTargetTransparent:function(i,s,o){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var l=this._normalizePointer(i,{x:s,y:o}),d=Math.max(i.cacheTranslationX+l.x*i.zoomX,0),u=Math.max(i.cacheTranslationY+l.y*i.zoomY,0),C=t.util.isTransparent(i._cacheContext,Math.round(d),Math.round(u),this.targetFindTolerance);return C}var p=this.contextCache,m=i.selectionBackgroundColor,y=this.viewportTransform;i.selectionBackgroundColor="",this.clearContext(p),p.save(),p.transform(y[0],y[1],y[2],y[3],y[4],y[5]),i.render(p),p.restore(),i.selectionBackgroundColor=m;var C=t.util.isTransparent(p,s,o,this.targetFindTolerance);return C},_isSelectionKeyPressed:function(i){var s=!1;return Array.isArray(this.selectionKey)?s=!!this.selectionKey.find(function(o){return i[o]===!0}):s=i[this.selectionKey],s},_shouldClearSelection:function(i,s){var o=this.getActiveObjects(),l=this._activeObject;return!s||s&&l&&o.length>1&&o.indexOf(s)===-1&&l!==s&&!this._isSelectionKeyPressed(i)||s&&!s.evented||s&&!s.selectable&&l&&l!==s},_shouldCenterTransform:function(i,s,o){if(i){var l;return s==="scale"||s==="scaleX"||s==="scaleY"||s==="resizing"?l=this.centeredScaling||i.centeredScaling:s==="rotate"&&(l=this.centeredRotation||i.centeredRotation),l?!o:o}},_getOriginFromCorner:function(i,s){var o={x:i.originX,y:i.originY};return s==="ml"||s==="tl"||s==="bl"?o.x="right":(s==="mr"||s==="tr"||s==="br")&&(o.x="left"),s==="tl"||s==="mt"||s==="tr"?o.y="bottom":(s==="bl"||s==="mb"||s==="br")&&(o.y="top"),o},_getActionFromCorner:function(i,s,o,l){if(!s||!i)return"drag";var d=l.controls[s];return d.getActionName(o,d,l)},_setupCurrentTransform:function(i,s,o){if(s){var l=this.getPointer(i),d=s.__corner,u=s.controls[d],p=o&&d?u.getActionHandler(i,s,u):t.controlsUtils.dragHandler,m=this._getActionFromCorner(o,d,i,s),y=this._getOriginFromCorner(s,d),C=i[this.centeredKey],x={target:s,action:m,actionHandler:p,corner:d,scaleX:s.scaleX,scaleY:s.scaleY,skewX:s.skewX,skewY:s.skewY,offsetX:l.x-s.left,offsetY:l.y-s.top,originX:y.x,originY:y.y,ex:l.x,ey:l.y,lastX:l.x,lastY:l.y,theta:r(s.angle),width:s.width*s.scaleX,shiftKey:i.shiftKey,altKey:C,original:t.util.saveObjectTransform(s)};this._shouldCenterTransform(s,m,C)&&(x.originX="center",x.originY="center"),x.original.originX=y.x,x.original.originY=y.y,this._currentTransform=x,this._beforeTransform(i)}},setCursor:function(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function(i){var s=this._groupSelector,o=new t.Point(s.ex,s.ey),l=t.util.transformPoint(o,this.viewportTransform),d=new t.Point(s.ex+s.left,s.ey+s.top),u=t.util.transformPoint(d,this.viewportTransform),p=Math.min(l.x,u.x),m=Math.min(l.y,u.y),y=Math.max(l.x,u.x),C=Math.max(l.y,u.y),x=this.selectionLineWidth/2;this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(p,m,y-p,C-m)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,p+=x,m+=x,y-=x,C-=x,t.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(p,m,y-p,C-m))},findTarget:function(i,s){if(!this.skipTargetFind){var o=!0,l=this.getPointer(i,o),d=this._activeObject,u=this.getActiveObjects(),p,m,y=c(i),C=u.length>1&&!s||u.length===1;if(this.targets=[],C&&d._findTargetCorner(l,y)||u.length>1&&!s&&d===this._searchPossibleTargets([d],l))return d;if(u.length===1&&d===this._searchPossibleTargets([d],l))if(this.preserveObjectStacking)p=d,m=this.targets,this.targets=[];else return d;var x=this._searchPossibleTargets(this._objects,l);return i[this.altSelectionKey]&&x&&p&&x!==p&&(x=p,this.targets=m),x}},_checkTarget:function(i,s,o){if(s&&s.visible&&s.evented&&s.containsPoint(i))if((this.perPixelTargetFind||s.perPixelTargetFind)&&!s.isEditing){var l=this.isTargetTransparent(s,o.x,o.y);if(!l)return!0}else return!0},_searchPossibleTargets:function(i,s){for(var o,l=i.length,d;l--;){var u=i[l],p=u.group?this._normalizePointer(u.group,s):s;if(this._checkTarget(p,u,s)){o=i[l],o.subTargetCheck&&o instanceof t.Group&&(d=this._searchPossibleTargets(o._objects,s),d&&this.targets.push(d));break}}return o},restorePointerVpt:function(i){return t.util.transformPoint(i,t.util.invertTransform(this.viewportTransform))},getPointer:function(i,s){if(this._absolutePointer&&!s)return this._absolutePointer;if(this._pointer&&s)return this._pointer;var o=h(i),l=this.upperCanvasEl,d=l.getBoundingClientRect(),u=d.width||0,p=d.height||0,m;(!u||!p)&&("top"in d&&"bottom"in d&&(p=Math.abs(d.top-d.bottom)),"right"in d&&"left"in d&&(u=Math.abs(d.right-d.left))),this.calcOffset(),o.x=o.x-this._offset.left,o.y=o.y-this._offset.top,s||(o=this.restorePointerVpt(o));var y=this.getRetinaScaling();return y!==1&&(o.x/=y,o.y/=y),u===0||p===0?m={width:1,height:1}:m={width:l.width/u,height:l.height/p},{x:o.x*m.width,y:o.y*m.height}},_createUpperCanvas:function(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),s=this.lowerCanvasEl,o=this.upperCanvasEl;o?o.className="":(o=this._createCanvasElement(),this.upperCanvasEl=o),t.util.addClass(o,"upper-canvas "+i),this.wrapperEl.appendChild(o),this._copyCanvasStyle(s,o),this._applyCanvasStyle(o),this.contextTop=o.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(i){var s=this.width||i.width,o=this.height||i.height;t.util.setStyle(i,{position:"absolute",width:s+"px",height:o+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=s,i.height=o,t.util.makeElementUnselectable(i)},_copyCanvasStyle:function(i,s){s.style.cssText=i.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var i=this._activeObject;return i?i.type==="activeSelection"&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function(i,s){var o=!1,l=this.getActiveObjects(),d=[],u=[];i.forEach(function(p){l.indexOf(p)===-1&&(o=!0,p.fire("deselected",{e:s,target:p}),u.push(p))}),l.forEach(function(p){i.indexOf(p)===-1&&(o=!0,p.fire("selected",{e:s,target:p}),d.push(p))}),i.length>0&&l.length>0?o&&this.fire("selection:updated",{e:s,selected:d,deselected:u}):l.length>0?this.fire("selection:created",{e:s,selected:d}):i.length>0&&this.fire("selection:cleared",{e:s,deselected:u})},setActiveObject:function(i,s){var o=this.getActiveObjects();return this._setActiveObject(i,s),this._fireSelectionEvents(o,s),this},_setActiveObject:function(i,s){return this._activeObject===i||!this._discardActiveObject(s,i)||i.onSelect({e:s})?!1:(this._activeObject=i,!0)},_discardActiveObject:function(i,s){var o=this._activeObject;if(o){if(o.onDeselect({e:i,object:s}))return!1;this._activeObject=null}return!0},discardActiveObject:function(i){var s=this.getActiveObjects(),o=this.getActiveObject();return s.length&&this.fire("before:selection:cleared",{target:o,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(s,i),this},dispose:function(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(s){t.util.cleanUpJsdomNode(this[s]),this[s]=void 0}).bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(i){var s=this._activeObject;s&&s._renderControls(i)},_toObject:function(i,s,o){var l=this._realizeGroupTransformOnObject(i),d=this.callSuper("_toObject",i,s,o);return this._unwindGroupTransformOnObject(i,l),d},_realizeGroupTransformOnObject:function(i){if(i.group&&i.group.type==="activeSelection"&&this._activeObject===i.group){var s=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],o={};return s.forEach(function(l){o[l]=i[l]}),t.util.addTransformToObject(i,this._activeObject.calcOwnMatrix()),o}else return null},_unwindGroupTransformOnObject:function(i,s){s&&i.set(s)},_setSVGObject:function(i,s,o){var l=this._realizeGroupTransformOnObject(s);this.callSuper("_setSVGObject",i,s,o),this._unwindGroupTransformOnObject(s,l)},setViewportTransform:function(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,i)}});for(var f in t.StaticCanvas)f!=="prototype"&&(t.Canvas[f]=t.StaticCanvas[f])}(),function(){var h=t.util.addListener,r=t.util.removeListener,c=3,f=2,i=1,s={passive:!1};function o(l,d){return l.button&&l.button===d-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(h,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(l,d){var u=this.upperCanvasEl,p=this._getEventPrefix();l(t.window,"resize",this._onResize),l(u,p+"down",this._onMouseDown),l(u,p+"move",this._onMouseMove,s),l(u,p+"out",this._onMouseOut),l(u,p+"enter",this._onMouseEnter),l(u,"wheel",this._onMouseWheel),l(u,"contextmenu",this._onContextMenu),l(u,"dblclick",this._onDoubleClick),l(u,"dragover",this._onDragOver),l(u,"dragenter",this._onDragEnter),l(u,"dragleave",this._onDragLeave),l(u,"drop",this._onDrop),this.enablePointerEvents||l(u,"touchstart",this._onTouchStart,s),typeof eventjs<"u"&&d in eventjs&&(eventjs[d](u,"gesture",this._onGesture),eventjs[d](u,"drag",this._onDrag),eventjs[d](u,"orientation",this._onOrientationChange),eventjs[d](u,"shake",this._onShake),eventjs[d](u,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(r,"remove");var l=this._getEventPrefix();r(t.document,l+"up",this._onMouseUp),r(t.document,"touchend",this._onTouchEnd,s),r(t.document,l+"move",this._onMouseMove,s),r(t.document,"touchmove",this._onMouseMove,s)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(l,d){this.__onTransformGesture&&this.__onTransformGesture(l,d)},_onDrag:function(l,d){this.__onDrag&&this.__onDrag(l,d)},_onMouseWheel:function(l){this.__onMouseWheel(l)},_onMouseOut:function(l){var d=this._hoveredTarget;this.fire("mouse:out",{target:d,e:l}),this._hoveredTarget=null,d&&d.fire("mouseout",{e:l});var u=this;this._hoveredTargets.forEach(function(p){u.fire("mouse:out",{target:p,e:l}),p&&p.fire("mouseout",{e:l})}),this._hoveredTargets=[]},_onMouseEnter:function(l){!this._currentTransform&&!this.findTarget(l)&&(this.fire("mouse:over",{target:null,e:l}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(l,d){this.__onOrientationChange&&this.__onOrientationChange(l,d)},_onShake:function(l,d){this.__onShake&&this.__onShake(l,d)},_onLongPress:function(l,d){this.__onLongPress&&this.__onLongPress(l,d)},_onDragOver:function(l){l.preventDefault();var d=this._simpleEventHandler("dragover",l);this._fireEnterLeaveEvents(d,l)},_onDrop:function(l){return this._simpleEventHandler("drop:before",l),this._simpleEventHandler("drop",l)},_onContextMenu:function(l){return this.stopContextMenu&&(l.stopPropagation(),l.preventDefault()),!1},_onDoubleClick:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"dblclick"),this._resetTransformEventData(l)},getPointerId:function(l){var d=l.changedTouches;return d?d[0]&&d[0].identifier:this.enablePointerEvents?l.pointerId:-1},_isMainEvent:function(l){return l.isPrimary===!0?!0:l.isPrimary===!1?!1:l.type==="touchend"&&l.touches.length===0?!0:l.changedTouches?l.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(l){l.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(l)),this.__onMouseDown(l),this._resetTransformEventData();var d=this.upperCanvasEl,u=this._getEventPrefix();h(t.document,"touchend",this._onTouchEnd,s),h(t.document,"touchmove",this._onMouseMove,s),r(d,u+"down",this._onMouseDown)},_onMouseDown:function(l){this.__onMouseDown(l),this._resetTransformEventData();var d=this.upperCanvasEl,u=this._getEventPrefix();r(d,u+"move",this._onMouseMove,s),h(t.document,u+"up",this._onMouseUp),h(t.document,u+"move",this._onMouseMove,s)},_onTouchEnd:function(l){if(!(l.touches.length>0)){this.__onMouseUp(l),this._resetTransformEventData(),this.mainTouchId=null;var d=this._getEventPrefix();r(t.document,"touchend",this._onTouchEnd,s),r(t.document,"touchmove",this._onMouseMove,s);var u=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){h(u.upperCanvasEl,d+"down",u._onMouseDown),u._willAddMouseDown=0},400)}},_onMouseUp:function(l){this.__onMouseUp(l),this._resetTransformEventData();var d=this.upperCanvasEl,u=this._getEventPrefix();this._isMainEvent(l)&&(r(t.document,u+"up",this._onMouseUp),r(t.document,u+"move",this._onMouseMove,s),h(d,u+"move",this._onMouseMove,s))},_onMouseMove:function(l){!this.allowTouchScrolling&&l.preventDefault&&l.preventDefault(),this.__onMouseMove(l)},_onResize:function(){this.calcOffset()},_shouldRender:function(l){var d=this._activeObject;return!!d!=!!l||d&&l&&d!==l?!0:(d&&d.isEditing,!1)},__onMouseUp:function(l){var d,u=this._currentTransform,p=this._groupSelector,m=!1,y=!p||p.left===0&&p.top===0;if(this._cacheTransformEventData(l),d=this._target,this._handleEvent(l,"up:before"),o(l,c)){this.fireRightClick&&this._handleEvent(l,"up",c,y);return}if(o(l,f)){this.fireMiddleClick&&this._handleEvent(l,"up",f,y),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(l);return}if(this._isMainEvent(l)){if(u&&(this._finalizeCurrentTransform(l),m=u.actionPerformed),!y){var C=d===this._activeObject;this._maybeGroupObjects(l),m||(m=this._shouldRender(d)||!C&&d===this._activeObject)}var x,_;if(d){if(x=d._findTargetCorner(this.getPointer(l,!0),t.util.isTouchEvent(l)),d.selectable&&d!==this._activeObject&&d.activeOn==="up")this.setActiveObject(d,l),m=!0;else{var S=d.controls[x],b=S&&S.getMouseUpHandler(l,d,S);b&&(_=this.getPointer(l),b(l,u,_.x,_.y))}d.isMoving=!1}if(u&&(u.target!==d||u.corner!==x)){var F=u.target&&u.target.controls[u.corner],R=F&&F.getMouseUpHandler(l,d,S);_=_||this.getPointer(l),R&&R(l,u,_.x,_.y)}this._setCursorFromEvent(l,d),this._handleEvent(l,"up",i,y),this._groupSelector=null,this._currentTransform=null,d&&(d.__corner=0),m?this.requestRenderAll():y||this.renderTop()}},_simpleEventHandler:function(l,d){var u=this.findTarget(d),p=this.targets,m={e:d,target:u,subTargets:p};if(this.fire(l,m),u&&u.fire(l,m),!p)return u;for(var y=0;y<p.length;y++)p[y].fire(l,m);return u},_handleEvent:function(l,d,u,p){var m=this._target,y=this.targets||[],C={e:l,target:m,subTargets:y,button:u||i,isClick:p||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};d==="up"&&(C.currentTarget=this.findTarget(l),C.currentSubTargets=this.targets),this.fire("mouse:"+d,C),m&&m.fire("mouse"+d,C);for(var x=0;x<y.length;x++)y[x].fire("mouse"+d,C)},_finalizeCurrentTransform:function(l){var d=this._currentTransform,u=d.target,p={e:l,target:u,transform:d,action:d.action};u._scaling&&(u._scaling=!1),u.setCoords(),(d.actionPerformed||this.stateful&&u.hasStateChanged())&&this._fire("modified",p)},_onMouseDownInDrawingMode:function(l){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(l).requestRenderAll();var d=this.getPointer(l);this.freeDrawingBrush.onMouseDown(d,{e:l,pointer:d}),this._handleEvent(l,"down")},_onMouseMoveInDrawingMode:function(l){if(this._isCurrentlyDrawing){var d=this.getPointer(l);this.freeDrawingBrush.onMouseMove(d,{e:l,pointer:d})}this.setCursor(this.freeDrawingCursor),this._handleEvent(l,"move")},_onMouseUpInDrawingMode:function(l){var d=this.getPointer(l);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:l,pointer:d}),this._handleEvent(l,"up")},__onMouseDown:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"down:before");var d=this._target;if(o(l,c)){this.fireRightClick&&this._handleEvent(l,"down",c);return}if(o(l,f)){this.fireMiddleClick&&this._handleEvent(l,"down",f);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(l);return}if(this._isMainEvent(l)&&!this._currentTransform){var u=this._pointer;this._previousPointer=u;var p=this._shouldRender(d),m=this._shouldGroup(l,d);if(this._shouldClearSelection(l,d)?this.discardActiveObject(l):m&&(this._handleGrouping(l,d),d=this._activeObject),this.selection&&(!d||!d.selectable&&!d.isEditing&&d!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),d){var y=d===this._activeObject;d.selectable&&d.activeOn==="down"&&this.setActiveObject(d,l);var C=d._findTargetCorner(this.getPointer(l,!0),t.util.isTouchEvent(l));if(d.__corner=C,d===this._activeObject&&(C||!m)){this._setupCurrentTransform(l,d,y);var x=d.controls[C],u=this.getPointer(l),_=x&&x.getMouseDownHandler(l,d,x);_&&_(l,this._currentTransform,u.x,u.y)}}this._handleEvent(l,"down"),(p||m)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(l){this._resetTransformEventData(),this._pointer=this.getPointer(l,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(l)||null},_beforeTransform:function(l){var d=this._currentTransform;this.stateful&&d.target.saveState(),this.fire("before:transform",{e:l,transform:d})},__onMouseMove:function(l){this._handleEvent(l,"move:before"),this._cacheTransformEventData(l);var d,u;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(l);return}if(this._isMainEvent(l)){var p=this._groupSelector;p?(u=this._absolutePointer,p.left=u.x-p.ex,p.top=u.y-p.ey,this.renderTop()):this._currentTransform?this._transformObject(l):(d=this.findTarget(l)||null,this._setCursorFromEvent(l,d),this._fireOverOutEvents(d,l)),this._handleEvent(l,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(l,d){var u=this._hoveredTarget,p=this._hoveredTargets,m=this.targets,y=Math.max(p.length,m.length);this.fireSyntheticInOutEvents(l,d,{oldTarget:u,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var C=0;C<y;C++)this.fireSyntheticInOutEvents(m[C],d,{oldTarget:p[C],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(l,d){var u=this._draggedoverTarget,p=this._hoveredTargets,m=this.targets,y=Math.max(p.length,m.length);this.fireSyntheticInOutEvents(l,d,{oldTarget:u,evtOut:"dragleave",evtIn:"dragenter"});for(var C=0;C<y;C++)this.fireSyntheticInOutEvents(m[C],d,{oldTarget:p[C],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=l},fireSyntheticInOutEvents:function(l,d,u){var p,m,y=u.oldTarget,C,x,_=y!==l,S=u.canvasEvtIn,b=u.canvasEvtOut;_&&(p={e:d,target:l,previousTarget:y},m={e:d,target:y,nextTarget:l}),x=l&&_,C=y&&_,C&&(b&&this.fire(b,m),y.fire(u.evtOut,m)),x&&(S&&this.fire(S,p),l.fire(u.evtIn,p))},__onMouseWheel:function(l){this._cacheTransformEventData(l),this._handleEvent(l,"wheel"),this._resetTransformEventData()},_transformObject:function(l){var d=this.getPointer(l),u=this._currentTransform;u.reset=!1,u.shiftKey=l.shiftKey,u.altKey=l[this.centeredKey],this._performTransformAction(l,u,d),u.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(l,d,u){var p=u.x,m=u.y,y=d.action,C=!1,x=d.actionHandler;x&&(C=x(l,d,p,m)),y==="drag"&&C&&(d.target.isMoving=!0,this.setCursor(d.target.moveCursor||this.moveCursor)),d.actionPerformed=d.actionPerformed||C},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(l,d){if(!d)return this.setCursor(this.defaultCursor),!1;var u=d.hoverCursor||this.hoverCursor,p=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,m=(!p||!p.contains(d))&&d._findTargetCorner(this.getPointer(l,!0));m?this.setCursor(this.getCornerCursor(m,d,l)):(d.subTargetCheck&&this.targets.concat().reverse().map(function(y){u=y.hoverCursor||u}),this.setCursor(u))},getCornerCursor:function(l,d,u){var p=d.controls[l];return p.cursorStyleHandler(u,p,d)}})}(),function(){var h=Math.min,r=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(c,f){var i=this._activeObject;return i&&this._isSelectionKeyPressed(c)&&f&&f.selectable&&this.selection&&(i!==f||i.type==="activeSelection")&&!f.onSelect({e:c})},_handleGrouping:function(c,f){var i=this._activeObject;i.__corner||f===i&&(f=this.findTarget(c,!0),!f||!f.selectable)||(i&&i.type==="activeSelection"?this._updateActiveSelection(f,c):this._createActiveSelection(f,c))},_updateActiveSelection:function(c,f){var i=this._activeObject,s=i._objects.slice(0);i.contains(c)?(i.removeWithUpdate(c),this._hoveredTarget=c,this._hoveredTargets=this.targets.concat(),i.size()===1&&this._setActiveObject(i.item(0),f)):(i.addWithUpdate(c),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(s,f)},_createActiveSelection:function(c,f){var i=this.getActiveObjects(),s=this._createGroup(c);this._hoveredTarget=s,this._setActiveObject(s,f),this._fireSelectionEvents(i,f)},_createGroup:function(c){var f=this._objects,i=f.indexOf(this._activeObject)<f.indexOf(c),s=i?[this._activeObject,c]:[c,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(s,{canvas:this})},_groupSelectedObjects:function(c){var f=this._collectObjects(c),i;f.length===1?this.setActiveObject(f[0],c):f.length>1&&(i=new t.ActiveSelection(f.reverse(),{canvas:this}),this.setActiveObject(i,c))},_collectObjects:function(c){for(var f=[],i,s=this._groupSelector.ex,o=this._groupSelector.ey,l=s+this._groupSelector.left,d=o+this._groupSelector.top,u=new t.Point(h(s,l),h(o,d)),p=new t.Point(r(s,l),r(o,d)),m=!this.selectionFullyContained,y=s===l&&o===d,C=this._objects.length;C--&&(i=this._objects[C],!(!(!i||!i.selectable||!i.visible)&&(m&&i.intersectsWithRect(u,p,!0)||i.isContainedWithinRect(u,p,!0)||m&&i.containsPoint(u,null,!0)||m&&i.containsPoint(p,null,!0))&&(f.push(i),y))););return f.length>1&&(f=f.filter(function(x){return!x.onSelect({e:c})})),f},_maybeGroupObjects:function(c){this.selection&&this._groupSelector&&this._groupSelectedObjects(c),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(h){h||(h={});var r=h.format||"png",c=h.quality||1,f=(h.multiplier||1)*(h.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(f,h);return t.util.toDataURL(i,r,c)},toCanvasElement:function(h,r){h=h||1,r=r||{};var c=(r.width||this.width)*h,f=(r.height||this.height)*h,i=this.getZoom(),s=this.width,o=this.height,l=i*h,d=this.viewportTransform,u=(d[4]-(r.left||0))*h,p=(d[5]-(r.top||0))*h,m=this.interactive,y=[l,0,0,l,u,p],C=this.enableRetinaScaling,x=t.util.createCanvasElement(),_=this.contextTop;return x.width=c,x.height=f,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=y,this.width=c,this.height=f,this.calcViewportBoundaries(),this.renderCanvas(x.getContext("2d"),this._objects),this.viewportTransform=d,this.width=s,this.height=o,this.calcViewportBoundaries(),this.interactive=m,this.enableRetinaScaling=C,this.contextTop=_,x}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(h,r,c){if(h){var f=typeof h=="string"?JSON.parse(h):t.util.object.clone(h),i=this,s=f.clipPath,o=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete f.clipPath,this._enlivenObjects(f.objects,function(l){i.clear(),i._setBgOverlay(f,function(){s?i._enlivenObjects([s],function(d){i.clipPath=d[0],i.__setupCanvas.call(i,f,l,o,r)}):i.__setupCanvas.call(i,f,l,o,r)})},c),this}},__setupCanvas:function(h,r,c,f){var i=this;r.forEach(function(s,o){i.insertAt(s,o)}),this.renderOnAddRemove=c,delete h.objects,delete h.backgroundImage,delete h.overlayImage,delete h.background,delete h.overlay,this._setOptions(h),this.renderAll(),f&&f()},_setBgOverlay:function(h,r){var c={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!h.backgroundImage&&!h.overlayImage&&!h.background&&!h.overlay){r&&r();return}var f=function(){c.backgroundImage&&c.overlayImage&&c.backgroundColor&&c.overlayColor&&r&&r()};this.__setBgOverlay("backgroundImage",h.backgroundImage,c,f),this.__setBgOverlay("overlayImage",h.overlayImage,c,f),this.__setBgOverlay("backgroundColor",h.background,c,f),this.__setBgOverlay("overlayColor",h.overlay,c,f)},__setBgOverlay:function(h,r,c,f){var i=this;if(!r){c[h]=!0,f&&f();return}h==="backgroundImage"||h==="overlayImage"?t.util.enlivenObjects([r],function(s){i[h]=s[0],c[h]=!0,f&&f()}):this["set"+t.util.string.capitalize(h,!0)](r,function(){c[h]=!0,f&&f()})},_enlivenObjects:function(h,r,c){if(!h||h.length===0){r&&r([]);return}t.util.enlivenObjects(h,function(f){r&&r(f)},null,c)},_toDataURL:function(h,r){this.clone(function(c){r(c.toDataURL(h))})},_toDataURLWithMultiplier:function(h,r,c){this.clone(function(f){c(f.toDataURLWithMultiplier(h,r))})},clone:function(h,r){var c=JSON.stringify(this.toJSON(r));this.cloneWithoutData(function(f){f.loadFromJSON(c,function(){h&&h(f)})})},cloneWithoutData:function(h){var r=t.util.createCanvasElement();r.width=this.width,r.height=this.height;var c=new t.Canvas(r);this.backgroundImage?(c.setBackgroundImage(this.backgroundImage.src,function(){c.renderAll(),h&&h(c)}),c.backgroundImageOpacity=this.backgroundImageOpacity,c.backgroundImageStretch=this.backgroundImageStretch):h&&h(c)}}),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.util.object.clone,i=r.util.toFixed,s=r.util.string.capitalize,o=r.util.degreesToRadians,l=!r.isLikelyNode,d=2;r.Object||(r.Object=r.util.createClass(r.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:l,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(u){u&&this.setOptions(u)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=r.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(u){var p=r.perfLimitSizeTotal,m=u.width,y=u.height,C=r.maxCacheSideLimit,x=r.minCacheSideLimit;if(m<=C&&y<=C&&m*y<=p)return m<x&&(u.width=x),y<x&&(u.height=x),u;var _=m/y,S=r.util.limitDimsByArea(_,p),b=r.util.capValue,F=b(x,S.x,C),R=b(x,S.y,C);return m>F&&(u.zoomX/=m/F,u.width=F,u.capped=!0),y>R&&(u.zoomY/=y/R,u.height=R,u.capped=!0),u},_getCacheCanvasDimensions:function(){var u=this.getTotalObjectScaling(),p=this._getTransformedDimensions(0,0),m=p.x*u.scaleX/this.scaleX,y=p.y*u.scaleY/this.scaleY;return{width:m+d,height:y+d,zoomX:u.scaleX,zoomY:u.scaleY,x:m,y}},_updateCacheCanvas:function(){var u=this.canvas;if(this.noScaleCache&&u&&u._currentTransform){var p=u._currentTransform.target,m=u._currentTransform.action;if(this===p&&m.slice&&m.slice(0,5)==="scale")return!1}var y=this._cacheCanvas,C=this._limitCacheSize(this._getCacheCanvasDimensions()),x=r.minCacheSideLimit,_=C.width,S=C.height,b,F,R=C.zoomX,z=C.zoomY,$=_!==this.cacheWidth||S!==this.cacheHeight,G=this.zoomX!==R||this.zoomY!==z,K=$||G,J=0,Y=0,ee=!1;if($){var N=this._cacheCanvas.width,T=this._cacheCanvas.height,k=_>N||S>T,M=(_<N*.9||S<T*.9)&&N>x&&T>x;ee=k||M,k&&!C.capped&&(_>x||S>x)&&(J=_*.1,Y=S*.1)}return this instanceof r.Text&&this.path&&(K=!0,ee=!0,J+=this.getHeightOfLine(0)*this.zoomX,Y+=this.getHeightOfLine(0)*this.zoomY),K?(ee?(y.width=Math.ceil(_+J),y.height=Math.ceil(S+Y)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,y.width,y.height)),b=C.x/2,F=C.y/2,this.cacheTranslationX=Math.round(y.width/2-b)+b,this.cacheTranslationY=Math.round(y.height/2-F)+F,this.cacheWidth=_,this.cacheHeight=S,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(R,z),this.zoomX=R,this.zoomY=z,!0):!1},setOptions:function(u){this._setOptions(u),this._initGradient(u.fill,"fill"),this._initGradient(u.stroke,"stroke"),this._initPattern(u.fill,"fill"),this._initPattern(u.stroke,"stroke")},transform:function(u){var p=this.group&&!this.group._transformDone||this.group&&this.canvas&&u===this.canvas.contextTop,m=this.calcTransformMatrix(!p);u.transform(m[0],m[1],m[2],m[3],m[4],m[5])},toObject:function(u){var p=r.Object.NUM_FRACTION_DIGITS,m={type:this.type,version:r.version,originX:this.originX,originY:this.originY,left:i(this.left,p),top:i(this.top,p),width:i(this.width,p),height:i(this.height,p),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:i(this.strokeWidth,p),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:i(this.strokeMiterLimit,p),scaleX:i(this.scaleX,p),scaleY:i(this.scaleY,p),angle:i(this.angle,p),flipX:this.flipX,flipY:this.flipY,opacity:i(this.opacity,p),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:i(this.skewX,p),skewY:i(this.skewY,p)};return this.clipPath&&!this.clipPath.excludeFromExport&&(m.clipPath=this.clipPath.toObject(u),m.clipPath.inverted=this.clipPath.inverted,m.clipPath.absolutePositioned=this.clipPath.absolutePositioned),r.util.populateWithProperties(this,m,u),this.includeDefaultValues||(m=this._removeDefaultValues(m)),m},toDatalessObject:function(u){return this.toObject(u)},_removeDefaultValues:function(u){var p=r.util.getKlass(u.type).prototype,m=p.stateProperties;return m.forEach(function(y){y==="left"||y==="top"||(u[y]===p[y]&&delete u[y],Array.isArray(u[y])&&Array.isArray(p[y])&&u[y].length===0&&p[y].length===0&&delete u[y])}),u},toString:function(){return"#<fabric."+s(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var u=r.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(u.scaleX),scaleY:Math.abs(u.scaleY)}},getTotalObjectScaling:function(){var u=this.getObjectScaling(),p=u.scaleX,m=u.scaleY;if(this.canvas){var y=this.canvas.getZoom(),C=this.canvas.getRetinaScaling();p*=y*C,m*=y*C}return{scaleX:p,scaleY:m}},getObjectOpacity:function(){var u=this.opacity;return this.group&&(u*=this.group.getObjectOpacity()),u},_set:function(u,p){var m=u==="scaleX"||u==="scaleY",y=this[u]!==p,C=!1;return m&&(p=this._constrainScale(p)),u==="scaleX"&&p<0?(this.flipX=!this.flipX,p*=-1):u==="scaleY"&&p<0?(this.flipY=!this.flipY,p*=-1):u==="shadow"&&p&&!(p instanceof r.Shadow)?p=new r.Shadow(p):u==="dirty"&&this.group&&this.group.set("dirty",p),this[u]=p,y&&(C=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(u)>-1?(this.dirty=!0,C&&this.group.set("dirty",!0)):C&&this.stateProperties.indexOf(u)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:r.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(u){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(u.save(),this._setupCompositeOperation(u),this.drawSelectionBackground(u),this.transform(u),this._setOpacity(u),this._setShadow(u,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(u)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(u),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),u.restore())},renderCache:function(u){u=u||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,u.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(u,p){if(u.save(),p.inverted?u.globalCompositeOperation="destination-out":u.globalCompositeOperation="destination-in",p.absolutePositioned){var m=r.util.invertTransform(this.calcTransformMatrix());u.transform(m[0],m[1],m[2],m[3],m[4],m[5])}p.transform(u),u.scale(1/p.zoomX,1/p.zoomY),u.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),u.restore()},drawObject:function(u,p){var m=this.fill,y=this.stroke;p?(this.fill="black",this.stroke="",this._setClippingProperties(u)):this._renderBackground(u),this._render(u),this._drawClipPath(u,this.clipPath),this.fill=m,this.stroke=y},_drawClipPath:function(u,p){p&&(p.canvas=this.canvas,p.shouldCache(),p._transformDone=!0,p.renderCache({forClipping:!0}),this.drawClipPathOnCache(u,p))},drawCacheOnCanvas:function(u){u.scale(1/this.zoomX,1/this.zoomY),u.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(u){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!u&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!u){var p=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-m/2,p,m)}return!0}return!1},_renderBackground:function(u){if(this.backgroundColor){var p=this._getNonTransformedDimensions();u.fillStyle=this.backgroundColor,u.fillRect(-p.x/2,-p.y/2,p.x,p.y),this._removeShadow(u)}},_setOpacity:function(u){this.group&&!this.group._transformDone?u.globalAlpha=this.getObjectOpacity():u.globalAlpha*=this.opacity},_setStrokeStyles:function(u,p){var m=p.stroke;m&&(u.lineWidth=p.strokeWidth,u.lineCap=p.strokeLineCap,u.lineDashOffset=p.strokeDashOffset,u.lineJoin=p.strokeLineJoin,u.miterLimit=p.strokeMiterLimit,m.toLive?m.gradientUnits==="percentage"||m.gradientTransform||m.patternTransform?this._applyPatternForTransformedGradient(u,m):(u.strokeStyle=m.toLive(u,this),this._applyPatternGradientTransform(u,m)):u.strokeStyle=p.stroke)},_setFillStyles:function(u,p){var m=p.fill;m&&(m.toLive?(u.fillStyle=m.toLive(u,this),this._applyPatternGradientTransform(u,p.fill)):u.fillStyle=m)},_setClippingProperties:function(u){u.globalAlpha=1,u.strokeStyle="transparent",u.fillStyle="#000000"},_setLineDash:function(u,p){!p||p.length===0||(1&p.length&&p.push.apply(p,p),u.setLineDash(p))},_renderControls:function(u,p){var m=this.getViewportTransform(),y=this.calcTransformMatrix(),C,x,_;p=p||{},x=typeof p.hasBorders<"u"?p.hasBorders:this.hasBorders,_=typeof p.hasControls<"u"?p.hasControls:this.hasControls,y=r.util.multiplyTransformMatrices(m,y),C=r.util.qrDecompose(y),u.save(),u.translate(C.translateX,C.translateY),u.lineWidth=1*this.borderScaleFactor,this.group||(u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(C.angle-=180),u.rotate(o(this.group?C.angle:this.angle)),p.forActiveSelection||this.group?x&&this.drawBordersInGroup(u,C,p):x&&this.drawBorders(u,p),_&&this.drawControls(u,p),u.restore()},_setShadow:function(u){if(this.shadow){var p=this.shadow,m=this.canvas,y,C=m&&m.viewportTransform[0]||1,x=m&&m.viewportTransform[3]||1;p.nonScaling?y={scaleX:1,scaleY:1}:y=this.getObjectScaling(),m&&m._isRetinaScaling()&&(C*=r.devicePixelRatio,x*=r.devicePixelRatio),u.shadowColor=p.color,u.shadowBlur=p.blur*r.browserShadowBlurConstant*(C+x)*(y.scaleX+y.scaleY)/4,u.shadowOffsetX=p.offsetX*C*y.scaleX,u.shadowOffsetY=p.offsetY*x*y.scaleY}},_removeShadow:function(u){this.shadow&&(u.shadowColor="",u.shadowBlur=u.shadowOffsetX=u.shadowOffsetY=0)},_applyPatternGradientTransform:function(u,p){if(!p||!p.toLive)return{offsetX:0,offsetY:0};var m=p.gradientTransform||p.patternTransform,y=-this.width/2+p.offsetX||0,C=-this.height/2+p.offsetY||0;return p.gradientUnits==="percentage"?u.transform(this.width,0,0,this.height,y,C):u.transform(1,0,0,1,y,C),m&&u.transform(m[0],m[1],m[2],m[3],m[4],m[5]),{offsetX:y,offsetY:C}},_renderPaintInOrder:function(u){this.paintFirst==="stroke"?(this._renderStroke(u),this._renderFill(u)):(this._renderFill(u),this._renderStroke(u))},_render:function(){},_renderFill:function(u){this.fill&&(u.save(),this._setFillStyles(u,this),this.fillRule==="evenodd"?u.fill("evenodd"):u.fill(),u.restore())},_renderStroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(u),u.save(),this.strokeUniform&&this.group){var p=this.getObjectScaling();u.scale(1/p.scaleX,1/p.scaleY)}else this.strokeUniform&&u.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(u,this.strokeDashArray),this._setStrokeStyles(u,this),u.stroke(),u.restore()}},_applyPatternForTransformedGradient:function(u,p){var m=this._limitCacheSize(this._getCacheCanvasDimensions()),y=r.util.createCanvasElement(),C,x=this.canvas.getRetinaScaling(),_=m.x/this.scaleX/x,S=m.y/this.scaleY/x;y.width=Math.ceil(_),y.height=Math.ceil(S),C=y.getContext("2d"),C.beginPath(),C.moveTo(0,0),C.lineTo(_,0),C.lineTo(_,S),C.lineTo(0,S),C.closePath(),C.translate(_/2,S/2),C.scale(m.zoomX/this.scaleX/x,m.zoomY/this.scaleY/x),this._applyPatternGradientTransform(C,p),C.fillStyle=p.toLive(u),C.fill(),u.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),u.scale(x*this.scaleX/m.zoomX,x*this.scaleY/m.zoomY),u.strokeStyle=C.createPattern(y,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var u=r.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",u.scaleX),this.set("scaleY",u.scaleY),this.angle=u.angle,this.skewX=u.skewX,this.skewY=0}},_removeTransformMatrix:function(u){var p=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),p=r.util.transformPoint(p,this.transformMatrix)),this.transformMatrix=null,u&&(this.scaleX*=u.scaleX,this.scaleY*=u.scaleY,this.cropX=u.cropX,this.cropY=u.cropY,p.x+=u.offsetLeft,p.y+=u.offsetTop,this.width=u.width,this.height=u.height),this.setPositionByOrigin(p,"center","center")},clone:function(u,p){var m=this.toObject(p);this.constructor.fromObject?this.constructor.fromObject(m,u):r.Object._fromObject("Object",m,u)},cloneAsImage:function(u,p){var m=this.toCanvasElement(p);return u&&u(new r.Image(m)),this},toCanvasElement:function(u){u||(u={});var p=r.util,m=p.saveObjectTransform(this),y=this.group,C=this.shadow,x=Math.abs,_=(u.multiplier||1)*(u.enableRetinaScaling?r.devicePixelRatio:1);delete this.group,u.withoutTransform&&p.resetObjectTransform(this),u.withoutShadow&&(this.shadow=null);var S=r.util.createCanvasElement(),b=this.getBoundingRect(!0,!0),F=this.shadow,R,z={x:0,y:0},$,G,K;F&&($=F.blur,F.nonScaling?R={scaleX:1,scaleY:1}:R=this.getObjectScaling(),z.x=2*Math.round(x(F.offsetX)+$)*x(R.scaleX),z.y=2*Math.round(x(F.offsetY)+$)*x(R.scaleY)),G=b.width+z.x,K=b.height+z.y,S.width=Math.ceil(G),S.height=Math.ceil(K);var J=new r.StaticCanvas(S,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});u.format==="jpeg"&&(J.backgroundColor="#fff"),this.setPositionByOrigin(new r.Point(J.width/2,J.height/2),"center","center");var Y=this.canvas;J.add(this);var ee=J.toCanvasElement(_||1,u);return this.shadow=C,this.set("canvas",Y),y&&(this.group=y),this.set(m).setCoords(),J._objects=[],J.dispose(),J=null,ee},toDataURL:function(u){return u||(u={}),r.util.toDataURL(this.toCanvasElement(u),u.format||"png",u.quality||1)},isType:function(u){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===u},complexity:function(){return 1},toJSON:function(u){return this.toObject(u)},rotate:function(u){var p=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return p&&this._setOriginToCenter(),this.set("angle",u),p&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(u,p){p=p||this.canvas.getPointer(u);var m=new r.Point(p.x,p.y),y=this._getLeftTopCoords();return this.angle&&(m=r.util.rotatePoint(m,y,o(-this.angle))),{x:m.x-y.x,y:m.y-y.y}},_setupCompositeOperation:function(u){this.globalCompositeOperation&&(u.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){r.runningAnimations&&r.runningAnimations.cancelByTarget(this)}}),r.util.createAccessors&&r.util.createAccessors(r.Object),c(r.Object.prototype,r.Observable),r.Object.NUM_FRACTION_DIGITS=2,r.Object.ENLIVEN_PROPS=["clipPath"],r.Object._fromObject=function(u,p,m,y){var C=r[u];p=f(p,!0),r.util.enlivenPatterns([p.fill,p.stroke],function(x){typeof x[0]<"u"&&(p.fill=x[0]),typeof x[1]<"u"&&(p.stroke=x[1]),r.util.enlivenObjectEnlivables(p,p,function(){var _=y?new C(p[y],p):new C(p);m&&m(_)})})},r.Object.__uid=0)}(e),function(){var h=t.util.degreesToRadians,r={left:-.5,center:0,right:.5},c={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(f,i,s,o,l){var d=f.x,u=f.y,p,m,y;return typeof i=="string"?i=r[i]:i-=.5,typeof o=="string"?o=r[o]:o-=.5,p=o-i,typeof s=="string"?s=c[s]:s-=.5,typeof l=="string"?l=c[l]:l-=.5,m=l-s,(p||m)&&(y=this._getTransformedDimensions(),d=f.x+p*y.x,u=f.y+m*y.y),new t.Point(d,u)},translateToCenterPoint:function(f,i,s){var o=this.translateToGivenOrigin(f,i,s,"center","center");return this.angle?t.util.rotatePoint(o,f,h(this.angle)):o},translateToOriginPoint:function(f,i,s){var o=this.translateToGivenOrigin(f,"center","center",i,s);return this.angle?t.util.rotatePoint(o,f,h(this.angle)):o},getCenterPoint:function(){var f=new t.Point(this.left,this.top);return this.translateToCenterPoint(f,this.originX,this.originY)},getPointByOrigin:function(f,i){var s=this.getCenterPoint();return this.translateToOriginPoint(s,f,i)},toLocalPoint:function(f,i,s){var o=this.getCenterPoint(),l,d;return typeof i<"u"&&typeof s<"u"?l=this.translateToGivenOrigin(o,"center","center",i,s):l=new t.Point(this.left,this.top),d=new t.Point(f.x,f.y),this.angle&&(d=t.util.rotatePoint(d,o,-h(this.angle))),d.subtractEquals(l)},setPositionByOrigin:function(f,i,s){var o=this.translateToCenterPoint(f,i,s),l=this.translateToOriginPoint(o,this.originX,this.originY);this.set("left",l.x),this.set("top",l.y)},adjustPosition:function(f){var i=h(this.angle),s=this.getScaledWidth(),o=t.util.cos(i)*s,l=t.util.sin(i)*s,d,u;typeof this.originX=="string"?d=r[this.originX]:d=this.originX-.5,typeof f=="string"?u=r[f]:u=f-.5,this.left+=o*(u-d),this.top+=l*(u-d),this.setCoords(),this.originX=f},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var f=this.getCenterPoint();this.originX="center",this.originY="center",this.left=f.x,this.top=f.y},_resetOrigin:function(){var f=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=f.x,this.top=f.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function h(s){return[new t.Point(s.tl.x,s.tl.y),new t.Point(s.tr.x,s.tr.y),new t.Point(s.br.x,s.br.y),new t.Point(s.bl.x,s.bl.y)]}var r=t.util,c=r.degreesToRadians,f=r.multiplyTransformMatrices,i=r.transformPoint;r.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(s,o){return o?s?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),s?this.aCoords:this.lineCoords)},getCoords:function(s,o){return h(this._getCoords(s,o))},intersectsWithRect:function(s,o,l,d){var u=this.getCoords(l,d),p=t.Intersection.intersectPolygonRectangle(u,s,o);return p.status==="Intersection"},intersectsWithObject:function(s,o,l){var d=t.Intersection.intersectPolygonPolygon(this.getCoords(o,l),s.getCoords(o,l));return d.status==="Intersection"||s.isContainedWithinObject(this,o,l)||this.isContainedWithinObject(s,o,l)},isContainedWithinObject:function(s,o,l){for(var d=this.getCoords(o,l),u=o?s.aCoords:s.lineCoords,p=0,m=s._getImageLines(u);p<4;p++)if(!s.containsPoint(d[p],m))return!1;return!0},isContainedWithinRect:function(s,o,l,d){var u=this.getBoundingRect(l,d);return u.left>=s.x&&u.left+u.width<=o.x&&u.top>=s.y&&u.top+u.height<=o.y},containsPoint:function(s,p,l,d){var u=this._getCoords(l,d),p=p||this._getImageLines(u),m=this._findCrossPoints(s,p);return m!==0&&m%2===1},isOnScreen:function(s){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,l=this.canvas.vptCoords.br,d=this.getCoords(!0,s);return d.some(function(u){return u.x<=l.x&&u.x>=o.x&&u.y<=l.y&&u.y>=o.y})||this.intersectsWithRect(o,l,!0,s)?!0:this._containsCenterOfCanvas(o,l,s)},_containsCenterOfCanvas:function(s,o,l){var d={x:(s.x+o.x)/2,y:(s.y+o.y)/2};return!!this.containsPoint(d,null,!0,l)},isPartiallyOnScreen:function(s){if(!this.canvas)return!1;var o=this.canvas.vptCoords.tl,l=this.canvas.vptCoords.br;if(this.intersectsWithRect(o,l,!0,s))return!0;var d=this.getCoords(!0,s).every(function(u){return(u.x>=l.x||u.x<=o.x)&&(u.y>=l.y||u.y<=o.y)});return d&&this._containsCenterOfCanvas(o,l,s)},_getImageLines:function(s){var o={topline:{o:s.tl,d:s.tr},rightline:{o:s.tr,d:s.br},bottomline:{o:s.br,d:s.bl},leftline:{o:s.bl,d:s.tl}};return o},_findCrossPoints:function(s,o){var l,d,u,p,m,y=0,C;for(var x in o)if(C=o[x],!(C.o.y<s.y&&C.d.y<s.y)&&!(C.o.y>=s.y&&C.d.y>=s.y)&&(C.o.x===C.d.x&&C.o.x>=s.x?m=C.o.x:(l=0,d=(C.d.y-C.o.y)/(C.d.x-C.o.x),u=s.y-l*s.x,p=C.o.y-d*C.o.x,m=-(u-p)/(l-d)),m>=s.x&&(y+=1),y===2))break;return y},getBoundingRect:function(s,o){var l=this.getCoords(s,o);return r.makeBoundingBoxFromPoints(l)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(s){return Math.abs(s)<this.minScaleLimit?s<0?-this.minScaleLimit:this.minScaleLimit:s===0?1e-4:s},scale:function(s){return this._set("scaleX",s),this._set("scaleY",s),this.setCoords()},scaleToWidth:function(s,o){var l=this.getBoundingRect(o).width/this.getScaledWidth();return this.scale(s/this.width/l)},scaleToHeight:function(s,o){var l=this.getBoundingRect(o).height/this.getScaledHeight();return this.scale(s/this.height/l)},calcLineCoords:function(){var s=this.getViewportTransform(),o=this.padding,l=c(this.angle),d=r.cos(l),u=r.sin(l),p=d*o,m=u*o,y=p+m,C=p-m,x=this.calcACoords(),_={tl:i(x.tl,s),tr:i(x.tr,s),bl:i(x.bl,s),br:i(x.br,s)};return o&&(_.tl.x-=C,_.tl.y-=y,_.tr.x+=y,_.tr.y-=C,_.bl.x-=y,_.bl.y+=C,_.br.x+=C,_.br.y+=y),_},calcOCoords:function(){var s=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),l=this.getViewportTransform(),d=f(l,o),u=f(d,s),u=f(u,[1/l[0],0,0,1/l[3],0,0]),p=this._calculateCurrentDimensions(),m={};return this.forEachControl(function(y,C,x){m[C]=y.positionHandler(p,u,x)}),m},calcACoords:function(){var s=this._calcRotateMatrix(),o=this._calcTranslateMatrix(),l=f(o,s),d=this._getTransformedDimensions(),u=d.x/2,p=d.y/2;return{tl:i({x:-u,y:-p},l),tr:i({x:u,y:-p},l),bl:i({x:-u,y:p},l),br:i({x:u,y:p},l)}},setCoords:function(s){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),s?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return r.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var s=this.getCenterPoint();return[1,0,0,1,s.x,s.y]},transformMatrixKey:function(s){var o="_",l="";return!s&&this.group&&(l=this.group.transformMatrixKey(s)+o),l+this.top+o+this.left+o+this.scaleX+o+this.scaleY+o+this.skewX+o+this.skewY+o+this.angle+o+this.originX+o+this.originY+o+this.width+o+this.height+o+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(s){var o=this.calcOwnMatrix();if(s||!this.group)return o;var l=this.transformMatrixKey(s),d=this.matrixCache||(this.matrixCache={});return d.key===l?d.value:(this.group&&(o=f(this.group.calcTransformMatrix(!1),o)),d.key=l,d.value=o,o)},calcOwnMatrix:function(){var s=this.transformMatrixKey(!0),o=this.ownMatrixCache||(this.ownMatrixCache={});if(o.key===s)return o.value;var l=this._calcTranslateMatrix(),d={angle:this.angle,translateX:l[4],translateY:l[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return o.key=s,o.value=r.composeMatrix(d),o.value},_getNonTransformedDimensions:function(){var s=this.strokeWidth,o=this.width+s,l=this.height+s;return{x:o,y:l}},_getTransformedDimensions:function(s,o){typeof s>"u"&&(s=this.skewX),typeof o>"u"&&(o=this.skewY);var l,d,u,p=s===0&&o===0;if(this.strokeUniform?(d=this.width,u=this.height):(l=this._getNonTransformedDimensions(),d=l.x,u=l.y),p)return this._finalizeDimensions(d*this.scaleX,u*this.scaleY);var m=r.sizeAfterTransform(d,u,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:s,skewY:o});return this._finalizeDimensions(m.x,m.y)},_finalizeDimensions:function(s,o){return this.strokeUniform?{x:s+this.strokeWidth,y:o+this.strokeWidth}:{x:s,y:o}},_calculateCurrentDimensions:function(){var s=this.getViewportTransform(),o=this._getTransformedDimensions(),l=i(o,s,!0);return l.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(h){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,h):this.canvas&&this.canvas.sendBackwards(this,h),this},bringForward:function(h){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,h):this.canvas&&this.canvas.bringForward(this,h),this},moveTo:function(h){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,h):this.canvas&&this.canvas.moveTo(this,h),this}}),function(){function h(c,f){if(f){if(f.toLive)return c+": url(#SVGID_"+f.id+"); ";var i=new t.Color(f),s=c+": "+i.toRgb()+"; ",o=i.getAlpha();return o!==1&&(s+=c+"-opacity: "+o.toString()+"; "),s}else return c+": none; "}var r=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(c){var f=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",s=this.strokeDashArray?this.strokeDashArray.join(" "):"none",o=this.strokeDashOffset?this.strokeDashOffset:"0",l=this.strokeLineCap?this.strokeLineCap:"butt",d=this.strokeLineJoin?this.strokeLineJoin:"miter",u=this.strokeMiterLimit?this.strokeMiterLimit:"4",p=typeof this.opacity<"u"?this.opacity:"1",m=this.visible?"":" visibility: hidden;",y=c?"":this.getSvgFilter(),C=h("fill",this.fill),x=h("stroke",this.stroke);return[x,"stroke-width: ",i,"; ","stroke-dasharray: ",s,"; ","stroke-linecap: ",l,"; ","stroke-dashoffset: ",o,"; ","stroke-linejoin: ",d,"; ","stroke-miterlimit: ",u,"; ",C,"fill-rule: ",f,"; ","opacity: ",p,";",y,m].join("")},getSvgSpanStyles:function(c,f){var i="; ",o=c.fontFamily?"font-family: "+(c.fontFamily.indexOf("'")===-1&&c.fontFamily.indexOf('"')===-1?"'"+c.fontFamily+"'":c.fontFamily)+i:"",s=c.strokeWidth?"stroke-width: "+c.strokeWidth+i:"",o=o,l=c.fontSize?"font-size: "+c.fontSize+"px"+i:"",d=c.fontStyle?"font-style: "+c.fontStyle+i:"",u=c.fontWeight?"font-weight: "+c.fontWeight+i:"",p=c.fill?h("fill",c.fill):"",m=c.stroke?h("stroke",c.stroke):"",y=this.getSvgTextDecoration(c),C=c.deltaY?"baseline-shift: "+-c.deltaY+"; ":"";return y&&(y="text-decoration: "+y+i),[m,s,o,l,d,u,y,p,C,f?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(c){return["overline","underline","line-through"].filter(function(f){return c[f.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(c,f){var i=c?this.calcTransformMatrix():this.calcOwnMatrix(),s='transform="'+t.util.matrixToSVG(i);return s+(f||"")+'" '},_setSVGBg:function(c){if(this.backgroundColor){var f=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',r(-this.width/2,f),'" y="',r(-this.height/2,f),'" width="',r(this.width,f),'" height="',r(this.height,f),`"></rect>
`)}},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(c),{reviver:c})},toClipPathSVG:function(c){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(c),{reviver:c})},_createBaseClipPathSVGMarkup:function(c,f){f=f||{};var i=f.reviver,s=f.additionalTransform||"",o=[this.getSvgTransform(!0,s),this.getSvgCommons()].join(""),l=c.indexOf("COMMON_PARTS");return c[l]=o,i?i(c.join("")):c.join("")},_createBaseSVGMarkup:function(c,f){f=f||{};var i=f.noStyle,s=f.reviver,o=i?"":'style="'+this.getSvgStyles()+'" ',l=f.withShadow?'style="'+this.getSvgFilter()+'" ':"",d=this.clipPath,u=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",p=d&&d.absolutePositioned,m=this.stroke,y=this.fill,C=this.shadow,x,_=[],S,b=c.indexOf("COMMON_PARTS"),F=f.additionalTransform;return d&&(d.clipPathId="CLIPPATH_"+t.Object.__uid++,S='<clipPath id="'+d.clipPathId+`" >
`+d.toClipPathSVG(s)+`</clipPath>
`),p&&_.push("<g ",l,this.getSvgCommons(),` >
`),_.push("<g ",this.getSvgTransform(!1),p?"":l+this.getSvgCommons(),` >
`),x=[o,u,i?"":this.addPaintOrder()," ",F?'transform="'+F+'" ':""].join(""),c[b]=x,y&&y.toLive&&_.push(y.toSVG(this)),m&&m.toLive&&_.push(m.toSVG(this)),C&&_.push(C.toSVG(this)),d&&_.push(S),_.push(c.join("")),_.push(`</g>
`),p&&_.push(`</g>
`),s?s(_.join("")):_.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var h=t.util.object.extend,r="stateProperties";function c(i,s,o){var l={},d=!0;o.forEach(function(u){l[u]=i[u]}),h(i[s],l,d)}function f(i,s,o){if(i===s)return!0;if(Array.isArray(i)){if(!Array.isArray(s)||i.length!==s.length)return!1;for(var l=0,d=i.length;l<d;l++)if(!f(i[l],s[l]))return!1;return!0}else if(i&&typeof i=="object"){var u=Object.keys(i),p;if(!s||typeof s!="object"||!o&&u.length!==Object.keys(s).length)return!1;for(var l=0,d=u.length;l<d;l++)if(p=u[l],!(p==="canvas"||p==="group")&&!f(i[p],s[p]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(i){i=i||r;var s="_"+i;return Object.keys(this[s]).length<this[i].length?!0:!f(this[s],this,!0)},saveState:function(i){var s=i&&i.propertySet||r,o="_"+s;return this[o]?(c(this,o,this[s]),i&&i.stateProperties&&c(this,o,i.stateProperties),this):this.setupState(i)},setupState:function(i){i=i||{};var s=i.propertySet||r;return i.propertySet=s,this["_"+s]={},this.saveState(i),this}})}(),function(){var h=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(r,c){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var f=r.x,i=r.y,s,o,l=Object.keys(this.oCoords),d=l.length-1,u;for(this.__corner=0;d>=0;d--)if(u=l[d],!!this.isControlVisible(u)&&(o=this._getImageLines(c?this.oCoords[u].touchCorner:this.oCoords[u].corner),s=this._findCrossPoints({x:f,y:i},o),s!==0&&s%2===1))return this.__corner=u,u;return!1},forEachControl:function(r){for(var c in this.controls)r(this.controls[c],c,this)},_setCornerCoords:function(){var r=this.oCoords;for(var c in r){var f=this.controls[c];r[c].corner=f.calcCornerCoords(this.angle,this.cornerSize,r[c].x,r[c].y,!1),r[c].touchCorner=f.calcCornerCoords(this.angle,this.touchCornerSize,r[c].x,r[c].y,!0)}},drawSelectionBackground:function(r){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;r.save();var c=this.getCenterPoint(),f=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return r.translate(c.x,c.y),r.scale(1/i[0],1/i[3]),r.rotate(h(this.angle)),r.fillStyle=this.selectionBackgroundColor,r.fillRect(-f.x/2,-f.y/2,f.x,f.y),r.restore(),this},drawBorders:function(r,c){c=c||{};var f=this._calculateCurrentDimensions(),i=this.borderScaleFactor,s=f.x+i,o=f.y+i,l=typeof c.hasControls<"u"?c.hasControls:this.hasControls,d=!1;return r.save(),r.strokeStyle=c.borderColor||this.borderColor,this._setLineDash(r,c.borderDashArray||this.borderDashArray),r.strokeRect(-s/2,-o/2,s,o),l&&(r.beginPath(),this.forEachControl(function(u,p,m){u.withConnection&&u.getVisibility(m,p)&&(d=!0,r.moveTo(u.x*s,u.y*o),r.lineTo(u.x*s+u.offsetX,u.y*o+u.offsetY))}),d&&r.stroke()),r.restore(),this},drawBordersInGroup:function(r,c,f){f=f||{};var i=t.util.sizeAfterTransform(this.width,this.height,c),s=this.strokeWidth,o=this.strokeUniform,l=this.borderScaleFactor,d=i.x+s*(o?this.canvas.getZoom():c.scaleX)+l,u=i.y+s*(o?this.canvas.getZoom():c.scaleY)+l;return r.save(),this._setLineDash(r,f.borderDashArray||this.borderDashArray),r.strokeStyle=f.borderColor||this.borderColor,r.strokeRect(-d/2,-u/2,d,u),r.restore(),this},drawControls:function(r,c){c=c||{},r.save();var f=1,i,s;return this.canvas&&(f=this.canvas.getRetinaScaling()),r.setTransform(f,0,0,f,0,0),r.strokeStyle=r.fillStyle=c.cornerColor||this.cornerColor,this.transparentCorners||(r.strokeStyle=c.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(r,c.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl(function(o,l,d){s=d.oCoords[l],o.getVisibility(d,l)&&(i&&(s=t.util.transformPoint(s,i)),o.render(r,s.x,s.y,c,d))}),r.restore(),this},isControlVisible:function(r){return this.controls[r]&&this.controls[r].getVisibility(this,r)},setControlVisible:function(r,c){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[r]=c,this},setControlsVisibility:function(r){r||(r={});for(var c in r)this.setControlVisible(c,r[c]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(h,r){r=r||{};var c=function(){},f=r.onComplete||c,i=r.onChange||c,s=this;return t.util.animate({target:this,startValue:h.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(o){h.set("left",o),s.requestRenderAll(),i()},onComplete:function(){h.setCoords(),f()}})},fxCenterObjectV:function(h,r){r=r||{};var c=function(){},f=r.onComplete||c,i=r.onChange||c,s=this;return t.util.animate({target:this,startValue:h.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(o){h.set("top",o),s.requestRenderAll(),i()},onComplete:function(){h.setCoords(),f()}})},fxRemove:function(h,r){r=r||{};var c=function(){},f=r.onComplete||c,i=r.onChange||c,s=this;return t.util.animate({target:this,startValue:h.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(o){h.set("opacity",o),s.requestRenderAll(),i()},onComplete:function(){s.remove(h),f()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var h=[],r,c,f=[];for(r in arguments[0])h.push(r);for(var i=0,s=h.length;i<s;i++)r=h[i],c=i!==s-1,f.push(this._animate(r,arguments[0][r],arguments[1],c));return f}else return this._animate.apply(this,arguments)},_animate:function(h,r,c,f){var i=this,s;r=r.toString(),c?c=t.util.object.clone(c):c={},~h.indexOf(".")&&(s=h.split("."));var o=i.colorProperties.indexOf(h)>-1||s&&i.colorProperties.indexOf(s[1])>-1,l=s?this.get(s[0])[s[1]]:this.get(h);"from"in c||(c.from=l),o||(~r.indexOf("=")?r=l+parseFloat(r.replace("=","")):r=parseFloat(r));var d={target:this,startValue:c.from,endValue:r,byValue:c.by,easing:c.easing,duration:c.duration,abort:c.abort&&function(u,p,m){return c.abort.call(i,u,p,m)},onChange:function(u,p,m){s?i[s[0]][s[1]]=u:i.set(h,u),!f&&c.onChange&&c.onChange(u,p,m)},onComplete:function(u,p,m){f||(i.setCoords(),c.onComplete&&c.onComplete(u,p,m))}};return o?t.util.animateColor(d.startValue,d.endValue,d.duration,d):t.util.animate(d)}}),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.util.object.clone,i={x1:1,x2:1,y1:1,y2:1};if(r.Line){r.warn("fabric.Line is already defined");return}r.Line=r.util.createClass(r.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:r.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(o,l){o||(o=[0,0,0,0]),this.callSuper("initialize",l),this.set("x1",o[0]),this.set("y1",o[1]),this.set("x2",o[2]),this.set("y2",o[3]),this._setWidthHeight(l)},_setWidthHeight:function(o){o||(o={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in o?o.left:this._getLeftToOriginX(),this.top="top"in o?o.top:this._getTopToOriginY()},_set:function(o,l){return this.callSuper("_set",o,l),typeof i[o]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:s({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:s({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(o){o.beginPath();var l=this.calcLinePoints();o.moveTo(l.x1,l.y1),o.lineTo(l.x2,l.y2),o.lineWidth=this.strokeWidth;var d=o.strokeStyle;o.strokeStyle=this.stroke||o.fillStyle,this.stroke&&this._renderStroke(o),o.strokeStyle=d},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(o){return c(this.callSuper("toObject",o),this.calcLinePoints())},_getNonTransformedDimensions:function(){var o=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(o.y-=this.strokeWidth),this.height===0&&(o.x-=this.strokeWidth)),o},calcLinePoints:function(){var o=this.x1<=this.x2?-1:1,l=this.y1<=this.y2?-1:1,d=o*this.width*.5,u=l*this.height*.5,p=o*this.width*-.5,m=l*this.height*-.5;return{x1:d,x2:p,y1:u,y2:m}},_toSVG:function(){var o=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',o.x1,'" y1="',o.y1,'" x2="',o.x2,'" y2="',o.y2,`" />
`]}}),r.Line.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),r.Line.fromElement=function(o,l,d){d=d||{};var u=r.parseAttributes(o,r.Line.ATTRIBUTE_NAMES),p=[u.x1||0,u.y1||0,u.x2||0,u.y2||0];l(new r.Line(p,c(u,d)))},r.Line.fromObject=function(o,l){function d(p){delete p.points,l&&l(p)}var u=f(o,!0);u.points=[o.x1,o.y1,o.x2,o.y2],r.Object._fromObject("Line",u,d,"points")};function s(o,l){var d=o.origin,u=o.axis1,p=o.axis2,m=o.dimension,y=l.nearest,C=l.center,x=l.farthest;return function(){switch(this.get(d)){case y:return Math.min(this.get(u),this.get(p));case C:return Math.min(this.get(u),this.get(p))+.5*this.get(m);case x:return Math.max(this.get(u),this.get(p))}}}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.degreesToRadians;if(r.Circle){r.warn("fabric.Circle is already defined.");return}r.Circle=r.util.createClass(r.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:r.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(i,s){return this.callSuper("_set",i,s),i==="radius"&&this.setRadius(s),this},toObject:function(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function(){var i,s=0,o=0,l=(this.endAngle-this.startAngle)%360;if(l===0)i=["<circle ","COMMON_PARTS",'cx="'+s+'" cy="'+o+'" ','r="',this.radius,`" />
`];else{var d=c(this.startAngle),u=c(this.endAngle),p=this.radius,m=r.util.cos(d)*p,y=r.util.sin(d)*p,C=r.util.cos(u)*p,x=r.util.sin(u)*p,_=l>180?"1":"0";i=['<path d="M '+m+" "+y," A "+p+" "+p," 0 ",+_+" 1"," "+C+" "+x,'" ',"COMMON_PARTS",` />
`]}return i},_render:function(i){i.beginPath(),i.arc(0,0,this.radius,c(this.startAngle),c(this.endAngle),!1),this._renderPaintInOrder(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){return this.radius=i,this.set("width",i*2).set("height",i*2)}}),r.Circle.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),r.Circle.fromElement=function(i,s){var o=r.parseAttributes(i,r.Circle.ATTRIBUTE_NAMES);if(!f(o))throw new Error("value of `r` attribute is required and can not be negative");o.left=(o.left||0)-o.radius,o.top=(o.top||0)-o.radius,s(new r.Circle(o))};function f(i){return"radius"in i&&i.radius>=0}r.Circle.fromObject=function(i,s){r.Object._fromObject("Circle",i,s)}}(e),function(h){var r=h.fabric||(h.fabric={});if(r.Triangle){r.warn("fabric.Triangle is already defined");return}r.Triangle=r.util.createClass(r.Object,{type:"triangle",width:100,height:100,_render:function(c){var f=this.width/2,i=this.height/2;c.beginPath(),c.moveTo(-f,i),c.lineTo(0,-i),c.lineTo(f,i),c.closePath(),this._renderPaintInOrder(c)},_toSVG:function(){var c=this.width/2,f=this.height/2,i=[-c+" "+f,"0 "+-f,c+" "+f].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),r.Triangle.fromObject=function(c,f){return r.Object._fromObject("Triangle",c,f)}}(e),function(h){var r=h.fabric||(h.fabric={}),c=Math.PI*2;if(r.Ellipse){r.warn("fabric.Ellipse is already defined.");return}r.Ellipse=r.util.createClass(r.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this.set("rx",f&&f.rx||0),this.set("ry",f&&f.ry||0)},_set:function(f,i){switch(this.callSuper("_set",f,i),f){case"rx":this.rx=i,this.set("width",i*2);break;case"ry":this.ry=i,this.set("height",i*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(f){f.beginPath(),f.save(),f.transform(1,0,0,this.ry/this.rx,0,0),f.arc(0,0,this.rx,0,c,!1),f.restore(),this._renderPaintInOrder(f)}}),r.Ellipse.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),r.Ellipse.fromElement=function(f,i){var s=r.parseAttributes(f,r.Ellipse.ATTRIBUTE_NAMES);s.left=(s.left||0)-s.rx,s.top=(s.top||0)-s.ry,i(new r.Ellipse(s))},r.Ellipse.fromObject=function(f,i){r.Object._fromObject("Ellipse",f,i)}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend;if(r.Rect){r.warn("fabric.Rect is already defined");return}r.Rect=r.util.createClass(r.Object,{stateProperties:r.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:r.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(f){this.callSuper("initialize",f),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(f){var i=this.rx?Math.min(this.rx,this.width/2):0,s=this.ry?Math.min(this.ry,this.height/2):0,o=this.width,l=this.height,d=-this.width/2,u=-this.height/2,p=i!==0||s!==0,m=1-.5522847498;f.beginPath(),f.moveTo(d+i,u),f.lineTo(d+o-i,u),p&&f.bezierCurveTo(d+o-m*i,u,d+o,u+m*s,d+o,u+s),f.lineTo(d+o,u+l-s),p&&f.bezierCurveTo(d+o,u+l-m*s,d+o-m*i,u+l,d+o-i,u+l),f.lineTo(d+i,u+l),p&&f.bezierCurveTo(d+m*i,u+l,d,u+l-m*s,d,u+l-s),f.lineTo(d,u+s),p&&f.bezierCurveTo(d,u+m*s,d+m*i,u,d+i,u),f.closePath(),this._renderPaintInOrder(f)},toObject:function(f){return this.callSuper("toObject",["rx","ry"].concat(f))},_toSVG:function(){var f=-this.width/2,i=-this.height/2;return["<rect ","COMMON_PARTS",'x="',f,'" y="',i,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),r.Rect.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),r.Rect.fromElement=function(f,i,s){if(!f)return i(null);s=s||{};var o=r.parseAttributes(f,r.Rect.ATTRIBUTE_NAMES);o.left=o.left||0,o.top=o.top||0,o.height=o.height||0,o.width=o.width||0;var l=new r.Rect(c(s?r.util.object.clone(s):{},o));l.visible=l.visible&&l.width>0&&l.height>0,i(l)},r.Rect.fromObject=function(f,i){return r.Object._fromObject("Rect",f,i)}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.util.array.min,i=r.util.array.max,s=r.util.toFixed,o=r.util.projectStrokeOnPoints;if(r.Polyline){r.warn("fabric.Polyline is already defined");return}r.Polyline=r.util.createClass(r.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:r.Object.prototype.cacheProperties.concat("points"),initialize:function(l,d){d=d||{},this.points=l||[],this.callSuper("initialize",d),this._setPositionDimensions(d)},_projectStrokeOnPoints:function(){return o(this.points,this,!0)},_setPositionDimensions:function(l){var d=this._calcDimensions(l),u,p=this.exactBoundingBox?this.strokeWidth:0;this.width=d.width-p,this.height=d.height-p,l.fromSVG||(u=this.translateToGivenOrigin({x:d.left-this.strokeWidth/2+p/2,y:d.top-this.strokeWidth/2+p/2},"left","top",this.originX,this.originY)),typeof l.left>"u"&&(this.left=l.fromSVG?d.left:u.x),typeof l.top>"u"&&(this.top=l.fromSVG?d.top:u.y),this.pathOffset={x:d.left+this.width/2+p/2,y:d.top+this.height/2+p/2}},_calcDimensions:function(){var l=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,d=f(l,"x")||0,u=f(l,"y")||0,p=i(l,"x")||0,m=i(l,"y")||0,y=p-d,C=m-u;return{left:d,top:u,width:y,height:C}},toObject:function(l){return c(this.callSuper("toObject",l),{points:this.points.concat()})},_toSVG:function(){for(var l=[],d=this.pathOffset.x,u=this.pathOffset.y,p=r.Object.NUM_FRACTION_DIGITS,m=0,y=this.points.length;m<y;m++)l.push(s(this.points[m].x-d,p),",",s(this.points[m].y-u,p)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',l.join(""),`" />
`]},commonRender:function(l){var d,u=this.points.length,p=this.pathOffset.x,m=this.pathOffset.y;if(!u||isNaN(this.points[u-1].y))return!1;l.beginPath(),l.moveTo(this.points[0].x-p,this.points[0].y-m);for(var y=0;y<u;y++)d=this.points[y],l.lineTo(d.x-p,d.y-m);return!0},_render:function(l){this.commonRender(l)&&this._renderPaintInOrder(l)},complexity:function(){return this.get("points").length}}),r.Polyline.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polyline.fromElementGenerator=function(l){return function(d,u,p){if(!d)return u(null);p||(p={});var m=r.parsePointsAttribute(d.getAttribute("points")),y=r.parseAttributes(d,r[l].ATTRIBUTE_NAMES);y.fromSVG=!0,u(new r[l](m,c(y,p)))}},r.Polyline.fromElement=r.Polyline.fromElementGenerator("Polyline"),r.Polyline.fromObject=function(l,d){return r.Object._fromObject("Polyline",l,d,"points")}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.projectStrokeOnPoints;if(r.Polygon){r.warn("fabric.Polygon is already defined");return}r.Polygon=r.util.createClass(r.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return c(this.points,this)},_render:function(f){this.commonRender(f)&&(f.closePath(),this._renderPaintInOrder(f))}}),r.Polygon.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(),r.Polygon.fromElement=r.Polyline.fromElementGenerator("Polygon"),r.Polygon.fromObject=function(f,i){r.Object._fromObject("Polygon",f,i,"points")}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.array.min,f=r.util.array.max,i=r.util.object.extend,s=r.util.object.clone,o=r.util.toFixed;if(r.Path){r.warn("fabric.Path is already defined");return}r.Path=r.util.createClass(r.Object,{type:"path",path:null,cacheProperties:r.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:r.Object.prototype.stateProperties.concat("path"),initialize:function(l,d){d=s(d||{}),delete d.path,this.callSuper("initialize",d),this._setPath(l||[],d)},_setPath:function(l,d){this.path=r.util.makePathSimpler(Array.isArray(l)?l:r.util.parsePath(l)),r.Polyline.prototype._setPositionDimensions.call(this,d||{})},_renderPathCommands:function(l){var d,u=0,p=0,m=0,y=0,C=0,x=0,_=-this.pathOffset.x,S=-this.pathOffset.y;l.beginPath();for(var b=0,F=this.path.length;b<F;++b)switch(d=this.path[b],d[0]){case"L":m=d[1],y=d[2],l.lineTo(m+_,y+S);break;case"M":m=d[1],y=d[2],u=m,p=y,l.moveTo(m+_,y+S);break;case"C":m=d[5],y=d[6],C=d[3],x=d[4],l.bezierCurveTo(d[1]+_,d[2]+S,C+_,x+S,m+_,y+S);break;case"Q":l.quadraticCurveTo(d[1]+_,d[2]+S,d[3]+_,d[4]+S),m=d[3],y=d[4],C=d[1],x=d[2];break;case"z":case"Z":m=u,y=p,l.closePath();break}},_render:function(l){this._renderPathCommands(l),this._renderPaintInOrder(l)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(l){return i(this.callSuper("toObject",l),{path:this.path.map(function(d){return d.slice()})})},toDatalessObject:function(l){var d=this.toObject(["sourcePath"].concat(l));return d.sourcePath&&delete d.path,d},_toSVG:function(){var l=r.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',l,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var l=r.Object.NUM_FRACTION_DIGITS;return" translate("+o(-this.pathOffset.x,l)+", "+o(-this.pathOffset.y,l)+")"},toClipPathSVG:function(l){var d=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:l,additionalTransform:d})},toSVG:function(l){var d=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:l,additionalTransform:d})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var l=[],d=[],u,p=0,m=0,y=0,C=0,x,_=0,S=this.path.length;_<S;++_){switch(u=this.path[_],u[0]){case"L":y=u[1],C=u[2],x=[];break;case"M":y=u[1],C=u[2],p=y,m=C,x=[];break;case"C":x=r.util.getBoundsOfCurve(y,C,u[1],u[2],u[3],u[4],u[5],u[6]),y=u[5],C=u[6];break;case"Q":x=r.util.getBoundsOfCurve(y,C,u[1],u[2],u[1],u[2],u[3],u[4]),y=u[3],C=u[4];break;case"z":case"Z":y=p,C=m;break}x.forEach(function(K){l.push(K.x),d.push(K.y)}),l.push(y),d.push(C)}var b=c(l)||0,F=c(d)||0,R=f(l)||0,z=f(d)||0,$=R-b,G=z-F;return{left:b,top:F,width:$,height:G}}}),r.Path.fromObject=function(l,d){if(typeof l.sourcePath=="string"){var u=l.sourcePath;r.loadSVGFromURL(u,function(p){var m=p[0];m.setOptions(l),l.clipPath?r.util.enlivenObjects([l.clipPath],function(y){m.clipPath=y[0],d&&d(m)}):d&&d(m)})}else r.Object._fromObject("Path",l,d,"path")},r.Path.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat(["d"]),r.Path.fromElement=function(l,d,u){var p=r.parseAttributes(l,r.Path.ATTRIBUTE_NAMES);p.fromSVG=!0,d(new r.Path(p.d,i(p,u)))}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.array.min,f=r.util.array.max;r.Group||(r.Group=r.util.createClass(r.Object,r.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(i,s,o){s=s||{},this._objects=[],o&&this.callSuper("initialize",s),this._objects=i||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;if(o)this._updateObjectsACoords();else{var d=s&&s.centerPoint;s.originX!==void 0&&(this.originX=s.originX),s.originY!==void 0&&(this.originY=s.originY),d||this._calcBounds(),this._updateObjectsCoords(d),delete s.centerPoint,this.callSuper("initialize",s)}this.setCoords()},_updateObjectsACoords:function(){for(var i=!0,s=this._objects.length;s--;)this._objects[s].setCoords(i)},_updateObjectsCoords:function(s){for(var s=s||this.getCenterPoint(),o=this._objects.length;o--;)this._updateObjectCoords(this._objects[o],s)},_updateObjectCoords:function(i,s){var o=i.left,l=i.top,d=!0;i.set({left:o-s.x,top:l-s.y}),i.group=this,i.setCoords(d)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(i){var s=!!this.group;return this._restoreObjectsState(),r.util.resetObjectTransform(this),i&&(s&&r.util.removeTransformFromObject(i,this.group.calcTransformMatrix()),this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,s?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(i){return this._restoreObjectsState(),r.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function(i){this.dirty=!0,delete i.group},_set:function(i,s){var o=this._objects.length;if(this.useSetOnGroup)for(;o--;)this._objects[o].setOnGroup(i,s);if(i==="canvas")for(;o--;)this._objects[o]._set(i,s);r.Object.prototype._set.call(this,i,s)},toObject:function(i){var s=this.includeDefaultValues,o=this._objects.filter(function(d){return!d.excludeFromExport}).map(function(d){var u=d.includeDefaultValues;d.includeDefaultValues=s;var p=d.toObject(i);return d.includeDefaultValues=u,p}),l=r.Object.prototype.toObject.call(this,i);return l.objects=o,l},toDatalessObject:function(i){var s,o=this.sourcePath;if(o)s=o;else{var l=this.includeDefaultValues;s=this._objects.map(function(u){var p=u.includeDefaultValues;u.includeDefaultValues=l;var m=u.toDatalessObject(i);return u.includeDefaultValues=p,m})}var d=r.Object.prototype.toDatalessObject.call(this,i);return d.objects=s,d},render:function(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function(){var i=r.Object.prototype.shouldCache.call(this);if(i){for(var s=0,o=this._objects.length;s<o;s++)if(this._objects[s].willDrawShadow())return this.ownCaching=!1,!1}return i},willDrawShadow:function(){if(r.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,s=this._objects.length;i<s;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(i){for(var s=0,o=this._objects.length;s<o;s++)this._objects[s].render(i);this._drawClipPath(i,this.clipPath)},isCacheDirty:function(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var s=0,o=this._objects.length;s<o;s++)if(this._objects[s].isCacheDirty(!0)){if(this._cacheCanvas){var l=this.cacheWidth/this.zoomX,d=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-l/2,-d/2,l,d)}return!0}return!1},_restoreObjectsState:function(){var i=this.calcOwnMatrix();return this._objects.forEach(function(s){r.util.addTransformToObject(s,i),delete s.group,s.setCoords()}),this},destroy:function(){return this._objects.forEach(function(i){i.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var i=this._objects,s=this.canvas;this._objects=[];var o=this.toObject();delete o.objects;var l=new r.ActiveSelection([]);return l.set(o),l.type="activeSelection",s.remove(this),i.forEach(function(d){d.group=l,d.dirty=!0,s.add(d)}),l.canvas=s,l._objects=i,s._activeObject=l,l.setCoords(),l}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var i=!0;return this.forEachObject(function(s){s.setCoords(i)}),this},_calcBounds:function(i){for(var s=[],o=[],l,d,u,p=["tr","br","bl","tl"],m=0,y=this._objects.length,C,x=p.length;m<y;++m){for(l=this._objects[m],u=l.calcACoords(),C=0;C<x;C++)d=p[C],s.push(u[d].x),o.push(u[d].y);l.aCoords=u}this._getBounds(s,o,i)},_getBounds:function(i,s,o){var l=new r.Point(c(i),c(s)),d=new r.Point(f(i),f(s)),u=l.y||0,p=l.x||0,m=d.x-l.x||0,y=d.y-l.y||0;this.width=m,this.height=y,o||this.setPositionByOrigin({x:p,y:u},"left","top")},_toSVG:function(i){for(var s=["<g ","COMMON_PARTS",` >
`],o=0,l=this._objects.length;o<l;o++)s.push("		",this._objects[o].toSVG(i));return s.push(`</g>
`),s},getSvgStyles:function(){var i=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",s=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),s].join("")},toClipPathSVG:function(i){for(var s=[],o=0,l=this._objects.length;o<l;o++)s.push("	",this._objects[o].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(s,{reviver:i})}}),r.Group.fromObject=function(i,s){var o=i.objects,l=r.util.object.clone(i,!0);if(delete l.objects,typeof o=="string"){r.loadSVGFromURL(o,function(d){var u=r.util.groupSVGElements(d,i,o),p=l.clipPath;delete l.clipPath,u.set(l),p?r.util.enlivenObjects([p],function(m){u.clipPath=m[0],s&&s(u)}):s&&s(u)});return}r.util.enlivenObjects(o,function(d){r.util.enlivenObjectEnlivables(i,l,function(){s&&s(new r.Group(d,l,!0))})})})}(e),function(h){var r=h.fabric||(h.fabric={});r.ActiveSelection||(r.ActiveSelection=r.util.createClass(r.Group,{type:"activeSelection",initialize:function(c,f){f=f||{},this._objects=c||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;f.originX&&(this.originX=f.originX),f.originY&&(this.originY=f.originY),this._calcBounds(),this._updateObjectsCoords(),r.Object.prototype.initialize.call(this,f),this.setCoords()},toGroup:function(){var c=this._objects.concat();this._objects=[];var f=r.Object.prototype.toObject.call(this),i=new r.Group([]);if(delete f.type,i.set(f),c.forEach(function(o){o.canvas.remove(o),o.group=i}),i._objects=c,!this.canvas)return i;var s=this.canvas;return s.add(i),s._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(c,f,i){c.save(),c.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,i=i||{},typeof i.hasControls>"u"&&(i.hasControls=!1),i.forActiveSelection=!0;for(var s=0,o=this._objects.length;s<o;s++)this._objects[s]._renderControls(c,i);this.callSuper("_renderControls",c,f),c.restore()}}),r.ActiveSelection.fromObject=function(c,f){r.util.enlivenObjects(c.objects,function(i){delete c.objects,f&&f(new r.ActiveSelection(i,c,!0))})})}(e),function(h){var r=t.util.object.extend;if(h.fabric||(h.fabric={}),h.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(c,f){f||(f={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",f),this._initElement(c,f)},getElement:function(){return this._element||{}},setElement:function(c,f){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=c,this._originalElement=c,this._initConfig(f),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(c){var f=t.filterBackend;f&&f.evictCachesForKey&&f.evictCachesForKey(c)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var c=this.getElement();return{width:c.naturalWidth||c.width,height:c.naturalHeight||c.height}},_stroke:function(c){if(!(!this.stroke||this.strokeWidth===0)){var f=this.width/2,i=this.height/2;c.beginPath(),c.moveTo(-f,-i),c.lineTo(f,-i),c.lineTo(f,i),c.lineTo(-f,i),c.lineTo(-f,-i),c.closePath()}},toObject:function(c){var f=[];this.filters.forEach(function(s){s&&f.push(s.toObject())});var i=r(this.callSuper("toObject",["cropX","cropY"].concat(c)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:f});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var c=[],f=[],i,s=this._element,o=-this.width/2,l=-this.height/2,d="",u="";if(!s)return[];if(this.hasCrop()){var p=t.Object.__uid++;c.push('<clipPath id="imageCrop_'+p+`">
`,'	<rect x="'+o+'" y="'+l+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),d=' clip-path="url(#imageCrop_'+p+')" '}if(this.imageSmoothing||(u='" image-rendering="optimizeSpeed'),f.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',o-this.cropX,'" y="',l-this.cropY,'" width="',s.width||s.naturalWidth,'" height="',s.height||s.height,u,'"',d,`></image>
`),this.stroke||this.strokeDashArray){var m=this.fill;this.fill=null,i=["	<rect ",'x="',o,'" y="',l,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=m}return this.paintFirst!=="fill"?c=c.concat(i,f):c=c.concat(f,i),c},getSrc:function(c){var f=c?this._element:this._originalElement;return f?f.toDataURL?f.toDataURL():this.srcFromAttribute?f.getAttribute("src"):f.src:this.src||""},setSrc:function(c,f,i){return t.util.loadImage(c,function(s,o){this.setElement(s,i),this._setWidthHeight(),f&&f(this,o)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var c=this.resizeFilter,f=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),s=i.scaleX,o=i.scaleY,l=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!c||s>f&&o>f){this._element=l,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=s,this._lastScaleY=o;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var d=t.util.createCanvasElement(),u=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,p=l.width,m=l.height;d.width=p,d.height=m,this._element=d,this._lastScaleX=c.scaleX=s,this._lastScaleY=c.scaleY=o,t.filterBackend.applyFilters([c],l,p,m,this._element,u),this._filterScalingX=d.width/this._originalElement.width,this._filterScalingY=d.height/this._originalElement.height},applyFilters:function(c){if(c=c||this.filters||[],c=c.filter(function(l){return l&&!l.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),c.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var f=this._originalElement,i=f.naturalWidth||f.width,s=f.naturalHeight||f.height;if(this._element===this._originalElement){var o=t.util.createCanvasElement();o.width=i,o.height=s,this._element=o,this._filteredEl=o}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,s),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(c,this._originalElement,i,s,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(c),this._renderPaintInOrder(c)},drawCacheOnCanvas:function(c){t.util.setImageSmoothing(c,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,c)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(c){var f=this._element;if(f){var i=this._filterScalingX,s=this._filterScalingY,o=this.width,l=this.height,d=Math.min,u=Math.max,p=u(this.cropX,0),m=u(this.cropY,0),y=f.naturalWidth||f.width,C=f.naturalHeight||f.height,x=p*i,_=m*s,S=d(o*i,y-x),b=d(l*s,C-_),F=-o/2,R=-l/2,z=d(o,y/i-p),$=d(l,C/s-m);f&&c.drawImage(f,x,_,S,b,F,R,z,$)}},_needsResize:function(){var c=this.getTotalObjectScaling();return c.scaleX!==this._lastScaleX||c.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(c,f){this.setElement(t.util.getById(c),f),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(c){c||(c={}),this.setOptions(c),this._setWidthHeight(c)},_initFilters:function(c,f){c&&c.length?t.util.enlivenObjects(c,function(i){f&&f(i)},"fabric.Image.filters"):f&&f()},_setWidthHeight:function(c){c||(c={});var f=this.getElement();this.width=c.width||f.naturalWidth||f.width||0,this.height=c.height||f.naturalHeight||f.height||0},parsePreserveAspectRatioAttribute:function(){var c=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),f=this._element.width,i=this._element.height,s=1,o=1,l=0,d=0,u=0,p=0,m,y=this.width,C=this.height,x={width:y,height:C};return c&&(c.alignX!=="none"||c.alignY!=="none")?(c.meetOrSlice==="meet"&&(s=o=t.util.findScaleToFit(this._element,x),m=(y-f*s)/2,c.alignX==="Min"&&(l=-m),c.alignX==="Max"&&(l=m),m=(C-i*o)/2,c.alignY==="Min"&&(d=-m),c.alignY==="Max"&&(d=m)),c.meetOrSlice==="slice"&&(s=o=t.util.findScaleToCover(this._element,x),m=f-y/s,c.alignX==="Mid"&&(u=m/2),c.alignX==="Max"&&(u=m),m=i-C/o,c.alignY==="Mid"&&(p=m/2),c.alignY==="Max"&&(p=m),f=y/s,i=C/o)):(s=y/f,o=C/i),{width:f,height:i,scaleX:s,scaleY:o,offsetLeft:l,offsetTop:d,cropX:u,cropY:p}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(c,f){var i=t.util.object.clone(c);t.util.loadImage(i.src,function(s,o){if(o){f&&f(null,!0);return}t.Image.prototype._initFilters.call(i,i.filters,function(l){i.filters=l||[],t.Image.prototype._initFilters.call(i,[i.resizeFilter],function(d){i.resizeFilter=d[0],t.util.enlivenObjectEnlivables(i,i,function(){var u=new t.Image(s,i);f(u,!1)})})})},null,i.crossOrigin)},t.Image.fromURL=function(c,f,i){t.util.loadImage(c,function(s,o){f&&f(new t.Image(s,i),o)},null,i&&i.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(c,f,i){var s=t.parseAttributes(c,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(s["xlink:href"],f,r(i?t.util.object.clone(i):{},s))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var h=this.angle%360;return h>0?Math.round((h-1)/90)*90:Math.round(h/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(h){h=h||{};var r=function(){},c=h.onComplete||r,f=h.onChange||r,i=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(s){i.rotate(s),f()},onComplete:function(){i.setCoords(),c()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(h){return h.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(h){return h.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function h(c,f){var i="precision "+f+` float;
void main(){}`,s=c.createShader(c.FRAGMENT_SHADER);return c.shaderSource(s,i),c.compileShader(s),!!c.getShaderParameter(s,c.COMPILE_STATUS)}t.isWebglSupported=function(c){if(t.isLikelyNode)return!1;c=c||t.WebglFilterBackend.prototype.tileSize;var f=document.createElement("canvas"),i=f.getContext("webgl")||f.getContext("experimental-webgl"),s=!1;if(i){t.maxTextureSize=i.getParameter(i.MAX_TEXTURE_SIZE),s=t.maxTextureSize>=c;for(var o=["highp","mediump","lowp"],l=0;l<3;l++)if(h(i,o[l])){t.webGlPrecision=o[l];break}}return this.isSupported=s,s},t.WebglFilterBackend=r;function r(c){c&&c.tileSize&&(this.tileSize=c.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}r.prototype={tileSize:2048,resources:{},setupGLContext:function(c,f){this.dispose(),this.createWebGLCanvas(c,f),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(c,f)},chooseFastestCopyGLTo2DMethod:function(c,f){var i=typeof window.performance<"u",s;try{new ImageData(1,1),s=!0}catch{s=!1}var o=typeof ArrayBuffer<"u",l=typeof Uint8ClampedArray<"u";if(i&&s&&o&&l){var d=t.util.createCanvasElement(),u=new ArrayBuffer(c*f*4);if(t.forceGLPutImageData){this.imageBuffer=u,this.copyGLTo2D=w;return}var p={imageBuffer:u,destinationWidth:c,destinationHeight:f,targetCanvas:d},m,y,C;d.width=c,d.height=f,m=window.performance.now(),v.call(p,this.gl,p),y=window.performance.now()-m,m=window.performance.now(),w.call(p,this.gl,p),C=window.performance.now()-m,y>C?(this.imageBuffer=u,this.copyGLTo2D=w):this.copyGLTo2D=v}},createWebGLCanvas:function(c,f){var i=t.util.createCanvasElement();i.width=c,i.height=f;var s={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},o=i.getContext("webgl",s);o||(o=i.getContext("experimental-webgl",s)),o&&(o.clearColor(0,0,0,0),this.canvas=i,this.gl=o)},applyFilters:function(c,f,i,s,o,l){var d=this.gl,u;l&&(u=this.getCachedTexture(l,f));var p={originalWidth:f.width||f.originalWidth,originalHeight:f.height||f.originalHeight,sourceWidth:i,sourceHeight:s,destinationWidth:i,destinationHeight:s,context:d,sourceTexture:this.createTexture(d,i,s,!u&&f),targetTexture:this.createTexture(d,i,s),originalTexture:u||this.createTexture(d,i,s,!u&&f),passes:c.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:o},m=d.createFramebuffer();return d.bindFramebuffer(d.FRAMEBUFFER,m),c.forEach(function(y){y&&y.applyTo(p)}),g(p),this.copyGLTo2D(d,p),d.bindTexture(d.TEXTURE_2D,null),d.deleteTexture(p.sourceTexture),d.deleteTexture(p.targetTexture),d.deleteFramebuffer(m),o.getContext("2d").setTransform(1,0,0,1,0,0),p},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(c,f,i,s,o){var l=c.createTexture();return c.bindTexture(c.TEXTURE_2D,l),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MAG_FILTER,o||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_MIN_FILTER,o||c.NEAREST),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(c.TEXTURE_2D,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),s?c.texImage2D(c.TEXTURE_2D,0,c.RGBA,c.RGBA,c.UNSIGNED_BYTE,s):c.texImage2D(c.TEXTURE_2D,0,c.RGBA,f,i,0,c.RGBA,c.UNSIGNED_BYTE,null),l},getCachedTexture:function(c,f){if(this.textureCache[c])return this.textureCache[c];var i=this.createTexture(this.gl,f.width,f.height,f);return this.textureCache[c]=i,i},evictCachesForKey:function(c){this.textureCache[c]&&(this.gl.deleteTexture(this.textureCache[c]),delete this.textureCache[c])},copyGLTo2D:v,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var c=this.gl,f={renderer:"",vendor:""};if(!c)return f;var i=c.getExtension("WEBGL_debug_renderer_info");if(i){var s=c.getParameter(i.UNMASKED_RENDERER_WEBGL),o=c.getParameter(i.UNMASKED_VENDOR_WEBGL);s&&(f.renderer=s.toLowerCase()),o&&(f.vendor=o.toLowerCase())}return this.gpuInfo=f,f}}}();function g(h){var r=h.targetCanvas,c=r.width,f=r.height,i=h.destinationWidth,s=h.destinationHeight;(c!==i||f!==s)&&(r.width=i,r.height=s)}function v(h,r){var c=h.canvas,f=r.targetCanvas,i=f.getContext("2d");i.translate(0,f.height),i.scale(1,-1);var s=c.height-f.height;i.drawImage(c,0,s,f.width,f.height,0,0,f.width,f.height)}function w(h,r){var c=r.targetCanvas,f=c.getContext("2d"),i=r.destinationWidth,s=r.destinationHeight,o=i*s*4,l=new Uint8Array(this.imageBuffer,0,o),d=new Uint8ClampedArray(this.imageBuffer,0,o);h.readPixels(0,0,i,s,h.RGBA,h.UNSIGNED_BYTE,l);var u=new ImageData(d,i,s);f.putImageData(u,0,0)}(function(){var h=function(){};t.Canvas2dFilterBackend=r;function r(){}r.prototype={evictCachesForKey:h,dispose:h,clearWebGLCaches:h,resources:{},applyFilters:function(c,f,i,s,o){var l=o.getContext("2d");l.drawImage(f,0,0,i,s);var d=l.getImageData(0,0,i,s),u=l.getImageData(0,0,i,s),p={sourceWidth:i,sourceHeight:s,imageData:d,originalEl:f,originalImageData:u,canvasEl:o,ctx:l,filterBackend:this};return c.forEach(function(m){m.applyTo(p)}),(p.imageData.width!==i||p.imageData.height!==s)&&(o.width=p.imageData.width,o.height=p.imageData.height),l.putImageData(p.imageData,0,0),p}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(h){h&&this.setOptions(h)},setOptions:function(h){for(var r in h)this[r]=h[r]},createProgram:function(h,r,c){r=r||this.fragmentSource,c=c||this.vertexSource,t.webGlPrecision!=="highp"&&(r=r.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var f=h.createShader(h.VERTEX_SHADER);if(h.shaderSource(f,c),h.compileShader(f),!h.getShaderParameter(f,h.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+h.getShaderInfoLog(f));var i=h.createShader(h.FRAGMENT_SHADER);if(h.shaderSource(i,r),h.compileShader(i),!h.getShaderParameter(i,h.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+h.getShaderInfoLog(i));var s=h.createProgram();if(h.attachShader(s,f),h.attachShader(s,i),h.linkProgram(s),!h.getProgramParameter(s,h.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+h.getProgramInfoLog(s));var o=this.getAttributeLocations(h,s),l=this.getUniformLocations(h,s)||{};return l.uStepW=h.getUniformLocation(s,"uStepW"),l.uStepH=h.getUniformLocation(s,"uStepH"),{program:s,attributeLocations:o,uniformLocations:l}},getAttributeLocations:function(h,r){return{aPosition:h.getAttribLocation(r,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(h,r,c){var f=r.aPosition,i=h.createBuffer();h.bindBuffer(h.ARRAY_BUFFER,i),h.enableVertexAttribArray(f),h.vertexAttribPointer(f,2,h.FLOAT,!1,0,0),h.bufferData(h.ARRAY_BUFFER,c,h.STATIC_DRAW)},_setupFrameBuffer:function(h){var r=h.context,c,f;h.passes>1?(c=h.destinationWidth,f=h.destinationHeight,(h.sourceWidth!==c||h.sourceHeight!==f)&&(r.deleteTexture(h.targetTexture),h.targetTexture=h.filterBackend.createTexture(r,c,f)),r.framebufferTexture2D(r.FRAMEBUFFER,r.COLOR_ATTACHMENT0,r.TEXTURE_2D,h.targetTexture,0)):(r.bindFramebuffer(r.FRAMEBUFFER,null),r.finish())},_swapTextures:function(h){h.passes--,h.pass++;var r=h.targetTexture;h.targetTexture=h.sourceTexture,h.sourceTexture=r},isNeutralState:function(){var h=this.mainParameter,r=t.Image.filters[this.type].prototype;if(h)if(Array.isArray(r[h])){for(var c=r[h].length;c--;)if(this[h][c]!==r[h][c])return!1;return!0}else return r[h]===this[h];else return!1},applyTo:function(h){h.webgl?(this._setupFrameBuffer(h),this.applyToWebGL(h),this._swapTextures(h)):this.applyTo2d(h)},retrieveShader:function(h){return h.programCache.hasOwnProperty(this.type)||(h.programCache[this.type]=this.createProgram(h.context)),h.programCache[this.type]},applyToWebGL:function(h){var r=h.context,c=this.retrieveShader(h);h.pass===0&&h.originalTexture?r.bindTexture(r.TEXTURE_2D,h.originalTexture):r.bindTexture(r.TEXTURE_2D,h.sourceTexture),r.useProgram(c.program),this.sendAttributeData(r,c.attributeLocations,h.aPosition),r.uniform1f(c.uniformLocations.uStepW,1/h.sourceWidth),r.uniform1f(c.uniformLocations.uStepH,1/h.sourceHeight),this.sendUniformData(r,c.uniformLocations),r.viewport(0,0,h.destinationWidth,h.destinationHeight),r.drawArrays(r.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(h,r,c){h.activeTexture(c),h.bindTexture(h.TEXTURE_2D,r),h.activeTexture(h.TEXTURE0)},unbindAdditionalTexture:function(h,r){h.activeTexture(r),h.bindTexture(h.TEXTURE_2D,null),h.activeTexture(h.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(h){this[this.mainParameter]=h},sendUniformData:function(){},createHelpLayer:function(h){if(!h.helpLayer){var r=document.createElement("canvas");r.width=h.sourceWidth,r.height=h.sourceHeight,h.helpLayer=r}},toObject:function(){var h={type:this.type},r=this.mainParameter;return r&&(h[r]=this[r]),h},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(h,r){var c=new t.Image.filters[h.type](h);return r&&r(c),c},function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.ColorMatrix=f(c.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function(i){var s=i.imageData,o=s.data,l=o.length,d=this.matrix,u,p,m,y,C,x=this.colorsOnly;for(C=0;C<l;C+=4)u=o[C],p=o[C+1],m=o[C+2],x?(o[C]=u*d[0]+p*d[1]+m*d[2]+d[4]*255,o[C+1]=u*d[5]+p*d[6]+m*d[7]+d[9]*255,o[C+2]=u*d[10]+p*d[11]+m*d[12]+d[14]*255):(y=o[C+3],o[C]=u*d[0]+p*d[1]+m*d[2]+y*d[3]+d[4]*255,o[C+1]=u*d[5]+p*d[6]+m*d[7]+y*d[8]+d[9]*255,o[C+2]=u*d[10]+p*d[11]+m*d[12]+y*d[13]+d[14]*255,o[C+3]=u*d[15]+p*d[16]+m*d[17]+y*d[18]+d[19]*255)},getUniformLocations:function(i,s){return{uColorMatrix:i.getUniformLocation(s,"uColorMatrix"),uConstants:i.getUniformLocation(s,"uConstants")}},sendUniformData:function(i,s){var o=this.matrix,l=[o[0],o[1],o[2],o[3],o[5],o[6],o[7],o[8],o[10],o[11],o[12],o[13],o[15],o[16],o[17],o[18]],d=[o[4],o[9],o[14],o[19]];i.uniformMatrix4fv(s.uColorMatrix,!1,l),i.uniform4fv(s.uConstants,d)}}),r.Image.filters.ColorMatrix.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Brightness=f(c.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(i){if(this.brightness!==0){var s=i.imageData,o=s.data,l,d=o.length,u=Math.round(this.brightness*255);for(l=0;l<d;l+=4)o[l]=o[l]+u,o[l+1]=o[l+1]+u,o[l+2]=o[l+2]+u}},getUniformLocations:function(i,s){return{uBrightness:i.getUniformLocation(s,"uBrightness")}},sendUniformData:function(i,s){i.uniform1f(s.uBrightness,this.brightness)}}),r.Image.filters.Brightness.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.Image.filters,i=r.util.createClass;f.Convolute=i(f.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(s){var o=Math.sqrt(this.matrix.length),l=this.type+"_"+o+"_"+(this.opaque?1:0),d=this.fragmentSource[l];return s.programCache.hasOwnProperty(l)||(s.programCache[l]=this.createProgram(s.context,d)),s.programCache[l]},applyTo2d:function(s){var o=s.imageData,l=o.data,d=this.matrix,u=Math.round(Math.sqrt(d.length)),p=Math.floor(u/2),m=o.width,y=o.height,C=s.ctx.createImageData(m,y),x=C.data,_=this.opaque?1:0,S,b,F,R,z,$,G,K,J,Y,ee,N,T;for(ee=0;ee<y;ee++)for(Y=0;Y<m;Y++){for(z=(ee*m+Y)*4,S=0,b=0,F=0,R=0,T=0;T<u;T++)for(N=0;N<u;N++)G=ee+T-p,$=Y+N-p,!(G<0||G>=y||$<0||$>=m)&&(K=(G*m+$)*4,J=d[T*u+N],S+=l[K]*J,b+=l[K+1]*J,F+=l[K+2]*J,_||(R+=l[K+3]*J));x[z]=S,x[z+1]=b,x[z+2]=F,_?x[z+3]=l[z+3]:x[z+3]=R}s.imageData=C},getUniformLocations:function(s,o){return{uMatrix:s.getUniformLocation(o,"uMatrix"),uOpaque:s.getUniformLocation(o,"uOpaque"),uHalfSize:s.getUniformLocation(o,"uHalfSize"),uSize:s.getUniformLocation(o,"uSize")}},sendUniformData:function(s,o){s.uniform1fv(o.uMatrix,this.matrix)},toObject:function(){return c(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),r.Image.filters.Convolute.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Grayscale=f(c.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(i){var s=i.imageData,o=s.data,l,d=o.length,u,p=this.mode;for(l=0;l<d;l+=4)p==="average"?u=(o[l]+o[l+1]+o[l+2])/3:p==="lightness"?u=(Math.min(o[l],o[l+1],o[l+2])+Math.max(o[l],o[l+1],o[l+2]))/2:p==="luminosity"&&(u=.21*o[l]+.72*o[l+1]+.07*o[l+2]),o[l]=u,o[l+1]=u,o[l+2]=u},retrieveShader:function(i){var s=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(s)){var o=this.fragmentSource[this.mode];i.programCache[s]=this.createProgram(i.context,o)}return i.programCache[s]},getUniformLocations:function(i,s){return{uMode:i.getUniformLocation(s,"uMode")}},sendUniformData:function(i,s){var o=1;i.uniform1i(s.uMode,o)},isNeutralState:function(){return!1}}),r.Image.filters.Grayscale.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Invert=f(c.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(i){var s=i.imageData,o=s.data,l,d=o.length;for(l=0;l<d;l+=4)o[l]=255-o[l],o[l+1]=255-o[l+1],o[l+2]=255-o[l+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(i,s){return{uInvert:i.getUniformLocation(s,"uInvert")}},sendUniformData:function(i,s){i.uniform1i(s.uInvert,this.invert)}}),r.Image.filters.Invert.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.Image.filters,i=r.util.createClass;f.Noise=i(f.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(s){if(this.noise!==0){var o=s.imageData,l=o.data,d,u=l.length,p=this.noise,m;for(d=0,u=l.length;d<u;d+=4)m=(.5-Math.random())*p,l[d]+=m,l[d+1]+=m,l[d+2]+=m}},getUniformLocations:function(s,o){return{uNoise:s.getUniformLocation(o,"uNoise"),uSeed:s.getUniformLocation(o,"uSeed")}},sendUniformData:function(s,o){s.uniform1f(o.uNoise,this.noise/255),s.uniform1f(o.uSeed,Math.random())},toObject:function(){return c(this.callSuper("toObject"),{noise:this.noise})}}),r.Image.filters.Noise.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Pixelate=f(c.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(i){var s=i.imageData,o=s.data,l=s.height,d=s.width,u,p,m,y,C,x,_,S,b,F,R;for(p=0;p<l;p+=this.blocksize)for(m=0;m<d;m+=this.blocksize)for(u=p*4*d+m*4,y=o[u],C=o[u+1],x=o[u+2],_=o[u+3],F=Math.min(p+this.blocksize,l),R=Math.min(m+this.blocksize,d),S=p;S<F;S++)for(b=m;b<R;b++)u=S*4*d+b*4,o[u]=y,o[u+1]=C,o[u+2]=x,o[u+3]=_},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(i,s){return{uBlocksize:i.getUniformLocation(s,"uBlocksize"),uStepW:i.getUniformLocation(s,"uStepW"),uStepH:i.getUniformLocation(s,"uStepH")}},sendUniformData:function(i,s){i.uniform1f(s.uBlocksize,this.blocksize)}}),r.Image.filters.Pixelate.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.extend,f=r.Image.filters,i=r.util.createClass;f.RemoveColor=i(f.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(s){var o=s.imageData,l=o.data,d,u=this.distance*255,p,m,y,C=new r.Color(this.color).getSource(),x=[C[0]-u,C[1]-u,C[2]-u],_=[C[0]+u,C[1]+u,C[2]+u];for(d=0;d<l.length;d+=4)p=l[d],m=l[d+1],y=l[d+2],p>x[0]&&m>x[1]&&y>x[2]&&p<_[0]&&m<_[1]&&y<_[2]&&(l[d+3]=0)},getUniformLocations:function(s,o){return{uLow:s.getUniformLocation(o,"uLow"),uHigh:s.getUniformLocation(o,"uHigh")}},sendUniformData:function(s,o){var l=new r.Color(this.color).getSource(),d=parseFloat(this.distance),u=[0+l[0]/255-d,0+l[1]/255-d,0+l[2]/255-d,1],p=[l[0]/255+d,l[1]/255+d,l[2]/255+d,1];s.uniform4fv(o.uLow,u),s.uniform4fv(o.uHigh,p)},toObject:function(){return c(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),r.Image.filters.RemoveColor.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass,i={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var s in i)c[s]=f(c.ColorMatrix,{type:s,matrix:i[s],mainParameter:!1,colorsOnly:!0}),r.Image.filters[s].fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric,c=r.Image.filters,f=r.util.createClass;c.BlendColor=f(c.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(i){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[i]+`}
}`},retrieveShader:function(i){var s=this.type+"_"+this.mode,o;return i.programCache.hasOwnProperty(s)||(o=this.buildSource(this.mode),i.programCache[s]=this.createProgram(i.context,o)),i.programCache[s]},applyTo2d:function(i){var s=i.imageData,o=s.data,l=o.length,d,u,p,m,y,C,x,_=1-this.alpha;x=new r.Color(this.color).getSource(),d=x[0]*this.alpha,u=x[1]*this.alpha,p=x[2]*this.alpha;for(var S=0;S<l;S+=4)switch(m=o[S],y=o[S+1],C=o[S+2],this.mode){case"multiply":o[S]=m*d/255,o[S+1]=y*u/255,o[S+2]=C*p/255;break;case"screen":o[S]=255-(255-m)*(255-d)/255,o[S+1]=255-(255-y)*(255-u)/255,o[S+2]=255-(255-C)*(255-p)/255;break;case"add":o[S]=m+d,o[S+1]=y+u,o[S+2]=C+p;break;case"diff":case"difference":o[S]=Math.abs(m-d),o[S+1]=Math.abs(y-u),o[S+2]=Math.abs(C-p);break;case"subtract":o[S]=m-d,o[S+1]=y-u,o[S+2]=C-p;break;case"darken":o[S]=Math.min(m,d),o[S+1]=Math.min(y,u),o[S+2]=Math.min(C,p);break;case"lighten":o[S]=Math.max(m,d),o[S+1]=Math.max(y,u),o[S+2]=Math.max(C,p);break;case"overlay":o[S]=d<128?2*m*d/255:255-2*(255-m)*(255-d)/255,o[S+1]=u<128?2*y*u/255:255-2*(255-y)*(255-u)/255,o[S+2]=p<128?2*C*p/255:255-2*(255-C)*(255-p)/255;break;case"exclusion":o[S]=d+m-2*d*m/255,o[S+1]=u+y-2*u*y/255,o[S+2]=p+C-2*p*C/255;break;case"tint":o[S]=d+m*_,o[S+1]=u+y*_,o[S+2]=p+C*_}},getUniformLocations:function(i,s){return{uColor:i.getUniformLocation(s,"uColor")}},sendUniformData:function(i,s){var o=new r.Color(this.color).getSource();o[0]=this.alpha*o[0]/255,o[1]=this.alpha*o[1]/255,o[2]=this.alpha*o[2]/255,o[3]=this.alpha,i.uniform4fv(s.uColor,o)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendColor.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric,c=r.Image.filters,f=r.util.createClass;c.BlendImage=f(c.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(i){var s=this.type+"_"+this.mode,o=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(s)||(i.programCache[s]=this.createProgram(i.context,o)),i.programCache[s]},applyToWebGL:function(i){var s=i.context,o=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(s,o,s.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(s,s.TEXTURE1)},createTexture:function(i,s){return i.getCachedTexture(s.cacheKey,s._element)},calculateMatrix:function(){var i=this.image,s=i._element.width,o=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/s,-i.top/o,1]},applyTo2d:function(i){var s=i.imageData,o=i.filterBackend.resources,l=s.data,d=l.length,u=s.width,p=s.height,m,y,C,x,_,S,b,F,R,z,$=this.image,G;o.blendImage||(o.blendImage=r.util.createCanvasElement()),R=o.blendImage,z=R.getContext("2d"),R.width!==u||R.height!==p?(R.width=u,R.height=p):z.clearRect(0,0,u,p),z.setTransform($.scaleX,0,0,$.scaleY,$.left,$.top),z.drawImage($._element,0,0,u,p),G=z.getImageData(0,0,u,p).data;for(var K=0;K<d;K+=4)switch(_=l[K],S=l[K+1],b=l[K+2],F=l[K+3],m=G[K],y=G[K+1],C=G[K+2],x=G[K+3],this.mode){case"multiply":l[K]=_*m/255,l[K+1]=S*y/255,l[K+2]=b*C/255,l[K+3]=F*x/255;break;case"mask":l[K+3]=x;break}},getUniformLocations:function(i,s){return{uTransformMatrix:i.getUniformLocation(s,"uTransformMatrix"),uImage:i.getUniformLocation(s,"uImage")}},sendUniformData:function(i,s){var o=this.calculateMatrix();i.uniform1i(s.uImage,1),i.uniformMatrix3fv(s.uTransformMatrix,!1,o)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),r.Image.filters.BlendImage.fromObject=function(i,s){r.Image.fromObject(i.image,function(o){var l=r.util.object.clone(i);l.image=o,s(new r.Image.filters.BlendImage(l))})}}(e),function(h){var r=h.fabric||(h.fabric={}),c=Math.pow,f=Math.floor,i=Math.sqrt,s=Math.abs,o=Math.round,l=Math.sin,d=Math.ceil,u=r.Image.filters,p=r.util.createClass;u.Resize=p(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(m,y){return{uDelta:m.getUniformLocation(y,"uDelta"),uTaps:m.getUniformLocation(y,"uTaps")}},sendUniformData:function(m,y){m.uniform2fv(y.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),m.uniform1fv(y.uTaps,this.taps)},retrieveShader:function(m){var y=this.getFilterWindow(),C=this.type+"_"+y;if(!m.programCache.hasOwnProperty(C)){var x=this.generateShader(y);m.programCache[C]=this.createProgram(m.context,x)}return m.programCache[C]},getFilterWindow:function(){var m=this.tempScale;return Math.ceil(this.lanczosLobes/m)},getTaps:function(){for(var m=this.lanczosCreate(this.lanczosLobes),y=this.tempScale,C=this.getFilterWindow(),x=new Array(C),_=1;_<=C;_++)x[_-1]=m(_*y);return x},generateShader:function(x){for(var y=new Array(x),C=this.fragmentSourceTOP,x,_=1;_<=x;_++)y[_-1]=_+".0 * uDelta";return C+="uniform float uTaps["+x+`];
`,C+=`void main() {
`,C+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,C+=`  float sum = 1.0;
`,y.forEach(function(S,b){C+="  color += texture2D(uTexture, vTexCoord + "+S+") * uTaps["+b+`];
`,C+="  color += texture2D(uTexture, vTexCoord - "+S+") * uTaps["+b+`];
`,C+="  sum += 2.0 * uTaps["+b+`];
`}),C+=`  gl_FragColor = color / sum;
`,C+="}",C},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(m){m.webgl?(m.passes++,this.width=m.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=m.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),m.destinationWidth=this.dW,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceWidth=m.destinationWidth,this.height=m.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),m.destinationHeight=this.dH,this._setupFrameBuffer(m),this.applyToWebGL(m),this._swapTextures(m),m.sourceHeight=m.destinationHeight):this.applyTo2d(m)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(m){return function(y){if(y>=m||y<=-m)return 0;if(y<11920929e-14&&y>-11920929e-14)return 1;y*=Math.PI;var C=y/m;return l(y)/y*l(C)/C}},applyTo2d:function(m){var y=m.imageData,C=this.scaleX,x=this.scaleY;this.rcpScaleX=1/C,this.rcpScaleY=1/x;var _=y.width,S=y.height,b=o(_*C),F=o(S*x),R;this.resizeType==="sliceHack"?R=this.sliceByTwo(m,_,S,b,F):this.resizeType==="hermite"?R=this.hermiteFastResize(m,_,S,b,F):this.resizeType==="bilinear"?R=this.bilinearFiltering(m,_,S,b,F):this.resizeType==="lanczos"&&(R=this.lanczosResize(m,_,S,b,F)),m.imageData=R},sliceByTwo:function(m,y,C,x,_){var S=m.imageData,b=.5,F=!1,R=!1,z=y*b,$=C*b,G=r.filterBackend.resources,K,J,Y=0,ee=0,N=y,T=0;for(G.sliceByTwo||(G.sliceByTwo=document.createElement("canvas")),K=G.sliceByTwo,(K.width<y*1.5||K.height<C)&&(K.width=y*1.5,K.height=C),J=K.getContext("2d"),J.clearRect(0,0,y*1.5,C),J.putImageData(S,0,0),x=f(x),_=f(_);!F||!R;)y=z,C=$,x<f(z*b)?z=f(z*b):(z=x,F=!0),_<f($*b)?$=f($*b):($=_,R=!0),J.drawImage(K,Y,ee,y,C,N,T,z,$),Y=N,ee=T,T+=$;return J.getImageData(Y,ee,x,_)},lanczosResize:function(m,y,C,x,_){function S(M){var D,B,P,O,A,L,V,W,Z,ne,ie;for(T.x=(M+.5)*$,k.x=f(T.x),D=0;D<_;D++){for(T.y=(D+.5)*G,k.y=f(T.y),A=0,L=0,V=0,W=0,Z=0,B=k.x-Y;B<=k.x+Y;B++)if(!(B<0||B>=y)){ne=f(1e3*s(B-T.x)),N[ne]||(N[ne]={});for(var U=k.y-ee;U<=k.y+ee;U++)U<0||U>=C||(ie=f(1e3*s(U-T.y)),N[ne][ie]||(N[ne][ie]=z(i(c(ne*K,2)+c(ie*J,2))/1e3)),P=N[ne][ie],P>0&&(O=(U*y+B)*4,A+=P,L+=P*b[O],V+=P*b[O+1],W+=P*b[O+2],Z+=P*b[O+3]))}O=(D*x+M)*4,R[O]=L/A,R[O+1]=V/A,R[O+2]=W/A,R[O+3]=Z/A}return++M<x?S(M):F}var b=m.imageData.data,F=m.ctx.createImageData(x,_),R=F.data,z=this.lanczosCreate(this.lanczosLobes),$=this.rcpScaleX,G=this.rcpScaleY,K=2/this.rcpScaleX,J=2/this.rcpScaleY,Y=d($*this.lanczosLobes/2),ee=d(G*this.lanczosLobes/2),N={},T={},k={};return S(0)},bilinearFiltering:function(m,y,C,x,_){var S,b,F,R,z,$,G,K,J,Y,ee,N,T=0,k,M=this.rcpScaleX,D=this.rcpScaleY,B=4*(y-1),P=m.imageData,O=P.data,A=m.ctx.createImageData(x,_),L=A.data;for(G=0;G<_;G++)for(K=0;K<x;K++)for(z=f(M*K),$=f(D*G),J=M*K-z,Y=D*G-$,k=4*($*y+z),ee=0;ee<4;ee++)S=O[k+ee],b=O[k+4+ee],F=O[k+B+ee],R=O[k+B+4+ee],N=S*(1-J)*(1-Y)+b*J*(1-Y)+F*Y*(1-J)+R*J*Y,L[T++]=N;return A},hermiteFastResize:function(m,y,C,x,_){for(var S=this.rcpScaleX,b=this.rcpScaleY,F=d(S/2),R=d(b/2),z=m.imageData,$=z.data,G=m.ctx.createImageData(x,_),K=G.data,J=0;J<_;J++)for(var Y=0;Y<x;Y++){for(var ee=(Y+J*x)*4,N=0,T=0,k=0,M=0,D=0,B=0,P=0,O=(J+.5)*b,A=f(J*b);A<(J+1)*b;A++)for(var L=s(O-(A+.5))/R,V=(Y+.5)*S,W=L*L,Z=f(Y*S);Z<(Y+1)*S;Z++){var ne=s(V-(Z+.5))/F,ie=i(W+ne*ne);ie>1&&ie<-1||(N=2*ie*ie*ie-3*ie*ie+1,N>0&&(ne=4*(Z+A*y),P+=N*$[ne+3],k+=N,$[ne+3]<255&&(N=N*$[ne+3]/250),M+=N*$[ne],D+=N*$[ne+1],B+=N*$[ne+2],T+=N))}K[ee]=M/T,K[ee+1]=D/T,K[ee+2]=B/T,K[ee+3]=P/k}return G},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),r.Image.filters.Resize.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Contrast=f(c.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(i){if(this.contrast!==0){var s=i.imageData,o,d,l=s.data,d=l.length,u=Math.floor(this.contrast*255),p=259*(u+255)/(255*(259-u));for(o=0;o<d;o+=4)l[o]=p*(l[o]-128)+128,l[o+1]=p*(l[o+1]-128)+128,l[o+2]=p*(l[o+2]-128)+128}},getUniformLocations:function(i,s){return{uContrast:i.getUniformLocation(s,"uContrast")}},sendUniformData:function(i,s){i.uniform1f(s.uContrast,this.contrast)}}),r.Image.filters.Contrast.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Saturation=f(c.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(i){if(this.saturation!==0){var s=i.imageData,o=s.data,l=o.length,d=-this.saturation,u,p;for(u=0;u<l;u+=4)p=Math.max(o[u],o[u+1],o[u+2]),o[u]+=p!==o[u]?(p-o[u])*d:0,o[u+1]+=p!==o[u+1]?(p-o[u+1])*d:0,o[u+2]+=p!==o[u+2]?(p-o[u+2])*d:0}},getUniformLocations:function(i,s){return{uSaturation:i.getUniformLocation(s,"uSaturation")}},sendUniformData:function(i,s){i.uniform1f(s.uSaturation,-this.saturation)}}),r.Image.filters.Saturation.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Vibrance=f(c.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(i){if(this.vibrance!==0){var s=i.imageData,o=s.data,l=o.length,d=-this.vibrance,u,p,m,y;for(u=0;u<l;u+=4)p=Math.max(o[u],o[u+1],o[u+2]),m=(o[u]+o[u+1]+o[u+2])/3,y=Math.abs(p-m)*2/255*d,o[u]+=p!==o[u]?(p-o[u])*y:0,o[u+1]+=p!==o[u+1]?(p-o[u+1])*y:0,o[u+2]+=p!==o[u+2]?(p-o[u+2])*y:0}},getUniformLocations:function(i,s){return{uVibrance:i.getUniformLocation(s,"uVibrance")}},sendUniformData:function(i,s){i.uniform1f(s.uVibrance,-this.vibrance)}}),r.Image.filters.Vibrance.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Blur=f(c.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function(i){i.imageData=this.simpleBlur(i)},simpleBlur:function(i){var s=i.filterBackend.resources,o,l,d=i.imageData.width,u=i.imageData.height;s.blurLayer1||(s.blurLayer1=r.util.createCanvasElement(),s.blurLayer2=r.util.createCanvasElement()),o=s.blurLayer1,l=s.blurLayer2,(o.width!==d||o.height!==u)&&(l.width=o.width=d,l.height=o.height=u);var p=o.getContext("2d"),m=l.getContext("2d"),y=15,C,x,_,S,b=this.blur*.06*.5;for(p.putImageData(i.imageData,0,0),m.clearRect(0,0,d,u),S=-y;S<=y;S++)C=(Math.random()-.5)/4,x=S/y,_=b*x*d+C,m.globalAlpha=1-Math.abs(x),m.drawImage(o,_,C),p.drawImage(l,0,0),m.globalAlpha=1,m.clearRect(0,0,l.width,l.height);for(S=-y;S<=y;S++)C=(Math.random()-.5)/4,x=S/y,_=b*x*u+C,m.globalAlpha=1-Math.abs(x),m.drawImage(o,C,_),p.drawImage(l,0,0),m.globalAlpha=1,m.clearRect(0,0,l.width,l.height);i.ctx.drawImage(o,0,0);var F=i.ctx.getImageData(0,0,o.width,o.height);return p.globalAlpha=1,p.clearRect(0,0,o.width,o.height),F},getUniformLocations:function(i,s){return{delta:i.getUniformLocation(s,"uDelta")}},sendUniformData:function(i,s){var o=this.chooseRightDelta();i.uniform2fv(s.delta,o)},chooseRightDelta:function(){var i=1,s=[0,0],o;return this.horizontal?this.aspectRatio>1&&(i=1/this.aspectRatio):this.aspectRatio<1&&(i=this.aspectRatio),o=i*this.blur*.12,this.horizontal?s[0]=o:s[1]=o,s}}),c.Blur.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Gamma=f(c.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(i){this.gamma=[1,1,1],c.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function(i){var s=i.imageData,o=s.data,l=this.gamma,d=o.length,u=1/l[0],p=1/l[1],m=1/l[2],y;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),y=0,d=256;y<d;y++)this.rVals[y]=Math.pow(y/255,u)*255,this.gVals[y]=Math.pow(y/255,p)*255,this.bVals[y]=Math.pow(y/255,m)*255;for(y=0,d=o.length;y<d;y+=4)o[y]=this.rVals[o[y]],o[y+1]=this.gVals[o[y+1]],o[y+2]=this.bVals[o[y+2]]},getUniformLocations:function(i,s){return{uGamma:i.getUniformLocation(s,"uGamma")}},sendUniformData:function(i,s){i.uniform3fv(s.uGamma,this.gamma)}}),r.Image.filters.Gamma.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.Composed=f(c.BaseFilter,{type:"Composed",subFilters:[],initialize:function(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach(function(s){s.applyTo(i)})},toObject:function(){return r.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(i){return i.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(i){return!i.isNeutralState()})}}),r.Image.filters.Composed.fromObject=function(i,s){var o=i.subFilters||[],l=o.map(function(u){return new r.Image.filters[u.type](u)}),d=new r.Image.filters.Composed({subFilters:l});return s&&s(d),d}}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.Image.filters,f=r.util.createClass;c.HueRotation=f(c.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var i=this.rotation*Math.PI,s=r.util.cos(i),o=r.util.sin(i),l=1/3,d=Math.sqrt(l)*o,u=1-s;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=s+u/3,this.matrix[1]=l*u-d,this.matrix[2]=l*u+d,this.matrix[5]=l*u+d,this.matrix[6]=s+l*u,this.matrix[7]=l*u-d,this.matrix[10]=l*u-d,this.matrix[11]=l*u+d,this.matrix[12]=s+l*u},isNeutralState:function(i){return this.calculateMatrix(),c.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function(i){this.calculateMatrix(),c.BaseFilter.prototype.applyTo.call(this,i)}}),r.Image.filters.HueRotation.fromObject=r.Image.filters.BaseFilter.fromObject}(e),function(h){var r=h.fabric||(h.fabric={}),c=r.util.object.clone;if(r.Text){r.warn("fabric.Text is already defined");return}var f="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");r.Text=r.util.createClass(r.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:r.Object.prototype.stateProperties.concat(f),cacheProperties:r.Object.prototype.cacheProperties.concat(f),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(i,s){this.styles=s?s.styles||{}:{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",s),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var i=this.path;i&&(i.segmentsInfo=r.util.getPathSegmentsInfo(i.path))},getMeasuringContext:function(){return r._measuringContext||(r._measuringContext=this.canvas&&this.canvas.contextCache||r.util.createCanvasElement().getContext("2d")),r._measuringContext},_splitText:function(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var i,s,o,l,d,u,p,m=0,y=this._textLines.length;m<y;m++)if(!(this.textAlign!=="justify"&&(m===y-1||this.isEndOfWrapping(m)))&&(l=0,d=this._textLines[m],s=this.getLineWidth(m),s<this.width&&(p=this.textLines[m].match(this._reSpacesAndTabs)))){o=p.length,i=(this.width-s)/o;for(var C=0,x=d.length;C<=x;C++)u=this.__charBounds[m][C],this._reSpaceAndTab.test(d[C])?(u.width+=i,u.kernedWidth+=i,u.left+=l,l+=i):u.left+=l}},isEndOfWrapping:function(i){return i===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var i=this.callSuper("_getCacheCanvasDimensions"),s=this.fontSize;return i.width+=s*i.zoomX,i.height+=s*i.zoomY,i},_render:function(i){var s=this.path;s&&!s.isNotVisible()&&s._render(i),this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function(i){this.paintFirst==="stroke"?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function(i,s,o){if(i.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":i.textBaseline="middle";break;case"ascender":i.textBaseline="top";break;case"descender":i.textBaseline="bottom";break}i.font=this._getFontDeclaration(s,o)},calcTextWidth:function(){for(var i=this.getLineWidth(0),s=1,o=this._textLines.length;s<o;s++){var l=this.getLineWidth(s);l>i&&(i=l)}return i},_renderTextLine:function(i,s,o,l,d,u){this._renderChars(i,s,o,l,d,u)},_renderTextLinesBackground:function(i){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var s,o,l=i.fillStyle,d,u,p=this._getLeftOffset(),m=this._getTopOffset(),y=0,C=0,x,_,S=this.path,b,F=0,R=this._textLines.length;F<R;F++){if(s=this.getHeightOfLine(F),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",F)){m+=s;continue}d=this._textLines[F],o=this._getLineLeftOffset(F),C=0,y=0,u=this.getValueOfPropertyAt(F,0,"textBackgroundColor");for(var z=0,$=d.length;z<$;z++)x=this.__charBounds[F][z],_=this.getValueOfPropertyAt(F,z,"textBackgroundColor"),S?(i.save(),i.translate(x.renderLeft,x.renderTop),i.rotate(x.angle),i.fillStyle=_,_&&i.fillRect(-x.width/2,-s/this.lineHeight*(1-this._fontSizeFraction),x.width,s/this.lineHeight),i.restore()):_!==u?(b=p+o+y,this.direction==="rtl"&&(b=this.width-b-C),i.fillStyle=u,u&&i.fillRect(b,m,C,s/this.lineHeight),y=x.left,C=x.width,u=_):C+=x.kernedWidth;_&&!S&&(b=p+o+y,this.direction==="rtl"&&(b=this.width-b-C),i.fillStyle=_,i.fillRect(b,m,C,s/this.lineHeight)),m+=s}i.fillStyle=l,this._removeShadow(i)}},getFontCache:function(i){var s=i.fontFamily.toLowerCase();r.charWidthsCache[s]||(r.charWidthsCache[s]={});var o=r.charWidthsCache[s],l=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return o[l]||(o[l]={}),o[l]},_measureChar:function(i,s,o,l){var d=this.getFontCache(s),u=this._getFontDeclaration(s),p=this._getFontDeclaration(l),m=o+i,y=u===p,C,x,_,S=s.fontSize/this.CACHE_FONT_SIZE,b;if(o&&d[o]!==void 0&&(_=d[o]),d[i]!==void 0&&(b=C=d[i]),y&&d[m]!==void 0&&(x=d[m],b=x-_),C===void 0||_===void 0||x===void 0){var F=this.getMeasuringContext();this._setTextStyles(F,s,!0)}return C===void 0&&(b=C=F.measureText(i).width,d[i]=C),_===void 0&&y&&o&&(_=F.measureText(o).width,d[o]=_),y&&x===void 0&&(x=F.measureText(m).width,d[m]=x,b=x-_),{width:C*S,kernedWidth:b*S}},getHeightOfChar:function(i,s){return this.getValueOfPropertyAt(i,s,"fontSize")},measureLine:function(i){var s=this._measureLine(i);return this.charSpacing!==0&&(s.width-=this._getWidthOfCharSpacing()),s.width<0&&(s.width=0),s},_measureLine:function(i){var s=0,o,l,d=this._textLines[i],u,p,m=0,y=new Array(d.length),C=0,x,_,S=this.path,b=this.pathSide==="right";for(this.__charBounds[i]=y,o=0;o<d.length;o++)l=d[o],p=this._getGraphemeBox(l,i,o,u),y[o]=p,s+=p.kernedWidth,u=l;if(y[o]={left:p?p.left+p.width:0,width:0,kernedWidth:0,height:this.fontSize},S){switch(_=S.segmentsInfo[S.segmentsInfo.length-1].length,x=r.util.getPointOnPath(S.path,0,S.segmentsInfo),x.x+=S.pathOffset.x,x.y+=S.pathOffset.y,this.textAlign){case"left":C=b?_-s:0;break;case"center":C=(_-s)/2;break;case"right":C=b?0:_-s;break}for(C+=this.pathStartOffset*(b?-1:1),o=b?d.length-1:0;b?o>=0:o<d.length;b?o--:o++)p=y[o],C>_?C%=_:C<0&&(C+=_),this._setGraphemeOnPath(C,p,x),C+=p.kernedWidth}return{width:s,numOfSpaces:m}},_setGraphemeOnPath:function(i,s,o){var l=i+s.kernedWidth/2,d=this.path,u=r.util.getPointOnPath(d.path,l,d.segmentsInfo);s.renderLeft=u.x-o.x,s.renderTop=u.y-o.y,s.angle=u.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(i,s,o,l,d){var u=this.getCompleteStyleDeclaration(s,o),p=l?this.getCompleteStyleDeclaration(s,o-1):{},m=this._measureChar(i,u,l,p),y=m.kernedWidth,C=m.width,x;this.charSpacing!==0&&(x=this._getWidthOfCharSpacing(),C+=x,y+=x);var _={width:C,left:0,height:u.fontSize,kernedWidth:y,deltaY:u.deltaY};if(o>0&&!d){var S=this.__charBounds[s][o-1];_.left=S.left+S.width+m.kernedWidth-m.width}return _},getHeightOfLine:function(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var s=this._textLines[i],o=this.getHeightOfChar(i,0),l=1,d=s.length;l<d;l++)o=Math.max(this.getHeightOfChar(i,l),o);return this.__lineHeights[i]=o*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var i,s=0,o=0,l=this._textLines.length;o<l;o++)i=this.getHeightOfLine(o),s+=o===l-1?i/this.lineHeight:i;return s},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(i,s){i.save();for(var o=0,l=this._getLeftOffset(),d=this._getTopOffset(),u=0,p=this._textLines.length;u<p;u++){var m=this.getHeightOfLine(u),y=m/this.lineHeight,C=this._getLineLeftOffset(u);this._renderTextLine(s,i,this._textLines[u],l+C,d+o+y,u),o+=m}i.restore()},_renderTextFill:function(i){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(i,"fillText")},_renderTextStroke:function(i){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function(i,s,o,l,d,u){var p=this.getHeightOfLine(u),m=this.textAlign.indexOf("justify")!==-1,y,C,x="",_,S=0,b,F=this.path,R=!m&&this.charSpacing===0&&this.isEmptyStyles(u)&&!F,z=this.direction==="ltr",$=this.direction==="ltr"?1:-1,G,K=s.canvas.getAttribute("dir");if(s.save(),K!==this.direction&&(s.canvas.setAttribute("dir",z?"ltr":"rtl"),s.direction=z?"ltr":"rtl",s.textAlign=z?"left":"right"),d-=p*this._fontSizeFraction/this.lineHeight,R){this._renderChar(i,s,u,0,o.join(""),l,d,p),s.restore();return}for(var J=0,Y=o.length-1;J<=Y;J++)b=J===Y||this.charSpacing||F,x+=o[J],_=this.__charBounds[u][J],S===0?(l+=$*(_.kernedWidth-_.width),S+=_.width):S+=_.kernedWidth,m&&!b&&this._reSpaceAndTab.test(o[J])&&(b=!0),b||(y=y||this.getCompleteStyleDeclaration(u,J),C=this.getCompleteStyleDeclaration(u,J+1),b=r.util.hasStyleChanged(y,C,!1)),b&&(F?(s.save(),s.translate(_.renderLeft,_.renderTop),s.rotate(_.angle),this._renderChar(i,s,u,J,x,-S/2,0,p),s.restore()):(G=l,this._renderChar(i,s,u,J,x,G,d,p)),x="",y=C,l+=$*S,S=0);s.restore()},_applyPatternGradientTransformText:function(i){var s=r.util.createCanvasElement(),o,l=this.width+this.strokeWidth,d=this.height+this.strokeWidth;return s.width=l,s.height=d,o=s.getContext("2d"),o.beginPath(),o.moveTo(0,0),o.lineTo(l,0),o.lineTo(l,d),o.lineTo(0,d),o.closePath(),o.translate(l/2,d/2),o.fillStyle=i.toLive(o),this._applyPatternGradientTransform(o,i),o.fill(),o.createPattern(s,"no-repeat")},handleFiller:function(i,s,o){var l,d;return o.toLive?o.gradientUnits==="percentage"||o.gradientTransform||o.patternTransform?(l=-this.width/2,d=-this.height/2,i.translate(l,d),i[s]=this._applyPatternGradientTransformText(o),{offsetX:l,offsetY:d}):(i[s]=o.toLive(i,this),this._applyPatternGradientTransform(i,o)):(i[s]=o,{offsetX:0,offsetY:0})},_setStrokeStyles:function(i,s){return i.lineWidth=s.strokeWidth,i.lineCap=this.strokeLineCap,i.lineDashOffset=this.strokeDashOffset,i.lineJoin=this.strokeLineJoin,i.miterLimit=this.strokeMiterLimit,this.handleFiller(i,"strokeStyle",s.stroke)},_setFillStyles:function(i,s){return this.handleFiller(i,"fillStyle",s.fill)},_renderChar:function(i,s,o,l,d,u,p){var m=this._getStyleDeclaration(o,l),y=this.getCompleteStyleDeclaration(o,l),C=i==="fillText"&&y.fill,x=i==="strokeText"&&y.stroke&&y.strokeWidth,_,S;!x&&!C||(s.save(),C&&(_=this._setFillStyles(s,y)),x&&(S=this._setStrokeStyles(s,y)),s.font=this._getFontDeclaration(y),m&&m.textBackgroundColor&&this._removeShadow(s),m&&m.deltaY&&(p+=m.deltaY),C&&s.fillText(d,u-_.offsetX,p-_.offsetY),x&&s.strokeText(d,u-S.offsetX,p-S.offsetY),s.restore())},setSuperscript:function(i,s){return this._setScript(i,s,this.superscript)},setSubscript:function(i,s){return this._setScript(i,s,this.subscript)},_setScript:function(i,s,o){var l=this.get2DCursorLocation(i,!0),d=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"fontSize"),u=this.getValueOfPropertyAt(l.lineIndex,l.charIndex,"deltaY"),p={fontSize:d*o.size,deltaY:u+d*o.baseline};return this.setSelectionStyles(p,i,s),this},_getLineLeftOffset:function(i){var s=this.getLineWidth(i),o=this.width-s,l=this.textAlign,d=this.direction,p,u=0,p=this.isEndOfWrapping(i);return l==="justify"||l==="justify-center"&&!p||l==="justify-right"&&!p||l==="justify-left"&&!p?0:(l==="center"&&(u=o/2),l==="right"&&(u=o),l==="justify-center"&&(u=o/2),l==="justify-right"&&(u=o),d==="rtl"&&(u-=o),u)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function(i){if(this.__lineWidths[i]!==void 0)return this.__lineWidths[i];var s=this.measureLine(i),o=s.width;return this.__lineWidths[i]=o,o},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(i,s,o){var l=this._getStyleDeclaration(i,s);return l&&typeof l[o]<"u"?l[o]:this[o]},_renderTextDecoration:function(i,s){if(!(!this[s]&&!this.styleHas(s))){i.save(),(s==="overline"||s==="linethrough")&&this._removeShadow(i);for(var o,l,d,u,p,m,y,C,x=this._getLeftOffset(),_=this._getTopOffset(),S,b,F,R,z,$,G,K,J=this.path,Y=this._getWidthOfCharSpacing(),ee=this.offsets[s],N=0,T=this._textLines.length;N<T;N++){if(o=this.getHeightOfLine(N),!this[s]&&!this.styleHas(s,N)){_+=o;continue}y=this._textLines[N],$=o/this.lineHeight,u=this._getLineLeftOffset(N),b=0,F=0,C=this.getValueOfPropertyAt(N,0,s),K=this.getValueOfPropertyAt(N,0,"fill"),S=_+$*(1-this._fontSizeFraction),l=this.getHeightOfChar(N,0),p=this.getValueOfPropertyAt(N,0,"deltaY");for(var k=0,M=y.length;k<M;k++)if(R=this.__charBounds[N][k],z=this.getValueOfPropertyAt(N,k,s),G=this.getValueOfPropertyAt(N,k,"fill"),d=this.getHeightOfChar(N,k),m=this.getValueOfPropertyAt(N,k,"deltaY"),J&&z&&G)i.save(),i.fillStyle=K,i.translate(R.renderLeft,R.renderTop),i.rotate(R.angle),i.fillRect(-R.kernedWidth/2,ee*d+m,R.kernedWidth,this.fontSize/15),i.restore();else if((z!==C||G!==K||d!==l||m!==p)&&F>0){var D=x+u+b;this.direction==="rtl"&&(D=this.width-D-F),C&&K&&(i.fillStyle=K,i.fillRect(D,S+ee*l+p,F,this.fontSize/15)),b=R.left,F=R.width,C=z,K=G,l=d,p=m}else F+=R.kernedWidth;var D=x+u+b;this.direction==="rtl"&&(D=this.width-D-F),i.fillStyle=G,z&&G&&i.fillRect(D,S+ee*l+p,F-Y,this.fontSize/15),_+=o}i.restore()}},_getFontDeclaration:function(i,s){var o=i||this,l=this.fontFamily,d=r.Text.genericFonts.indexOf(l.toLowerCase())>-1,u=l===void 0||l.indexOf("'")>-1||l.indexOf(",")>-1||l.indexOf('"')>-1||d?o.fontFamily:'"'+o.fontFamily+'"';return[r.isLikelyNode?o.fontWeight:o.fontStyle,r.isLikelyNode?o.fontStyle:o.fontWeight,s?this.CACHE_FONT_SIZE+"px":o.fontSize+"px",u].join(" ")},render:function(i){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i)))},_splitTextIntoLines:function(i){for(var s=i.split(this._reNewline),o=new Array(s.length),l=[`
`],d=[],u=0;u<s.length;u++)o[u]=r.util.string.graphemeSplit(s[u]),d=d.concat(o[u],l);return d.pop(),{_unwrappedLines:o,lines:s,graphemeText:d,graphemeLines:o}},toObject:function(i){var s=f.concat(i),o=this.callSuper("toObject",s);return o.styles=r.util.stylesToArray(this.styles,this.text),o.path&&(o.path=this.path.toObject()),o},set:function(i,s){this.callSuper("set",i,s);var o=!1,l=!1;if(typeof i=="object")for(var d in i)d==="path"&&this.setPathInfo(),o=o||this._dimensionAffectingProps.indexOf(d)!==-1,l=l||d==="path";else o=this._dimensionAffectingProps.indexOf(i)!==-1,l=i==="path";return l&&this.setPathInfo(),o&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),r.Text.ATTRIBUTE_NAMES=r.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),r.Text.DEFAULT_SVG_FONT_SIZE=16,r.Text.fromElement=function(i,s,o){if(!i)return s(null);var l=r.parseAttributes(i,r.Text.ATTRIBUTE_NAMES),d=l.textAnchor||"left";if(o=r.util.object.extend(o?c(o):{},l),o.top=o.top||0,o.left=o.left||0,l.textDecoration){var u=l.textDecoration;u.indexOf("underline")!==-1&&(o.underline=!0),u.indexOf("overline")!==-1&&(o.overline=!0),u.indexOf("line-through")!==-1&&(o.linethrough=!0),delete o.textDecoration}"dx"in l&&(o.left+=l.dx),"dy"in l&&(o.top+=l.dy),"fontSize"in o||(o.fontSize=r.Text.DEFAULT_SVG_FONT_SIZE);var p="";"textContent"in i?p=i.textContent:"firstChild"in i&&i.firstChild!==null&&"data"in i.firstChild&&i.firstChild.data!==null&&(p=i.firstChild.data),p=p.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var m=o.strokeWidth;o.strokeWidth=0;var y=new r.Text(p,o),C=y.getScaledHeight()/y.height,x=(y.height+y.strokeWidth)*y.lineHeight-y.height,_=x*C,S=y.getScaledHeight()+_,b=0;d==="center"&&(b=y.getScaledWidth()/2),d==="right"&&(b=y.getScaledWidth()),y.set({left:y.left-b,top:y.top-(S-y.fontSize*(.07+y._fontSizeFraction))/y.lineHeight,strokeWidth:typeof m<"u"?m:1}),s(y)},r.Text.fromObject=function(i,s){var o=c(i),l=i.path;return delete o.path,r.Object._fromObject("Text",o,function(d){d.styles=r.util.stylesFromArray(i.styles,i.text),l?r.Object._fromObject("Path",l,function(u){d.set("path",u),s(d)},"path"):s(d)},"text")},r.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],r.util.createAccessors&&r.util.createAccessors(r.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(h){if(!this.styles||typeof h<"u"&&!this.styles[h])return!0;var r=typeof h>"u"?this.styles:{line:this.styles[h]};for(var c in r)for(var f in r[c])for(var i in r[c][f])return!1;return!0},styleHas:function(h,r){if(!this.styles||!h||h===""||typeof r<"u"&&!this.styles[r])return!1;var c=typeof r>"u"?this.styles:{0:this.styles[r]};for(var f in c)for(var i in c[f])if(typeof c[f][i][h]<"u")return!0;return!1},cleanStyle:function(h){if(!this.styles||!h||h==="")return!1;var r=this.styles,c=0,f,i,s=!0,o=0,l;for(var d in r){f=0;for(var u in r[d]){var l=r[d][u],p=l.hasOwnProperty(h);c++,p?(i?l[h]!==i&&(s=!1):i=l[h],l[h]===this[h]&&delete l[h]):s=!1,Object.keys(l).length!==0?f++:delete r[d][u]}f===0&&delete r[d]}for(var m=0;m<this._textLines.length;m++)o+=this._textLines[m].length;s&&c===o&&(this[h]=i,this.removeStyle(h))},removeStyle:function(h){if(!(!this.styles||!h||h==="")){var r=this.styles,c,f,i;for(f in r){c=r[f];for(i in c)delete c[i][h],Object.keys(c[i]).length===0&&delete c[i];Object.keys(c).length===0&&delete r[f]}}},_extendStyles:function(h,r){var c=this.get2DCursorLocation(h);this._getLineStyle(c.lineIndex)||this._setLineStyle(c.lineIndex),this._getStyleDeclaration(c.lineIndex,c.charIndex)||this._setStyleDeclaration(c.lineIndex,c.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(c.lineIndex,c.charIndex),r)},get2DCursorLocation:function(h,r){typeof h>"u"&&(h=this.selectionStart);for(var c=r?this._unwrappedTextLines:this._textLines,f=c.length,i=0;i<f;i++){if(h<=c[i].length)return{lineIndex:i,charIndex:h};h-=c[i].length+this.missingNewlineOffset(i,r)}return{lineIndex:i-1,charIndex:c[i-1].length<h?c[i-1].length:h}},getSelectionStyles:function(h,r,c){typeof h>"u"&&(h=this.selectionStart||0),typeof r>"u"&&(r=this.selectionEnd||h);for(var f=[],i=h;i<r;i++)f.push(this.getStyleAtPosition(i,c));return f},getStyleAtPosition:function(h,r){var c=this.get2DCursorLocation(h),f=r?this.getCompleteStyleDeclaration(c.lineIndex,c.charIndex):this._getStyleDeclaration(c.lineIndex,c.charIndex);return f||{}},setSelectionStyles:function(h,r,c){typeof r>"u"&&(r=this.selectionStart||0),typeof c>"u"&&(c=this.selectionEnd||r);for(var f=r;f<c;f++)this._extendStyles(f,h);return this._forceClearCache=!0,this},_getStyleDeclaration:function(h,r){var c=this.styles&&this.styles[h];return c?c[r]:null},getCompleteStyleDeclaration:function(h,r){for(var c=this._getStyleDeclaration(h,r)||{},f={},i,s=0;s<this._styleProperties.length;s++)i=this._styleProperties[s],f[i]=typeof c[i]>"u"?this[i]:c[i];return f},_setStyleDeclaration:function(h,r,c){this.styles[h][r]=c},_deleteStyleDeclaration:function(h,r){delete this.styles[h][r]},_getLineStyle:function(h){return!!this.styles[h]},_setLineStyle:function(h){this.styles[h]={}},_deleteLineStyle:function(h){delete this.styles[h]}})}(),function(){function h(r){r.textDecoration&&(r.textDecoration.indexOf("underline")>-1&&(r.underline=!0),r.textDecoration.indexOf("line-through")>-1&&(r.linethrough=!0),r.textDecoration.indexOf("overline")>-1&&(r.overline=!0),delete r.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(r,c){this.callSuper("initialize",r,c),this.initBehavior()},setSelectionStart:function(r){r=Math.max(r,0),this._updateAndFire("selectionStart",r)},setSelectionEnd:function(r){r=Math.min(r,this.text.length),this._updateAndFire("selectionEnd",r)},_updateAndFire:function(r,c){this[r]!==c&&(this._fireSelectionChanged(),this[r]=c),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(r){this.clearContextTop(),this.callSuper("render",r),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(r){this.callSuper("_render",r)},clearContextTop:function(r){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var c=this.canvas.contextTop,f=this.canvas.viewportTransform;c.save(),c.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this.transform(c),this._clearTextArea(c),r||c.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var r=this._getCursorBoundaries(),c=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(r,c):this.renderSelection(r,c),c.restore()}},_clearTextArea:function(r){var c=this.width+4,f=this.height+4;r.clearRect(-c/2,-f/2,c,f)},_getCursorBoundaries:function(r){typeof r>"u"&&(r=this.selectionStart);var c=this._getLeftOffset(),f=this._getTopOffset(),i=this._getCursorBoundariesOffsets(r);return{left:c,top:f,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(r){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var c,f,i,s=0,o=0,l,d=this.get2DCursorLocation(r);i=d.charIndex,f=d.lineIndex;for(var u=0;u<f;u++)s+=this.getHeightOfLine(u);c=this._getLineLeftOffset(f);var p=this.__charBounds[f][i];return p&&(o=p.left),this.charSpacing!==0&&i===this._textLines[f].length&&(o-=this._getWidthOfCharSpacing()),l={top:s,left:c+(o>0?o:0)},this.direction==="rtl"&&(l.left*=-1),this.cursorOffsetCache=l,this.cursorOffsetCache},renderCursor:function(r,c){var f=this.get2DCursorLocation(),i=f.lineIndex,s=f.charIndex>0?f.charIndex-1:0,o=this.getValueOfPropertyAt(i,s,"fontSize"),l=this.scaleX*this.canvas.getZoom(),d=this.cursorWidth/l,u=r.topOffset,p=this.getValueOfPropertyAt(i,s,"deltaY");u+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-o*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(r,c),c.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,s,"fill"),c.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,c.fillRect(r.left+r.leftOffset-d/2,u+r.top+p,d,o)},renderSelection:function(r,c){for(var f=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,s=this.textAlign.indexOf("justify")!==-1,o=this.get2DCursorLocation(f),l=this.get2DCursorLocation(i),d=o.lineIndex,u=l.lineIndex,p=o.charIndex<0?0:o.charIndex,m=l.charIndex<0?0:l.charIndex,y=d;y<=u;y++){var C=this._getLineLeftOffset(y)||0,x=this.getHeightOfLine(y),_=0,S=0,b=0;if(y===d&&(S=this.__charBounds[d][p].left),y>=d&&y<u)b=s&&!this.isEndOfWrapping(y)?this.width:this.getLineWidth(y)||5;else if(y===u)if(m===0)b=this.__charBounds[u][m].left;else{var F=this._getWidthOfCharSpacing();b=this.__charBounds[u][m-1].left+this.__charBounds[u][m-1].width-F}_=x,(this.lineHeight<1||y===u&&this.lineHeight>1)&&(x/=this.lineHeight);var R=r.left+C+S,z=b-S,$=x,G=0;this.inCompositionMode?(c.fillStyle=this.compositionColor||"black",$=1,G=x):c.fillStyle=this.selectionColor,this.direction==="rtl"&&(R=this.width-R-z),c.fillRect(R,r.top+r.topOffset+G,z,$),r.topOffset+=_}},getCurrentCharFontSize:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fontSize")},getCurrentCharColor:function(){var r=this._getCurrentCharIndex();return this.getValueOfPropertyAt(r.l,r.c,"fill")},_getCurrentCharIndex:function(){var r=this.get2DCursorLocation(this.selectionStart,!0),c=r.charIndex>0?r.charIndex-1:0;return{l:r.lineIndex,c}}}),t.IText.fromObject=function(r,c){var f=t.util.stylesFromArray(r.styles,r.text),i=Object.assign({},r,{styles:f});if(delete i.path,h(i),i.styles)for(var s in i.styles)for(var o in i.styles[s])h(i.styles[s][o]);t.Object._fromObject("IText",i,function(l){r.path?t.Object._fromObject("Path",r.path,function(d){l.set("path",d),c(l)},"path"):c(l)},"text")}}(),function(){var h=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var r=this;this.on("added",function(){var c=r.canvas;c&&(c._hasITextHandlers||(c._hasITextHandlers=!0,r._initCanvasHandlers(c)),c._iTextInstances=c._iTextInstances||[],c._iTextInstances.push(r))})},initRemovedHandler:function(){var r=this;this.on("removed",function(){var c=r.canvas;c&&(c._iTextInstances=c._iTextInstances||[],t.util.removeFromArray(c._iTextInstances,r),c._iTextInstances.length===0&&(c._hasITextHandlers=!1,r._removeCanvasHandlers(c)))})},_initCanvasHandlers:function(r){r._mouseUpITextHandler=function(){r._iTextInstances&&r._iTextInstances.forEach(function(c){c.__isMousedown=!1})},r.on("mouse:up",r._mouseUpITextHandler)},_removeCanvasHandlers:function(r){r.off("mouse:up",r._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(r,c,f,i){var s;return s={isAborted:!1,abort:function(){this.isAborted=!0}},r.animate("_currentCursorOpacity",c,{duration:f,onComplete:function(){s.isAborted||r[i]()},onChange:function(){r.canvas&&r.selectionStart===r.selectionEnd&&r.renderCursorOrSelection()},abort:function(){return s.isAborted}}),s},_onTickComplete:function(){var r=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){r._currentTickCompleteState=r._animateCursor(r,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(r){var c=this,f=r?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){c._tick()},f)},abortCursorAnimation:function(){var r=this._currentTickState||this._currentTickCompleteState,c=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,r&&c&&c.clearContext(c.contextTop||c.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(r){var c=0,f=r-1;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f--;for(;/\S/.test(this._text[f])&&f>-1;)c++,f--;return r-c},findWordBoundaryRight:function(r){var c=0,f=r;if(this._reSpace.test(this._text[f]))for(;this._reSpace.test(this._text[f]);)c++,f++;for(;/\S/.test(this._text[f])&&f<this._text.length;)c++,f++;return r+c},findLineBoundaryLeft:function(r){for(var c=0,f=r-1;!/\n/.test(this._text[f])&&f>-1;)c++,f--;return r-c},findLineBoundaryRight:function(r){for(var c=0,f=r;!/\n/.test(this._text[f])&&f<this._text.length;)c++,f++;return r+c},searchWordBoundary:function(r,c){for(var f=this._text,i=this._reSpace.test(f[r])?r-1:r,s=f[i],o=t.reNonWord;!o.test(s)&&i>0&&i<f.length;)i+=c,s=f[i];return o.test(s)&&(i+=c===1?0:1),i},selectWord:function(r){r=r||this.selectionStart;var c=this.searchWordBoundary(r,-1),f=this.searchWordBoundary(r,1);this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(r){r=r||this.selectionStart;var c=this.findLineBoundaryLeft(r),f=this.findLineBoundaryRight(r);return this.selectionStart=c,this.selectionEnd=f,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(r){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(r),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(r){r._iTextInstances&&r._iTextInstances.forEach(function(c){c.selected=!1,c.isEditing&&c.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(r){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var c=this.getSelectionStartFromPointer(r.e),f=this.selectionStart,i=this.selectionEnd;(c!==this.__selectionStartOnMouseDown||f===i)&&(f===c||i===c)||(c>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=c):(this.selectionStart=c,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==f||this.selectionEnd!==i)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(r,c,f){var i=f.slice(0,r),s=t.util.string.graphemeSplit(i).length;if(r===c)return{selectionStart:s,selectionEnd:s};var o=f.slice(r,c),l=t.util.string.graphemeSplit(o).length;return{selectionStart:s,selectionEnd:s+l}},fromGraphemeToStringSelection:function(r,c,f){var i=f.slice(0,r),s=i.join("").length;if(r===c)return{selectionStart:s,selectionEnd:s};var o=f.slice(r,c),l=o.join("").length;return{selectionStart:s,selectionEnd:s+l}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var r=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=r.selectionStart,this.hiddenTextarea.selectionEnd=r.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var r=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=r.selectionEnd,this.inCompositionMode||(this.selectionStart=r.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var r=this._calcTextareaPosition();this.hiddenTextarea.style.left=r.left,this.hiddenTextarea.style.top=r.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var r=this.inCompositionMode?this.compositionStart:this.selectionStart,c=this._getCursorBoundaries(r),f=this.get2DCursorLocation(r),i=f.lineIndex,s=f.charIndex,o=this.getValueOfPropertyAt(i,s,"fontSize")*this.lineHeight,l=c.leftOffset,d=this.calcTransformMatrix(),u={x:c.left+l,y:c.top+c.topOffset+o},p=this.canvas.getRetinaScaling(),m=this.canvas.upperCanvasEl,y=m.width/p,C=m.height/p,x=y-o,_=C-o,S=m.clientWidth/y,b=m.clientHeight/C;return u=t.util.transformPoint(u,d),u=t.util.transformPoint(u,this.canvas.viewportTransform),u.x*=S,u.y*=b,u.x<0&&(u.x=0),u.x>x&&(u.x=x),u.y<0&&(u.y=0),u.y>_&&(u.y=_),u.x+=this.canvas._offset.left,u.y+=this.canvas._offset.top,{left:u.x+"px",top:u.y+"px",fontSize:o+"px",charHeight:o}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var r=this._textBeforeEdit!==this.text,c=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,c&&(c.blur&&c.blur(),c.parentNode&&c.parentNode.removeChild(c)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),r&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),r&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var r in this.styles)this._textLines[r]||delete this.styles[r]},removeStyleFromTo:function(r,c){var f=this.get2DCursorLocation(r,!0),i=this.get2DCursorLocation(c,!0),s=f.lineIndex,o=f.charIndex,l=i.lineIndex,d=i.charIndex,u,p;if(s!==l){if(this.styles[s])for(u=o;u<this._unwrappedTextLines[s].length;u++)delete this.styles[s][u];if(this.styles[l])for(u=d;u<this._unwrappedTextLines[l].length;u++)p=this.styles[l][u],p&&(this.styles[s]||(this.styles[s]={}),this.styles[s][o+u-d]=p);for(u=s+1;u<=l;u++)delete this.styles[u];this.shiftLineStyles(l,s-l)}else if(this.styles[s]){p=this.styles[s];var m=d-o,y,C;for(u=o;u<d;u++)delete p[u];for(C in this.styles[s])y=parseInt(C,10),y>=d&&(p[y-m]=p[C],delete p[C])}},shiftLineStyles:function(r,c){var f=h(this.styles);for(var i in this.styles){var s=parseInt(i,10);s>r&&(this.styles[s+c]=f[s],f[s-c]||delete this.styles[s])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(r,c,f,i){var s,o={},l=!1,d=this._unwrappedTextLines[r].length,u=d===c;f||(f=1),this.shiftLineStyles(r,f),this.styles[r]&&(s=this.styles[r][c===0?c:c-1]);for(var p in this.styles[r]){var m=parseInt(p,10);m>=c&&(l=!0,o[m-c]=this.styles[r][p],u&&c===0||delete this.styles[r][p])}var y=!1;for(l&&!u&&(this.styles[r+f]=o,y=!0),(y||d>c)&&f--;f>0;)i&&i[f-1]?this.styles[r+f]={0:h(i[f-1])}:s?this.styles[r+f]={0:h(s)}:delete this.styles[r+f],f--;this._forceClearCache=!0},insertCharStyleObject:function(r,c,f,i){this.styles||(this.styles={});var s=this.styles[r],o=s?h(s):{};f||(f=1);for(var l in o){var d=parseInt(l,10);d>=c&&(s[d+f]=o[d],o[d-f]||delete s[d])}if(this._forceClearCache=!0,i){for(;f--;)Object.keys(i[f]).length&&(this.styles[r]||(this.styles[r]={}),this.styles[r][c+f]=h(i[f]));return}if(s)for(var u=s[c?c-1:1];u&&f--;)this.styles[r][c+f]=h(u)},insertNewStyleBlock:function(r,c,f){for(var i=this.get2DCursorLocation(c,!0),s=[0],o=0,l=0;l<r.length;l++)r[l]===`
`?(o++,s[o]=0):s[o]++;s[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,s[0],f),f=f&&f.slice(s[0]+1)),o&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+s[0],o);for(var l=1;l<o;l++)s[l]>0?this.insertCharStyleObject(i.lineIndex+l,0,s[l],f):f&&this.styles[i.lineIndex+l]&&f[0]&&(this.styles[i.lineIndex+l][0]=f[0]),f=f&&f.slice(s[l]+1);s[l]>0&&this.insertCharStyleObject(i.lineIndex+l,0,s[l],f)},setSelectionStartEndWithShift:function(r,c,f){f<=r?(c===r?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=r),this.selectionStart=f):f>r&&f<c?this._selectionDirection==="right"?this.selectionEnd=f:this.selectionStart=f:(c===r?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=c),this.selectionEnd=f)},setSelectionInBoundaries:function(){var r=this.text.length;this.selectionStart>r?this.selectionStart=r:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>r?this.selectionEnd=r:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(h){if(this.canvas){this.__newClickTime=+new Date;var r=h.pointer;this.isTripleClick(r)&&(this.fire("tripleclick",h),this._stopEvent(h.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=r,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(h){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===h.x&&this.__lastPointer.y===h.y},_stopEvent:function(h){h.preventDefault&&h.preventDefault(),h.stopPropagation&&h.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(h){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(h.e))},tripleClickHandler:function(h){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(h.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(h){!this.canvas||!this.editable||h.e.button&&h.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(h.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(h){!this.canvas||!this.editable||h.e.button&&h.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(h){if(this.__isMousedown=!1,!(!this.editable||this.group||h.transform&&h.transform.actionPerformed||h.e.button&&h.e.button!==1)){if(this.canvas){var r=this.canvas._activeObject;if(r&&r!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(h.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(h){var r=this.getSelectionStartFromPointer(h),c=this.selectionStart,f=this.selectionEnd;h.shiftKey?this.setSelectionStartEndWithShift(c,f,r):(this.selectionStart=r,this.selectionEnd=r),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(h){for(var r=this.getLocalPointer(h),c=0,f=0,i=0,s=0,o=0,l,d,u=0,p=this._textLines.length;u<p&&i<=r.y;u++)i+=this.getHeightOfLine(u)*this.scaleY,o=u,u>0&&(s+=this._textLines[u-1].length+this.missingNewlineOffset(u-1));l=this._getLineLeftOffset(o),f=l*this.scaleX,d=this._textLines[o],this.direction==="rtl"&&(r.x=this.width*this.scaleX-r.x+f);for(var m=0,y=d.length;m<y&&(c=f,f+=this.__charBounds[o][m].kernedWidth*this.scaleX,f<=r.x);m++)s++;return this._getNewSelectionStartFromOffset(r,c,f,s,y)},_getNewSelectionStartFromOffset:function(h,r,c,f,i){var s=h.x-r,o=c-h.x,l=o>s||o<0?0:1,d=f+l;return this.flipX&&(d=i-d),d>this._text.length&&(d=this._text.length),d}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var h=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+h.top+"; left: "+h.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+h.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(h){if(this.isEditing){var r=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(h.keyCode in r)this[r[h.keyCode]](h);else if(h.keyCode in this.ctrlKeysMapDown&&(h.ctrlKey||h.metaKey))this[this.ctrlKeysMapDown[h.keyCode]](h);else return;h.stopImmediatePropagation(),h.preventDefault(),h.keyCode>=33&&h.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(h){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(h.keyCode in this.ctrlKeysMapUp&&(h.ctrlKey||h.metaKey))this[this.ctrlKeysMapUp[h.keyCode]](h);else return;h.stopImmediatePropagation(),h.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(h){var r=this.fromPaste;if(this.fromPaste=!1,h&&h.stopPropagation(),!!this.isEditing){var c=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,f=this._text.length,i=c.length,s,o,l=i-f,d=this.selectionStart,u=this.selectionEnd,p=d!==u,m,y,C;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var x=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),_=d>x.selectionStart;p?(s=this._text.slice(d,u),l+=u-d):i<f&&(_?s=this._text.slice(u+l,u):s=this._text.slice(d,d-l)),o=c.slice(x.selectionEnd-l,x.selectionEnd),s&&s.length&&(o.length&&(m=this.getSelectionStyles(d,d+1,!1),m=o.map(function(){return m[0]})),p?(y=d,C=u):_?(y=u-s.length,C=u):(y=u,C=u+s.length),this.removeStyleFromTo(y,C)),o.length&&(r&&o.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(m=t.copiedTextStyle),this.insertNewStyleBlock(o,d,m)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(h){this.compositionStart=h.target.selectionStart,this.compositionEnd=h.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(h){return h&&h.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(h,r){var c=this._getLineLeftOffset(h),f;return r>0&&(f=this.__charBounds[h][r-1],c+=f.left+f.width),c},getDownCursorOffset:function(h,r){var c=this._getSelectionForOffset(h,r),f=this.get2DCursorLocation(c),i=f.lineIndex;if(i===this._textLines.length-1||h.metaKey||h.keyCode===34)return this._text.length-c;var s=f.charIndex,o=this._getWidthBeforeCursor(i,s),l=this._getIndexOnLine(i+1,o),d=this._textLines[i].slice(s);return d.length+l+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(h,r){return h.shiftKey&&this.selectionStart!==this.selectionEnd&&r?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(h,r){var c=this._getSelectionForOffset(h,r),f=this.get2DCursorLocation(c),i=f.lineIndex;if(i===0||h.metaKey||h.keyCode===33)return-c;var s=f.charIndex,o=this._getWidthBeforeCursor(i,s),l=this._getIndexOnLine(i-1,o),d=this._textLines[i].slice(0,s),u=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+l-d.length+(1-u)},_getIndexOnLine:function(h,r){for(var c=this._textLines[h],f=this._getLineLeftOffset(h),i=f,s=0,o,l,d=0,u=c.length;d<u;d++)if(o=this.__charBounds[h][d].width,i+=o,i>r){l=!0;var p=i-o,m=i,y=Math.abs(p-r),C=Math.abs(m-r);s=C<y?d:d-1;break}return l||(s=c.length-1),s},moveCursorDown:function(h){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",h)},moveCursorUp:function(h){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",h)},_moveCursorUpOrDown:function(h,r){var c="get"+h+"CursorOffset",f=this[c](r,this._selectionDirection==="right");r.shiftKey?this.moveCursorWithShift(f):this.moveCursorWithoutShift(f),f!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(h){var r=this._selectionDirection==="left"?this.selectionStart+h:this.selectionEnd+h;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,r),h!==0},moveCursorWithoutShift:function(h){return h<0?(this.selectionStart+=h,this.selectionEnd=this.selectionStart):(this.selectionEnd+=h,this.selectionStart=this.selectionEnd),h!==0},moveCursorLeft:function(h){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",h)},_move:function(h,r,c){var f;if(h.altKey)f=this["findWordBoundary"+c](this[r]);else if(h.metaKey||h.keyCode===35||h.keyCode===36)f=this["findLineBoundary"+c](this[r]);else return this[r]+=c==="Left"?-1:1,!0;if(typeof f<"u"&&this[r]!==f)return this[r]=f,!0},_moveLeft:function(h,r){return this._move(h,r,"Left")},_moveRight:function(h,r){return this._move(h,r,"Right")},moveCursorLeftWithoutShift:function(h){var r=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(r=this._moveLeft(h,"selectionStart")),this.selectionEnd=this.selectionStart,r},moveCursorLeftWithShift:function(h){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(h,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(h,"selectionStart")},moveCursorRight:function(h){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",h)},_moveCursorLeftOrRight:function(h,r){var c="moveCursor"+h+"With";this._currentCursorOpacity=1,r.shiftKey?c+="Shift":c+="outShift",this[c](r)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(h){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(h,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(h,"selectionEnd")},moveCursorRightWithoutShift:function(h){var r=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(r=this._moveRight(h,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,r},removeChars:function(h,r){typeof r>"u"&&(r=h+1),this.removeStyleFromTo(h,r),this._text.splice(h,r-h),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(h,r,c,f){typeof f>"u"&&(f=c),f>c&&this.removeStyleFromTo(c,f);var i=t.util.string.graphemeSplit(h);this.insertNewStyleBlock(i,c,r),this._text=[].concat(this._text.slice(0,c),i,this._text.slice(f)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var h=t.util.toFixed,r=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var c=this._getSVGLeftTopOffsets(),f=this._getSVGTextAndBg(c.textTop,c.textLeft);return this._wrapSVGTextAndBg(f)},toSVG:function(c){return this._createBaseSVGMarkup(this._toSVG(),{reviver:c,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(c){var f=!0,i=this.getSvgTextDecoration(this);return[c.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(f),'"',this.addPaintOrder()," >",c.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(c,f){var i=[],s=[],o=c,l;this._setSVGBg(s);for(var d=0,u=this._textLines.length;d<u;d++)l=this._getLineLeftOffset(d),(this.textBackgroundColor||this.styleHas("textBackgroundColor",d))&&this._setSVGTextLineBg(s,d,f+l,o),this._setSVGTextLineText(i,d,f+l,o),o+=this.getHeightOfLine(d);return{textSpans:i,textBgRects:s}},_createTextCharSpan:function(c,f,i,s){var o=c!==c.trim()||c.match(r),l=this.getSvgSpanStyles(f,o),d=l?'style="'+l+'"':"",u=f.deltaY,p="",m=t.Object.NUM_FRACTION_DIGITS;return u&&(p=' dy="'+h(u,m)+'" '),['<tspan x="',h(i,m),'" y="',h(s,m),'" ',p,d,">",t.util.string.escapeXml(c),"</tspan>"].join("")},_setSVGTextLineText:function(c,f,i,s){var o=this.getHeightOfLine(f),l=this.textAlign.indexOf("justify")!==-1,d,u,p="",m,y,C=0,x=this._textLines[f],_;s+=o*(1-this._fontSizeFraction)/this.lineHeight;for(var S=0,b=x.length-1;S<=b;S++)_=S===b||this.charSpacing,p+=x[S],m=this.__charBounds[f][S],C===0?(i+=m.kernedWidth-m.width,C+=m.width):C+=m.kernedWidth,l&&!_&&this._reSpaceAndTab.test(x[S])&&(_=!0),_||(d=d||this.getCompleteStyleDeclaration(f,S),u=this.getCompleteStyleDeclaration(f,S+1),_=t.util.hasStyleChanged(d,u,!0)),_&&(y=this._getStyleDeclaration(f,S)||{},c.push(this._createTextCharSpan(p,y,i,s)),p="",d=u,i+=C,C=0)},_pushTextBgRect:function(c,f,i,s,o,l){var d=t.Object.NUM_FRACTION_DIGITS;c.push("		<rect ",this._getFillAttributes(f),' x="',h(i,d),'" y="',h(s,d),'" width="',h(o,d),'" height="',h(l,d),`"></rect>
`)},_setSVGTextLineBg:function(c,f,i,s){for(var o=this._textLines[f],l=this.getHeightOfLine(f)/this.lineHeight,d=0,u=0,p,m,y=this.getValueOfPropertyAt(f,0,"textBackgroundColor"),C=0,x=o.length;C<x;C++)p=this.__charBounds[f][C],m=this.getValueOfPropertyAt(f,C,"textBackgroundColor"),m!==y?(y&&this._pushTextBgRect(c,y,i+u,s,d,l),u=p.left,d=p.width,y=m):d+=p.kernedWidth;m&&this._pushTextBgRect(c,m,i+u,s,d,l)},_getFillAttributes:function(c){var f=c&&typeof c=="string"?new t.Color(c):"";return!f||!f.getSource()||f.getAlpha()===1?'fill="'+c+'"':'opacity="'+f.getAlpha()+'" fill="'+f.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(c){for(var f=0,i=0,s=0;s<c;s++)f+=this.getHeightOfLine(s);return i=this.getHeightOfLine(s),{lineTop:f,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(c){var f=t.Object.prototype.getSvgStyles.call(this,c);return f+" white-space: pre;"}})}(),function(h){var r=h.fabric||(h.fabric={});r.Textbox=r.util.createClass(r.IText,r.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:r.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(c){for(var f=0,i=0,s=0,o={},l=0;l<c.graphemeLines.length;l++)c.graphemeText[s]===`
`&&l>0?(i=0,s++,f++):!this.splitByGrapheme&&this._reSpaceAndTab.test(c.graphemeText[s])&&l>0&&(i++,s++),o[l]={line:f,offset:i},s+=c.graphemeLines[l].length,i+=c.graphemeLines[l].length;return o},styleHas:function(c,f){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[f];i&&(f=i.line)}return r.Text.prototype.styleHas.call(this,c,f)},isEmptyStyles:function(c){if(!this.styles)return!0;var f=0,i=c+1,s,o,l=!1,d=this._styleMap[c],u=this._styleMap[c+1];d&&(c=d.line,f=d.offset),u&&(i=u.line,l=i===c,s=u.offset),o=typeof c>"u"?this.styles:{line:this.styles[c]};for(var p in o)for(var m in o[p])if(m>=f&&(!l||m<s))for(var y in o[p][m])return!1;return!0},_getStyleDeclaration:function(c,f){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[c];if(!i)return null;c=i.line,f=i.offset+f}return this.callSuper("_getStyleDeclaration",c,f)},_setStyleDeclaration:function(c,f,i){var s=this._styleMap[c];c=s.line,f=s.offset+f,this.styles[c][f]=i},_deleteStyleDeclaration:function(c,f){var i=this._styleMap[c];c=i.line,f=i.offset+f,delete this.styles[c][f]},_getLineStyle:function(c){var f=this._styleMap[c];return!!this.styles[f.line]},_setLineStyle:function(c){var f=this._styleMap[c];this.styles[f.line]={}},_wrapText:function(c,f){var i=[],s;for(this.isWrapping=!0,s=0;s<c.length;s++)i=i.concat(this._wrapLine(c[s],s,f));return this.isWrapping=!1,i},_measureWord:function(c,f,i){var s=0,o,l=!0;i=i||0;for(var d=0,u=c.length;d<u;d++){var p=this._getGraphemeBox(c[d],f,d+i,o,l);s+=p.kernedWidth,o=c[d]}return s},_wrapLine:function(c,f,i,R){var o=0,l=this.splitByGrapheme,d=[],u=[],p=l?r.util.string.graphemeSplit(c):c.split(this._wordJoiners),m="",y=0,C=l?"":" ",x=0,_=0,S=0,b=!0,F=this._getWidthOfCharSpacing(),R=R||0;p.length===0&&p.push([]),i-=R;for(var z=0;z<p.length;z++)m=l?p[z]:r.util.string.graphemeSplit(p[z]),x=this._measureWord(m,f,y),y+=m.length,o+=_+x-F,o>i&&!b?(d.push(u),u=[],o=x,b=!0):o+=F,!b&&!l&&u.push(C),u=u.concat(m),_=l?0:this._measureWord([C],f,y),y++,b=!1,x>S&&(S=x);return z&&d.push(u),S+R>this.dynamicMinWidth&&(this.dynamicMinWidth=S-F+R),d},isEndOfWrapping:function(c){return!this._styleMap[c+1]||this._styleMap[c+1].line!==this._styleMap[c].line},missingNewlineOffset:function(c,f){return this.splitByGrapheme&&!f?this.isEndOfWrapping(c)?1:0:1},_splitTextIntoLines:function(c){for(var f=r.Text.prototype._splitTextIntoLines.call(this,c),i=this._wrapText(f.lines,this.width),s=new Array(i.length),o=0;o<i.length;o++)s[o]=i[o].join("");return f.lines=s,f.graphemeLines=i,f},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var c={};for(var f in this._styleMap)this._textLines[f]&&(c[this._styleMap[f].line]=1);for(var f in this.styles)c[f]||delete this.styles[f]},toObject:function(c){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(c))}}),r.Textbox.fromObject=function(c,f){var i=r.util.stylesFromArray(c.styles,c.text),s=Object.assign({},c,{styles:i});return delete s.path,r.Object._fromObject("Textbox",s,function(o){c.path?r.Object._fromObject("Path",c.path,function(l){o.set("path",l),f(o)},"path"):f(o)},"text")}}(e),function(){var h=t.controlsUtils,r=h.scaleSkewCursorStyleHandler,c=h.scaleCursorStyleHandler,f=h.scalingEqually,i=h.scalingYOrSkewingX,s=h.scalingXOrSkewingY,o=h.scaleOrSkewActionName,l=t.Object.prototype.controls;if(l.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:o}),l.mr=new t.Control({x:.5,y:0,cursorStyleHandler:r,actionHandler:s,getActionName:o}),l.mb=new t.Control({x:0,y:.5,cursorStyleHandler:r,actionHandler:i,getActionName:o}),l.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:r,actionHandler:i,getActionName:o}),l.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),l.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:c,actionHandler:f}),l.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:c,actionHandler:f}),l.br=new t.Control({x:.5,y:.5,cursorStyleHandler:c,actionHandler:f}),l.mtr=new t.Control({x:0,y:-.5,actionHandler:h.rotationWithSnapping,cursorStyleHandler:h.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var d=t.Textbox.prototype.controls={};d.mtr=l.mtr,d.tr=l.tr,d.br=l.br,d.tl=l.tl,d.bl=l.bl,d.mt=l.mt,d.mb=l.mb,d.mr=new t.Control({x:.5,y:0,actionHandler:h.changeWidth,cursorStyleHandler:r,actionName:"resizing"}),d.ml=new t.Control({x:-.5,y:0,actionHandler:h.changeWidth,cursorStyleHandler:r,actionName:"resizing"})}}()})(Bt);const Mi="#000000",Zl="rgba(255, 255, 255, 0.0)",Wv={radius:20,left:100,top:100,fill:Zl,stroke:Mi},Hv={left:100,top:100,fill:Zl,stroke:Mi,width:40,height:40,angle:0},Fc={points:[50,100,200,200],options:{left:170,top:150,stroke:Mi}},Vs={type:"text",left:100,top:100,fontSize:16,fontFamily:"Arial",fill:Mi},Uv=(e,t,n,a,g,v)=>({canvas:e,addCircle:()=>{const w=new Bt.fabric.Circle({...Wv,fill:t,stroke:n});e.add(w)},addRectangle:()=>{const w=new Bt.fabric.Rect({...Hv,fill:t,stroke:n});e.add(w)},addLine:()=>{const w=new Bt.fabric.Line(Fc.points,{...Fc.options,stroke:n});e.add(w)},addText:w=>{const h=new Bt.fabric.Textbox(w,{...Vs,fill:n});h.set({text:w}),e.add(h)},updateText:w=>{const h=e.getActiveObjects();h.length&&h[0].type===Vs.type&&(h[0].set({text:w}),e.renderAll())},deleteAll:()=>{e.getObjects().forEach(w=>e.remove(w)),e.discardActiveObject(),e.renderAll()},deleteSelected:()=>{e.getActiveObjects().forEach(w=>e.remove(w)),e.discardActiveObject(),e.renderAll()},fillColor:t,strokeColor:n,setFillColor:w=>{a(w),e.getActiveObjects().forEach(h=>h.set({fill:w})),e.renderAll()},setStrokeColor:w=>{g(w),e.getActiveObjects().forEach(h=>{if(h.type===Vs.type){h.set({fill:w});return}h.set({stroke:w})}),e.renderAll()},zoomIn:()=>{const w=e.getZoom();e.setZoom(w/v)},zoomOut:()=>{const w=e.getZoom();e.setZoom(w*v)}}),Xv=(e={})=>{const t=e.scaleStep||.5,{defaultFillColor:n,defaultStrokeColor:a}=e,[g,v]=j.useState(null),[w,h]=j.useState(n||Zl),[r,c]=j.useState(a||Mi),[f,i]=j.useState([]);return j.useEffect(()=>{g&&(s=>{s.on("selection:cleared",()=>{i([])}),s.on("selection:created",o=>{i(o.selected)}),s.on("selection:updated",o=>{i(o.selected)})})(g)},[g]),{selectedObjects:f,onReady:s=>{console.log("Fabric canvas ready"),v(s)},editor:g?Uv(g,w,r,h,c,t):void 0}};var Sd={exports:{}},Lr={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rc;function Yv(){if(Rc)return Lr;Rc=1;var e=Ve,t=Symbol.for("react.element"),n=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,g=e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,v={key:!0,ref:!0,__self:!0,__source:!0};function w(h,r,c){var f,i={},s=null,o=null;c!==void 0&&(s=""+c),r.key!==void 0&&(s=""+r.key),r.ref!==void 0&&(o=r.ref);for(f in r)a.call(r,f)&&!v.hasOwnProperty(f)&&(i[f]=r[f]);if(h&&h.defaultProps)for(f in r=h.defaultProps,r)i[f]===void 0&&(i[f]=r[f]);return{$$typeof:t,type:h,key:s,ref:o,props:i,_owner:g.current}}return Lr.Fragment=n,Lr.jsx=w,Lr.jsxs=w,Lr}(function(e){e.exports=Yv()})(Sd);const Lc=Sd.exports.jsx,Vv=({className:e,onReady:t})=>{const n=j.useRef(null),a=j.useRef(null);return j.useEffect(()=>{const g=new Bt.fabric.Canvas(n.current),v=()=>{var h,r;g.setHeight(((h=a.current)==null?void 0:h.clientHeight)||0),g.setWidth(((r=a.current)==null?void 0:r.clientWidth)||0),g.renderAll()},w=()=>{v()};return v(),window.addEventListener("resize",w,!1),t&&t(g),()=>{g.dispose(),window.removeEventListener("resize",w)}},[]),Lc("div",{ref:a,className:e,children:Lc("canvas",{ref:n})})};function $v(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-download",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M4 17v2a2 2 0 0 0 2 2h12a2 2 0 0 0 2 -2v-2"}),E.jsx("path",{d:"M7 11l5 5l5 -5"}),E.jsx("path",{d:"M12 4l0 12"})]})}function Gv(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-photo-plus",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M15 8h.01"}),E.jsx("path",{d:"M12.5 21h-6.5a3 3 0 0 1 -3 -3v-12a3 3 0 0 1 3 -3h12a3 3 0 0 1 3 3v6.5"}),E.jsx("path",{d:"M3 16l5 -5c.928 -.893 2.072 -.893 3 0l4 4"}),E.jsx("path",{d:"M14 14l1 -1c.67 -.644 1.45 -.824 2.182 -.54"}),E.jsx("path",{d:"M16 19h6"}),E.jsx("path",{d:"M19 16v6"})]})}function Kv(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-plus",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M12 5l0 14"}),E.jsx("path",{d:"M5 12l14 0"})]})}function Qv(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M5 21c.5 -4.5 2.5 -8 7 -10"}),E.jsx("path",{d:"M9 18c6.218 0 10.5 -3.288 11 -12v-2h-4.014c-9 0 -11.986 4 -12 9c0 1 0 3 2 5h3z"})]})}function qv(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"icon icon-tabler icons-tabler-outline icon-tabler-search",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M10 10m-7 0a7 7 0 1 0 14 0a7 7 0 1 0 -14 0"}),E.jsx("path",{d:"M21 21l-6 -6"})]})}function Jv(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M12 12m-4 0a4 4 0 1 0 8 0a4 4 0 1 0 -8 0"}),E.jsx("path",{d:"M3 12h1m8 -9v1m8 8h1m-9 8v1m-6.4 -15.4l.7 .7m12.1 -.7l-.7 .7m0 11.4l.7 .7m-12.1 -.7l-.7 .7"})]})}function Zv(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M7.502 19.423c2.602 2.105 6.395 2.105 8.996 0c2.602 -2.105 3.262 -5.708 1.566 -8.546l-4.89 -7.26c-.42 -.625 -1.287 -.803 -1.936 -.397a1.376 1.376 0 0 0 -.41 .397l-4.893 7.26c-1.695 2.838 -1.035 6.441 1.567 8.546z"})]})}function e0(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M17 4l3 3"}),E.jsx("path",{d:"M18.5 5.5l-8 8"}),E.jsx("path",{d:"M8.276 11.284l4.44 4.44a.968 .968 0 0 1 0 1.369l-2.704 2.704a4.108 4.108 0 0 1 -5.809 -5.81l2.704 -2.703a.968 .968 0 0 1 1.37 0z"})]})}function t0(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M5 3m0 1a1 1 0 0 1 1 -1h12a1 1 0 0 1 1 1v16a1 1 0 0 1 -1 1h-12a1 1 0 0 1 -1 -1z"})]})}function n0(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M4 4m0 2a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v12a2 2 0 0 1 -2 2h-12a2 2 0 0 1 -2 -2z"}),E.jsx("path",{d:"M12 4l0 16"})]})}function r0(){return E.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",children:[E.jsx("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),E.jsx("path",{d:"M12 12m-3 0a3 3 0 1 0 6 0a3 3 0 1 0 -6 0"}),E.jsx("path",{d:"M12 2a3 3 0 0 1 3 3c0 .562 -.259 1.442 -.776 2.64l-.724 1.36l1.76 -1.893c.499 -.6 .922 -1 1.27 -1.205a2.968 2.968 0 0 1 4.07 1.099a3.011 3.011 0 0 1 -1.09 4.098c-.374 .217 -.99 .396 -1.846 .535l-2.664 .366l2.4 .326c1 .145 1.698 .337 2.11 .576a3.011 3.011 0 0 1 1.09 4.098a2.968 2.968 0 0 1 -4.07 1.098c-.348 -.202 -.771 -.604 -1.27 -1.205l-1.76 -1.893l.724 1.36c.516 1.199 .776 2.079 .776 2.64a3 3 0 0 1 -6 0c0 -.562 .259 -1.442 .776 -2.64l.724 -1.36l-1.76 1.893c-.499 .601 -.922 1 -1.27 1.205a2.968 2.968 0 0 1 -4.07 -1.098a3.011 3.011 0 0 1 1.09 -4.098c.374 -.218 .99 -.396 1.846 -.536l2.664 -.366l-2.4 -.325c-1 -.145 -1.698 -.337 -2.11 -.576a3.011 3.011 0 0 1 -1.09 -4.099a2.968 2.968 0 0 1 4.07 -1.099c.348 .203 .771 .604 1.27 1.205l1.76 1.894c-1 -2.292 -1.5 -3.625 -1.5 -4a3 3 0 0 1 3 -3z"})]})}var Td={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var v="",w=0;w<arguments.length;w++){var h=arguments[w];h&&(v=g(v,a(h)))}return v}function a(v){if(typeof v=="string"||typeof v=="number")return v;if(typeof v!="object")return"";if(Array.isArray(v))return n.apply(null,v);if(v.toString!==Object.prototype.toString&&!v.toString.toString().includes("[native code]"))return v.toString();var w="";for(var h in v)t.call(v,h)&&v[h]&&(w=g(w,h));return w}function g(v,w){return w?v?v+" "+w:v+w:v}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(Td);var i0=Td.exports;const ue=Ti(i0);function Va(){return Va=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)({}).hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},Va.apply(null,arguments)}function Od(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.includes(a))continue;n[a]=e[a]}return n}function Ic(e){return"default"+e.charAt(0).toUpperCase()+e.substr(1)}function o0(e){var t=s0(e,"string");return typeof t=="symbol"?t:String(t)}function s0(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var a=n.call(e,t);if(typeof a!="object")return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}function bd(e,t,n){var a=j.useRef(e!==void 0),g=j.useState(t),v=g[0],w=g[1],h=e!==void 0,r=a.current;return a.current=h,!h&&r&&v!==t&&w(t),[h?e:v,j.useCallback(function(c){for(var f=arguments.length,i=new Array(f>1?f-1:0),s=1;s<f;s++)i[s-1]=arguments[s];n&&n.apply(void 0,[c].concat(i)),w(c)},[n])]}function a0(e,t){return Object.keys(t).reduce(function(n,a){var g,v=n,w=v[Ic(a)],h=v[a],r=Od(v,[Ic(a),a].map(o0)),c=t[a],f=bd(h,w,e[c]),i=f[0],s=f[1];return Va({},r,(g={},g[a]=i,g[c]=s,g))},e)}function $a(e,t){return $a=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,a){return n.__proto__=a,n},$a(e,t)}function l0(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,$a(e,t)}const u0=["xxl","xl","lg","md","sm","xs"],c0="xs",hs=j.createContext({prefixes:{},breakpoints:u0,minBreakpoint:c0});function he(e,t){const{prefixes:n}=j.useContext(hs);return e||n[t]||t}function Ed(){const{breakpoints:e}=j.useContext(hs);return e}function kd(){const{minBreakpoint:e}=j.useContext(hs);return e}function ds(){const{dir:e}=j.useContext(hs);return e==="rtl"}function Or(e){return e&&e.ownerDocument||document}function f0(e){var t=Or(e);return t&&t.defaultView||window}function h0(e,t){return f0(e).getComputedStyle(e,t)}var d0=/([A-Z])/g;function p0(e){return e.replace(d0,"-$1").toLowerCase()}var g0=/^ms-/;function qi(e){return p0(e).replace(g0,"-ms-")}var m0=/^((translate|rotate|scale)(X|Y|Z|3d)?|matrix(3d)?|perspective|skew(X|Y)?)$/i;function v0(e){return!!(e&&m0.test(e))}function An(e,t){var n="",a="";if(typeof t=="string")return e.style.getPropertyValue(qi(t))||h0(e).getPropertyValue(qi(t));Object.keys(t).forEach(function(g){var v=t[g];!v&&v!==0?e.style.removeProperty(qi(g)):v0(g)?a+=g+"("+v+") ":n+=qi(g)+": "+v+";"}),a&&(n+="transform: "+a+";"),e.style.cssText+=";"+n}var Pd={exports:{}},y0="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",C0=y0,w0=C0;function Md(){}function jd(){}jd.resetWarningCache=Md;var x0=function(){function e(a,g,v,w,h,r){if(r!==w0){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}e.isRequired=e;function t(){return e}var n={array:e,bigint:e,bool:e,func:e,number:e,object:e,string:e,symbol:e,any:e,arrayOf:t,element:e,elementType:e,instanceOf:t,node:e,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:jd,resetWarningCache:Md};return n.PropTypes=n,n};Pd.exports=x0();var _0=Pd.exports;const Ye=Ti(_0),Nc={disabled:!1},Dd=Ve.createContext(null);var S0=function(t){return t.scrollTop},Ur="unmounted",bn="exited",kt="entering",rn="entered",Uo="exiting",Kt=function(e){l0(t,e);function t(a,g){var v;v=e.call(this,a,g)||this;var w=g,h=w&&!w.isMounting?a.enter:a.appear,r;return v.appearStatus=null,a.in?h?(r=bn,v.appearStatus=kt):r=rn:a.unmountOnExit||a.mountOnEnter?r=Ur:r=bn,v.state={status:r},v.nextCallback=null,v}t.getDerivedStateFromProps=function(g,v){var w=g.in;return w&&v.status===Ur?{status:bn}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(g){var v=null;if(g!==this.props){var w=this.state.status;this.props.in?w!==kt&&w!==rn&&(v=kt):(w===kt||w===rn)&&(v=Uo)}this.updateStatus(!1,v)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var g=this.props.timeout,v,w,h;return v=w=h=g,g!=null&&typeof g!="number"&&(v=g.exit,w=g.enter,h=g.appear!==void 0?g.appear:w),{exit:v,enter:w,appear:h}},n.updateStatus=function(g,v){if(g===void 0&&(g=!1),v!==null)if(this.cancelNextCallback(),v===kt){if(this.props.unmountOnExit||this.props.mountOnEnter){var w=this.props.nodeRef?this.props.nodeRef.current:Mn.findDOMNode(this);w&&S0(w)}this.performEnter(g)}else this.performExit();else this.props.unmountOnExit&&this.state.status===bn&&this.setState({status:Ur})},n.performEnter=function(g){var v=this,w=this.props.enter,h=this.context?this.context.isMounting:g,r=this.props.nodeRef?[h]:[Mn.findDOMNode(this),h],c=r[0],f=r[1],i=this.getTimeouts(),s=h?i.appear:i.enter;if(!g&&!w||Nc.disabled){this.safeSetState({status:rn},function(){v.props.onEntered(c)});return}this.props.onEnter(c,f),this.safeSetState({status:kt},function(){v.props.onEntering(c,f),v.onTransitionEnd(s,function(){v.safeSetState({status:rn},function(){v.props.onEntered(c,f)})})})},n.performExit=function(){var g=this,v=this.props.exit,w=this.getTimeouts(),h=this.props.nodeRef?void 0:Mn.findDOMNode(this);if(!v||Nc.disabled){this.safeSetState({status:bn},function(){g.props.onExited(h)});return}this.props.onExit(h),this.safeSetState({status:Uo},function(){g.props.onExiting(h),g.onTransitionEnd(w.exit,function(){g.safeSetState({status:bn},function(){g.props.onExited(h)})})})},n.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(g,v){v=this.setNextCallback(v),this.setState(g,v)},n.setNextCallback=function(g){var v=this,w=!0;return this.nextCallback=function(h){w&&(w=!1,v.nextCallback=null,g(h))},this.nextCallback.cancel=function(){w=!1},this.nextCallback},n.onTransitionEnd=function(g,v){this.setNextCallback(v);var w=this.props.nodeRef?this.props.nodeRef.current:Mn.findDOMNode(this),h=g==null&&!this.props.addEndListener;if(!w||h){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var r=this.props.nodeRef?[this.nextCallback]:[w,this.nextCallback],c=r[0],f=r[1];this.props.addEndListener(c,f)}g!=null&&setTimeout(this.nextCallback,g)},n.render=function(){var g=this.state.status;if(g===Ur)return null;var v=this.props,w=v.children;v.in,v.mountOnEnter,v.unmountOnExit,v.appear,v.enter,v.exit,v.timeout,v.addEndListener,v.onEnter,v.onEntering,v.onEntered,v.onExit,v.onExiting,v.onExited,v.nodeRef;var h=Od(v,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return Ve.createElement(Dd.Provider,{value:null},typeof w=="function"?w(g,h):Ve.cloneElement(Ve.Children.only(w),h))},t}(Ve.Component);Kt.contextType=Dd;Kt.propTypes={};function Xn(){}Kt.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:Xn,onEntering:Xn,onEntered:Xn,onExit:Xn,onExiting:Xn,onExited:Xn};Kt.UNMOUNTED=Ur;Kt.EXITED=bn;Kt.ENTERING=kt;Kt.ENTERED=rn;Kt.EXITING=Uo;const br=!!(typeof window<"u"&&window.document&&window.document.createElement);var Ga=!1,Ka=!1;try{var $s={get passive(){return Ga=!0},get once(){return Ka=Ga=!0}};br&&(window.addEventListener("test",$s,$s),window.removeEventListener("test",$s,!0))}catch{}function eu(e,t,n,a){if(a&&typeof a!="boolean"&&!Ka){var g=a.once,v=a.capture,w=n;!Ka&&g&&(w=n.__once||function h(r){this.removeEventListener(t,h,v),n.call(this,r)},n.__once=w),e.addEventListener(t,w,Ga?a:v)}e.addEventListener(t,n,a)}function Qa(e,t,n,a){var g=a&&typeof a!="boolean"?a.capture:a;e.removeEventListener(t,n,g),n.__once&&e.removeEventListener(t,n.__once,g)}function zt(e,t,n,a){return eu(e,t,n,a),function(){Qa(e,t,n,a)}}function T0(e,t,n,a){if(a===void 0&&(a=!0),e){var g=document.createEvent("HTMLEvents");g.initEvent(t,n,a),e.dispatchEvent(g)}}function O0(e){var t=An(e,"transitionDuration")||"",n=t.indexOf("ms")===-1?1e3:1;return parseFloat(t)*n}function b0(e,t,n){n===void 0&&(n=5);var a=!1,g=setTimeout(function(){a||T0(e,"transitionend",!0)},t+n),v=zt(e,"transitionend",function(){a=!0},{once:!0});return function(){clearTimeout(g),v()}}function Ad(e,t,n,a){n==null&&(n=O0(e)||0);var g=b0(e,n,a),v=zt(e,"transitionend",t);return function(){g(),v()}}function Bc(e,t){const n=An(e,t)||"",a=n.indexOf("ms")===-1?1e3:1;return parseFloat(n)*a}function Fd(e,t){const n=Bc(e,"transitionDuration"),a=Bc(e,"transitionDelay"),g=Ad(e,v=>{v.target===e&&(g(),t(v))},n+a)}function E0(e){e.offsetHeight}const zc=e=>!e||typeof e=="function"?e:t=>{e.current=t};function k0(e,t){const n=zc(e),a=zc(t);return g=>{n&&n(g),a&&a(g)}}function Ft(e,t){return j.useMemo(()=>k0(e,t),[e,t])}function Xo(e){return e&&"setState"in e?Mn.findDOMNode(e):e??null}const Rd=Ve.forwardRef(({onEnter:e,onEntering:t,onEntered:n,onExit:a,onExiting:g,onExited:v,addEndListener:w,children:h,childRef:r,...c},f)=>{const i=j.useRef(null),s=Ft(i,r),o=_=>{s(Xo(_))},l=_=>S=>{_&&i.current&&_(i.current,S)},d=j.useCallback(l(e),[e]),u=j.useCallback(l(t),[t]),p=j.useCallback(l(n),[n]),m=j.useCallback(l(a),[a]),y=j.useCallback(l(g),[g]),C=j.useCallback(l(v),[v]),x=j.useCallback(l(w),[w]);return E.jsx(Kt,{ref:f,...c,onEnter:d,onEntered:p,onEntering:u,onExit:m,onExited:C,onExiting:y,addEndListener:x,nodeRef:i,children:typeof h=="function"?(_,S)=>h(_,{...S,ref:o}):Ve.cloneElement(h,{ref:o})})});function P0(e){const t=j.useRef(e);return j.useEffect(()=>{t.current=e},[e]),t}function Ee(e){const t=P0(e);return j.useCallback(function(...n){return t.current&&t.current(...n)},[t])}const ps=e=>j.forwardRef((t,n)=>E.jsx("div",{...t,ref:n,className:ue(t.className,e)}));function Yo(){return j.useState(null)}function M0(e,t,n,a=!1){const g=Ee(n);j.useEffect(()=>{const v=typeof e=="function"?e():e;return v.addEventListener(t,g,a),()=>v.removeEventListener(t,g,a)},[e])}function tu(){const e=j.useRef(!0),t=j.useRef(()=>e.current);return j.useEffect(()=>(e.current=!0,()=>{e.current=!1}),[]),t.current}function Ld(e){const t=j.useRef(null);return j.useEffect(()=>{t.current=e}),t.current}const j0=typeof global<"u"&&global.navigator&&global.navigator.product==="ReactNative",D0=typeof document<"u",wi=D0||j0?j.useLayoutEffect:j.useEffect,A0=["as","disabled"];function F0(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function R0(e){return!e||e.trim()==="#"}function nu({tagName:e,disabled:t,href:n,target:a,rel:g,role:v,onClick:w,tabIndex:h=0,type:r}){e||(n!=null||a!=null||g!=null?e="a":e="button");const c={tagName:e};if(e==="button")return[{type:r||"button",disabled:t},c];const f=s=>{if((t||e==="a"&&R0(n))&&s.preventDefault(),t){s.stopPropagation();return}w==null||w(s)},i=s=>{s.key===" "&&(s.preventDefault(),f(s))};return e==="a"&&(n||(n="#"),t&&(n=void 0)),[{role:v??"button",disabled:void 0,tabIndex:t?void 0:h,href:n,target:e==="a"?a:void 0,"aria-disabled":t||void 0,rel:e==="a"?g:void 0,onClick:f,onKeyDown:i},c]}const Id=j.forwardRef((e,t)=>{let{as:n,disabled:a}=e,g=F0(e,A0);const[v,{tagName:w}]=nu(Object.assign({tagName:n,disabled:a},g));return E.jsx(w,Object.assign({},g,v,{ref:t}))});Id.displayName="Button";const L0=["onKeyDown"];function I0(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function N0(e){return!e||e.trim()==="#"}const Nd=j.forwardRef((e,t)=>{let{onKeyDown:n}=e,a=I0(e,L0);const[g]=nu(Object.assign({tagName:"a"},a)),v=Ee(w=>{g.onKeyDown(w),n==null||n(w)});return N0(a.href)||a.role==="button"?E.jsx("a",Object.assign({ref:t},a,g,{onKeyDown:v})):E.jsx("a",Object.assign({ref:t},a,{onKeyDown:n}))});Nd.displayName="Anchor";const B0={[kt]:"show",[rn]:"show"},vr=j.forwardRef(({className:e,children:t,transitionClasses:n={},onEnter:a,...g},v)=>{const w={in:!1,timeout:300,mountOnEnter:!1,unmountOnExit:!1,appear:!1,...g},h=j.useCallback((r,c)=>{E0(r),a==null||a(r,c)},[a]);return E.jsx(Rd,{ref:v,addEndListener:Fd,...w,onEnter:h,childRef:t.ref,children:(r,c)=>j.cloneElement(t,{...c,className:ue("fade",e,t.props.className,B0[r],n[r])})})});vr.displayName="Fade";const z0={"aria-label":Ye.string,onClick:Ye.func,variant:Ye.oneOf(["white"])},ru=j.forwardRef(({className:e,variant:t,"aria-label":n="Close",...a},g)=>E.jsx("button",{ref:g,type:"button",className:ue("btn-close",t&&`btn-close-${t}`,e),"aria-label":n,...a}));ru.displayName="CloseButton";ru.propTypes=z0;const an=j.forwardRef(({bsPrefix:e,bg:t="primary",pill:n=!1,text:a,className:g,as:v="span",...w},h)=>{const r=he(e,"badge");return E.jsx(v,{ref:h,...w,className:ue(g,r,n&&"rounded-pill",a&&`text-${a}`,t&&`bg-${t}`)})});an.displayName="Badge";const Zt=j.forwardRef(({as:e,bsPrefix:t,variant:n="primary",size:a,active:g=!1,disabled:v=!1,className:w,...h},r)=>{const c=he(t,"btn"),[f,{tagName:i}]=nu({tagName:e,disabled:v,...h}),s=i;return E.jsx(s,{...f,...h,ref:r,disabled:v,className:ue(w,c,g&&"active",n&&`${c}-${n}`,a&&`${c}-${a}`,h.href&&v&&"disabled")})});Zt.displayName="Button";const Bd=j.forwardRef(({bsPrefix:e,size:t,vertical:n=!1,className:a,role:g="group",as:v="div",...w},h)=>{const r=he(e,"btn-group");let c=r;return n&&(c=`${r}-vertical`),E.jsx(v,{...w,ref:h,role:g,className:ue(a,c,t&&`${r}-${t}`)})});Bd.displayName="ButtonGroup";const iu=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"card-body"),E.jsx(n,{ref:g,className:ue(e,t),...a})));iu.displayName="CardBody";const zd=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"card-footer"),E.jsx(n,{ref:g,className:ue(e,t),...a})));zd.displayName="CardFooter";const Wd=j.createContext(null);Wd.displayName="CardHeaderContext";const Hd=j.forwardRef(({bsPrefix:e,className:t,as:n="div",...a},g)=>{const v=he(e,"card-header"),w=j.useMemo(()=>({cardHeaderBsPrefix:v}),[v]);return E.jsx(Wd.Provider,{value:w,children:E.jsx(n,{ref:g,...a,className:ue(t,v)})})});Hd.displayName="CardHeader";const Ud=j.forwardRef(({bsPrefix:e,className:t,variant:n,as:a="img",...g},v)=>{const w=he(e,"card-img");return E.jsx(a,{ref:v,className:ue(n?`${w}-${n}`:w,t),...g})});Ud.displayName="CardImg";const Xd=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"card-img-overlay"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Xd.displayName="CardImgOverlay";const Yd=j.forwardRef(({className:e,bsPrefix:t,as:n="a",...a},g)=>(t=he(t,"card-link"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Yd.displayName="CardLink";const W0=ps("h6"),Vd=j.forwardRef(({className:e,bsPrefix:t,as:n=W0,...a},g)=>(t=he(t,"card-subtitle"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Vd.displayName="CardSubtitle";const $d=j.forwardRef(({className:e,bsPrefix:t,as:n="p",...a},g)=>(t=he(t,"card-text"),E.jsx(n,{ref:g,className:ue(e,t),...a})));$d.displayName="CardText";const H0=ps("h5"),Gd=j.forwardRef(({className:e,bsPrefix:t,as:n=H0,...a},g)=>(t=he(t,"card-title"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Gd.displayName="CardTitle";const Kd=j.forwardRef(({bsPrefix:e,className:t,bg:n,text:a,border:g,body:v=!1,children:w,as:h="div",...r},c)=>{const f=he(e,"card");return E.jsx(h,{ref:c,...r,className:ue(t,f,n&&`bg-${n}`,a&&`text-${a}`,g&&`border-${g}`),children:v?E.jsx(iu,{children:w}):w})});Kd.displayName="Card";const Ji=Object.assign(Kd,{Img:Ud,Title:Gd,Subtitle:Vd,Body:iu,Link:Yd,Text:$d,Header:Hd,Footer:zd,ImgOverlay:Xd});function U0(e){const t=j.useRef(e);return t.current=e,t}function ou(e){const t=U0(e);j.useEffect(()=>()=>t.current(),[])}const qa=2**31-1;function Qd(e,t,n){const a=n-Date.now();e.current=a<=qa?setTimeout(t,a):setTimeout(()=>Qd(e,t,n),qa)}function X0(){const e=tu(),t=j.useRef();return ou(()=>clearTimeout(t.current)),j.useMemo(()=>{const n=()=>clearTimeout(t.current);function a(g,v=0){e()&&(n(),v<=qa?t.current=setTimeout(g,v):Qd(t,g,Date.now()+v))}return{set:a,clear:n,handleRef:t}},[])}function Y0(e,t){return j.Children.toArray(e).some(n=>j.isValidElement(n)&&n.type===t)}function V0({as:e,bsPrefix:t,className:n,...a}){t=he(t,"col");const g=Ed(),v=kd(),w=[],h=[];return g.forEach(r=>{const c=a[r];delete a[r];let f,i,s;typeof c=="object"&&c!=null?{span:f,offset:i,order:s}=c:f=c;const o=r!==v?`-${r}`:"";f&&w.push(f===!0?`${t}${o}`:`${t}${o}-${f}`),s!=null&&h.push(`order${o}-${s}`),i!=null&&h.push(`offset${o}-${i}`)}),[{...a,className:ue(n,...w,...h)},{as:e,bsPrefix:t,spans:w}]}const Zr=j.forwardRef((e,t)=>{const[{className:n,...a},{as:g="div",bsPrefix:v,spans:w}]=V0(e);return E.jsx(g,{...a,ref:t,className:ue(n,!w.length&&v)})});Zr.displayName="Col";const qd=j.forwardRef(({bsPrefix:e,fluid:t=!1,as:n="div",className:a,...g},v)=>{const w=he(e,"container"),h=typeof t=="string"?`-${t}`:"-fluid";return E.jsx(n,{ref:v,...g,className:ue(a,t?`${w}${h}`:w)})});qd.displayName="Container";var $0=Function.prototype.bind.call(Function.prototype.call,[].slice);function en(e,t){return $0(e.querySelectorAll(t))}function G0(e,t,n){const a=j.useRef(e!==void 0),[g,v]=j.useState(t),w=e!==void 0,h=a.current;return a.current=w,!w&&h&&g!==t&&v(t),[w?e:g,j.useCallback((...r)=>{const[c,...f]=r;let i=n==null?void 0:n(c,...f);return v(c),i},[n])]}function K0(){const[,e]=j.useReducer(t=>!t,!1);return e}const gs=j.createContext(null);var Wc=Object.prototype.hasOwnProperty;function Hc(e,t,n){for(n of e.keys())if(ei(n,t))return n}function ei(e,t){var n,a,g;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((a=e.length)===t.length)for(;a--&&ei(e[a],t[a]););return a===-1}if(n===Set){if(e.size!==t.size)return!1;for(a of e)if(g=a,g&&typeof g=="object"&&(g=Hc(t,g),!g)||!t.has(g))return!1;return!0}if(n===Map){if(e.size!==t.size)return!1;for(a of e)if(g=a[0],g&&typeof g=="object"&&(g=Hc(t,g),!g)||!ei(a[1],t.get(g)))return!1;return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((a=e.byteLength)===t.byteLength)for(;a--&&e.getInt8(a)===t.getInt8(a););return a===-1}if(ArrayBuffer.isView(e)){if((a=e.byteLength)===t.byteLength)for(;a--&&e[a]===t[a];);return a===-1}if(!n||typeof e=="object"){a=0;for(n in e)if(Wc.call(e,n)&&++a&&!Wc.call(t,n)||!(n in t)||!ei(e[n],t[n]))return!1;return Object.keys(t).length===a}}return e!==e&&t!==t}function Q0(e){const t=tu();return[e[0],j.useCallback(n=>{if(t())return e[1](n)},[t,e[1]])]}var tt="top",mt="bottom",vt="right",nt="left",su="auto",ji=[tt,mt,vt,nt],yr="start",xi="end",q0="clippingParents",Jd="viewport",Ir="popper",J0="reference",Uc=ji.reduce(function(e,t){return e.concat([t+"-"+yr,t+"-"+xi])},[]),Zd=[].concat(ji,[su]).reduce(function(e,t){return e.concat([t,t+"-"+yr,t+"-"+xi])},[]),Z0="beforeRead",ey="read",ty="afterRead",ny="beforeMain",ry="main",iy="afterMain",oy="beforeWrite",sy="write",ay="afterWrite",ly=[Z0,ey,ty,ny,ry,iy,oy,sy,ay];function Dt(e){return e.split("-")[0]}function at(e){if(e==null)return window;if(e.toString()!=="[object Window]"){var t=e.ownerDocument;return t&&t.defaultView||window}return e}function zn(e){var t=at(e).Element;return e instanceof t||e instanceof Element}function At(e){var t=at(e).HTMLElement;return e instanceof t||e instanceof HTMLElement}function au(e){if(typeof ShadowRoot>"u")return!1;var t=at(e).ShadowRoot;return e instanceof t||e instanceof ShadowRoot}var Fn=Math.max,Vo=Math.min,Cr=Math.round;function Ja(){var e=navigator.userAgentData;return e!=null&&e.brands&&Array.isArray(e.brands)?e.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function ep(){return!/^((?!chrome|android).)*safari/i.test(Ja())}function wr(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!1);var a=e.getBoundingClientRect(),g=1,v=1;t&&At(e)&&(g=e.offsetWidth>0&&Cr(a.width)/e.offsetWidth||1,v=e.offsetHeight>0&&Cr(a.height)/e.offsetHeight||1);var w=zn(e)?at(e):window,h=w.visualViewport,r=!ep()&&n,c=(a.left+(r&&h?h.offsetLeft:0))/g,f=(a.top+(r&&h?h.offsetTop:0))/v,i=a.width/g,s=a.height/v;return{width:i,height:s,top:f,right:c+i,bottom:f+s,left:c,x:c,y:f}}function lu(e){var t=wr(e),n=e.offsetWidth,a=e.offsetHeight;return Math.abs(t.width-n)<=1&&(n=t.width),Math.abs(t.height-a)<=1&&(a=t.height),{x:e.offsetLeft,y:e.offsetTop,width:n,height:a}}function tp(e,t){var n=t.getRootNode&&t.getRootNode();if(e.contains(t))return!0;if(n&&au(n)){var a=t;do{if(a&&e.isSameNode(a))return!0;a=a.parentNode||a.host}while(a)}return!1}function yn(e){return e?(e.nodeName||"").toLowerCase():null}function Vt(e){return at(e).getComputedStyle(e)}function uy(e){return["table","td","th"].indexOf(yn(e))>=0}function _n(e){return((zn(e)?e.ownerDocument:e.document)||window.document).documentElement}function ms(e){return yn(e)==="html"?e:e.assignedSlot||e.parentNode||(au(e)?e.host:null)||_n(e)}function Xc(e){return!At(e)||Vt(e).position==="fixed"?null:e.offsetParent}function cy(e){var t=/firefox/i.test(Ja()),n=/Trident/i.test(Ja());if(n&&At(e)){var a=Vt(e);if(a.position==="fixed")return null}var g=ms(e);for(au(g)&&(g=g.host);At(g)&&["html","body"].indexOf(yn(g))<0;){var v=Vt(g);if(v.transform!=="none"||v.perspective!=="none"||v.contain==="paint"||["transform","perspective"].indexOf(v.willChange)!==-1||t&&v.willChange==="filter"||t&&v.filter&&v.filter!=="none")return g;g=g.parentNode}return null}function Di(e){for(var t=at(e),n=Xc(e);n&&uy(n)&&Vt(n).position==="static";)n=Xc(n);return n&&(yn(n)==="html"||yn(n)==="body"&&Vt(n).position==="static")?t:n||cy(e)||t}function uu(e){return["top","bottom"].indexOf(e)>=0?"x":"y"}function ti(e,t,n){return Fn(e,Vo(t,n))}function fy(e,t,n){var a=ti(e,t,n);return a>n?n:a}function np(){return{top:0,right:0,bottom:0,left:0}}function rp(e){return Object.assign({},np(),e)}function ip(e,t){return t.reduce(function(n,a){return n[a]=e,n},{})}var hy=function(t,n){return t=typeof t=="function"?t(Object.assign({},n.rects,{placement:n.placement})):t,rp(typeof t!="number"?t:ip(t,ji))};function dy(e){var t,n=e.state,a=e.name,g=e.options,v=n.elements.arrow,w=n.modifiersData.popperOffsets,h=Dt(n.placement),r=uu(h),c=[nt,vt].indexOf(h)>=0,f=c?"height":"width";if(!(!v||!w)){var i=hy(g.padding,n),s=lu(v),o=r==="y"?tt:nt,l=r==="y"?mt:vt,d=n.rects.reference[f]+n.rects.reference[r]-w[r]-n.rects.popper[f],u=w[r]-n.rects.reference[r],p=Di(v),m=p?r==="y"?p.clientHeight||0:p.clientWidth||0:0,y=d/2-u/2,C=i[o],x=m-s[f]-i[l],_=m/2-s[f]/2+y,S=ti(C,_,x),b=r;n.modifiersData[a]=(t={},t[b]=S,t.centerOffset=S-_,t)}}function py(e){var t=e.state,n=e.options,a=n.element,g=a===void 0?"[data-popper-arrow]":a;g!=null&&(typeof g=="string"&&(g=t.elements.popper.querySelector(g),!g)||tp(t.elements.popper,g)&&(t.elements.arrow=g))}const gy={name:"arrow",enabled:!0,phase:"main",fn:dy,effect:py,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function xr(e){return e.split("-")[1]}var my={top:"auto",right:"auto",bottom:"auto",left:"auto"};function vy(e,t){var n=e.x,a=e.y,g=t.devicePixelRatio||1;return{x:Cr(n*g)/g||0,y:Cr(a*g)/g||0}}function Yc(e){var t,n=e.popper,a=e.popperRect,g=e.placement,v=e.variation,w=e.offsets,h=e.position,r=e.gpuAcceleration,c=e.adaptive,f=e.roundOffsets,i=e.isFixed,s=w.x,o=s===void 0?0:s,l=w.y,d=l===void 0?0:l,u=typeof f=="function"?f({x:o,y:d}):{x:o,y:d};o=u.x,d=u.y;var p=w.hasOwnProperty("x"),m=w.hasOwnProperty("y"),y=nt,C=tt,x=window;if(c){var _=Di(n),S="clientHeight",b="clientWidth";if(_===at(n)&&(_=_n(n),Vt(_).position!=="static"&&h==="absolute"&&(S="scrollHeight",b="scrollWidth")),_=_,g===tt||(g===nt||g===vt)&&v===xi){C=mt;var F=i&&_===x&&x.visualViewport?x.visualViewport.height:_[S];d-=F-a.height,d*=r?1:-1}if(g===nt||(g===tt||g===mt)&&v===xi){y=vt;var R=i&&_===x&&x.visualViewport?x.visualViewport.width:_[b];o-=R-a.width,o*=r?1:-1}}var z=Object.assign({position:h},c&&my),$=f===!0?vy({x:o,y:d},at(n)):{x:o,y:d};if(o=$.x,d=$.y,r){var G;return Object.assign({},z,(G={},G[C]=m?"0":"",G[y]=p?"0":"",G.transform=(x.devicePixelRatio||1)<=1?"translate("+o+"px, "+d+"px)":"translate3d("+o+"px, "+d+"px, 0)",G))}return Object.assign({},z,(t={},t[C]=m?d+"px":"",t[y]=p?o+"px":"",t.transform="",t))}function yy(e){var t=e.state,n=e.options,a=n.gpuAcceleration,g=a===void 0?!0:a,v=n.adaptive,w=v===void 0?!0:v,h=n.roundOffsets,r=h===void 0?!0:h,c={placement:Dt(t.placement),variation:xr(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:g,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,Yc(Object.assign({},c,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:w,roundOffsets:r})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,Yc(Object.assign({},c,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:r})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const Cy={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:yy,data:{}};var Zi={passive:!0};function wy(e){var t=e.state,n=e.instance,a=e.options,g=a.scroll,v=g===void 0?!0:g,w=a.resize,h=w===void 0?!0:w,r=at(t.elements.popper),c=[].concat(t.scrollParents.reference,t.scrollParents.popper);return v&&c.forEach(function(f){f.addEventListener("scroll",n.update,Zi)}),h&&r.addEventListener("resize",n.update,Zi),function(){v&&c.forEach(function(f){f.removeEventListener("scroll",n.update,Zi)}),h&&r.removeEventListener("resize",n.update,Zi)}}const xy={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:wy,data:{}};var _y={left:"right",right:"left",bottom:"top",top:"bottom"};function vo(e){return e.replace(/left|right|bottom|top/g,function(t){return _y[t]})}var Sy={start:"end",end:"start"};function Vc(e){return e.replace(/start|end/g,function(t){return Sy[t]})}function cu(e){var t=at(e),n=t.pageXOffset,a=t.pageYOffset;return{scrollLeft:n,scrollTop:a}}function fu(e){return wr(_n(e)).left+cu(e).scrollLeft}function Ty(e,t){var n=at(e),a=_n(e),g=n.visualViewport,v=a.clientWidth,w=a.clientHeight,h=0,r=0;if(g){v=g.width,w=g.height;var c=ep();(c||!c&&t==="fixed")&&(h=g.offsetLeft,r=g.offsetTop)}return{width:v,height:w,x:h+fu(e),y:r}}function Oy(e){var t,n=_n(e),a=cu(e),g=(t=e.ownerDocument)==null?void 0:t.body,v=Fn(n.scrollWidth,n.clientWidth,g?g.scrollWidth:0,g?g.clientWidth:0),w=Fn(n.scrollHeight,n.clientHeight,g?g.scrollHeight:0,g?g.clientHeight:0),h=-a.scrollLeft+fu(e),r=-a.scrollTop;return Vt(g||n).direction==="rtl"&&(h+=Fn(n.clientWidth,g?g.clientWidth:0)-v),{width:v,height:w,x:h,y:r}}function hu(e){var t=Vt(e),n=t.overflow,a=t.overflowX,g=t.overflowY;return/auto|scroll|overlay|hidden/.test(n+g+a)}function op(e){return["html","body","#document"].indexOf(yn(e))>=0?e.ownerDocument.body:At(e)&&hu(e)?e:op(ms(e))}function ni(e,t){var n;t===void 0&&(t=[]);var a=op(e),g=a===((n=e.ownerDocument)==null?void 0:n.body),v=at(a),w=g?[v].concat(v.visualViewport||[],hu(a)?a:[]):a,h=t.concat(w);return g?h:h.concat(ni(ms(w)))}function Za(e){return Object.assign({},e,{left:e.x,top:e.y,right:e.x+e.width,bottom:e.y+e.height})}function by(e,t){var n=wr(e,!1,t==="fixed");return n.top=n.top+e.clientTop,n.left=n.left+e.clientLeft,n.bottom=n.top+e.clientHeight,n.right=n.left+e.clientWidth,n.width=e.clientWidth,n.height=e.clientHeight,n.x=n.left,n.y=n.top,n}function $c(e,t,n){return t===Jd?Za(Ty(e,n)):zn(t)?by(t,n):Za(Oy(_n(e)))}function Ey(e){var t=ni(ms(e)),n=["absolute","fixed"].indexOf(Vt(e).position)>=0,a=n&&At(e)?Di(e):e;return zn(a)?t.filter(function(g){return zn(g)&&tp(g,a)&&yn(g)!=="body"}):[]}function ky(e,t,n,a){var g=t==="clippingParents"?Ey(e):[].concat(t),v=[].concat(g,[n]),w=v[0],h=v.reduce(function(r,c){var f=$c(e,c,a);return r.top=Fn(f.top,r.top),r.right=Vo(f.right,r.right),r.bottom=Vo(f.bottom,r.bottom),r.left=Fn(f.left,r.left),r},$c(e,w,a));return h.width=h.right-h.left,h.height=h.bottom-h.top,h.x=h.left,h.y=h.top,h}function sp(e){var t=e.reference,n=e.element,a=e.placement,g=a?Dt(a):null,v=a?xr(a):null,w=t.x+t.width/2-n.width/2,h=t.y+t.height/2-n.height/2,r;switch(g){case tt:r={x:w,y:t.y-n.height};break;case mt:r={x:w,y:t.y+t.height};break;case vt:r={x:t.x+t.width,y:h};break;case nt:r={x:t.x-n.width,y:h};break;default:r={x:t.x,y:t.y}}var c=g?uu(g):null;if(c!=null){var f=c==="y"?"height":"width";switch(v){case yr:r[c]=r[c]-(t[f]/2-n[f]/2);break;case xi:r[c]=r[c]+(t[f]/2-n[f]/2);break}}return r}function _i(e,t){t===void 0&&(t={});var n=t,a=n.placement,g=a===void 0?e.placement:a,v=n.strategy,w=v===void 0?e.strategy:v,h=n.boundary,r=h===void 0?q0:h,c=n.rootBoundary,f=c===void 0?Jd:c,i=n.elementContext,s=i===void 0?Ir:i,o=n.altBoundary,l=o===void 0?!1:o,d=n.padding,u=d===void 0?0:d,p=rp(typeof u!="number"?u:ip(u,ji)),m=s===Ir?J0:Ir,y=e.rects.popper,C=e.elements[l?m:s],x=ky(zn(C)?C:C.contextElement||_n(e.elements.popper),r,f,w),_=wr(e.elements.reference),S=sp({reference:_,element:y,strategy:"absolute",placement:g}),b=Za(Object.assign({},y,S)),F=s===Ir?b:_,R={top:x.top-F.top+p.top,bottom:F.bottom-x.bottom+p.bottom,left:x.left-F.left+p.left,right:F.right-x.right+p.right},z=e.modifiersData.offset;if(s===Ir&&z){var $=z[g];Object.keys(R).forEach(function(G){var K=[vt,mt].indexOf(G)>=0?1:-1,J=[tt,mt].indexOf(G)>=0?"y":"x";R[G]+=$[J]*K})}return R}function Py(e,t){t===void 0&&(t={});var n=t,a=n.placement,g=n.boundary,v=n.rootBoundary,w=n.padding,h=n.flipVariations,r=n.allowedAutoPlacements,c=r===void 0?Zd:r,f=xr(a),i=f?h?Uc:Uc.filter(function(l){return xr(l)===f}):ji,s=i.filter(function(l){return c.indexOf(l)>=0});s.length===0&&(s=i);var o=s.reduce(function(l,d){return l[d]=_i(e,{placement:d,boundary:g,rootBoundary:v,padding:w})[Dt(d)],l},{});return Object.keys(o).sort(function(l,d){return o[l]-o[d]})}function My(e){if(Dt(e)===su)return[];var t=vo(e);return[Vc(e),t,Vc(t)]}function jy(e){var t=e.state,n=e.options,a=e.name;if(!t.modifiersData[a]._skip){for(var g=n.mainAxis,v=g===void 0?!0:g,w=n.altAxis,h=w===void 0?!0:w,r=n.fallbackPlacements,c=n.padding,f=n.boundary,i=n.rootBoundary,s=n.altBoundary,o=n.flipVariations,l=o===void 0?!0:o,d=n.allowedAutoPlacements,u=t.options.placement,p=Dt(u),m=p===u,y=r||(m||!l?[vo(u)]:My(u)),C=[u].concat(y).reduce(function(P,O){return P.concat(Dt(O)===su?Py(t,{placement:O,boundary:f,rootBoundary:i,padding:c,flipVariations:l,allowedAutoPlacements:d}):O)},[]),x=t.rects.reference,_=t.rects.popper,S=new Map,b=!0,F=C[0],R=0;R<C.length;R++){var z=C[R],$=Dt(z),G=xr(z)===yr,K=[tt,mt].indexOf($)>=0,J=K?"width":"height",Y=_i(t,{placement:z,boundary:f,rootBoundary:i,altBoundary:s,padding:c}),ee=K?G?vt:nt:G?mt:tt;x[J]>_[J]&&(ee=vo(ee));var N=vo(ee),T=[];if(v&&T.push(Y[$]<=0),h&&T.push(Y[ee]<=0,Y[N]<=0),T.every(function(P){return P})){F=z,b=!1;break}S.set(z,T)}if(b)for(var k=l?3:1,M=function(O){var A=C.find(function(L){var V=S.get(L);if(V)return V.slice(0,O).every(function(W){return W})});if(A)return F=A,"break"},D=k;D>0;D--){var B=M(D);if(B==="break")break}t.placement!==F&&(t.modifiersData[a]._skip=!0,t.placement=F,t.reset=!0)}}const Dy={name:"flip",enabled:!0,phase:"main",fn:jy,requiresIfExists:["offset"],data:{_skip:!1}};function Gc(e,t,n){return n===void 0&&(n={x:0,y:0}),{top:e.top-t.height-n.y,right:e.right-t.width+n.x,bottom:e.bottom-t.height+n.y,left:e.left-t.width-n.x}}function Kc(e){return[tt,vt,mt,nt].some(function(t){return e[t]>=0})}function Ay(e){var t=e.state,n=e.name,a=t.rects.reference,g=t.rects.popper,v=t.modifiersData.preventOverflow,w=_i(t,{elementContext:"reference"}),h=_i(t,{altBoundary:!0}),r=Gc(w,a),c=Gc(h,g,v),f=Kc(r),i=Kc(c);t.modifiersData[n]={referenceClippingOffsets:r,popperEscapeOffsets:c,isReferenceHidden:f,hasPopperEscaped:i},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":f,"data-popper-escaped":i})}const Fy={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:Ay};function Ry(e,t,n){var a=Dt(e),g=[nt,tt].indexOf(a)>=0?-1:1,v=typeof n=="function"?n(Object.assign({},t,{placement:e})):n,w=v[0],h=v[1];return w=w||0,h=(h||0)*g,[nt,vt].indexOf(a)>=0?{x:h,y:w}:{x:w,y:h}}function Ly(e){var t=e.state,n=e.options,a=e.name,g=n.offset,v=g===void 0?[0,0]:g,w=Zd.reduce(function(f,i){return f[i]=Ry(i,t.rects,v),f},{}),h=w[t.placement],r=h.x,c=h.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=r,t.modifiersData.popperOffsets.y+=c),t.modifiersData[a]=w}const Iy={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:Ly};function Ny(e){var t=e.state,n=e.name;t.modifiersData[n]=sp({reference:t.rects.reference,element:t.rects.popper,strategy:"absolute",placement:t.placement})}const By={name:"popperOffsets",enabled:!0,phase:"read",fn:Ny,data:{}};function zy(e){return e==="x"?"y":"x"}function Wy(e){var t=e.state,n=e.options,a=e.name,g=n.mainAxis,v=g===void 0?!0:g,w=n.altAxis,h=w===void 0?!1:w,r=n.boundary,c=n.rootBoundary,f=n.altBoundary,i=n.padding,s=n.tether,o=s===void 0?!0:s,l=n.tetherOffset,d=l===void 0?0:l,u=_i(t,{boundary:r,rootBoundary:c,padding:i,altBoundary:f}),p=Dt(t.placement),m=xr(t.placement),y=!m,C=uu(p),x=zy(C),_=t.modifiersData.popperOffsets,S=t.rects.reference,b=t.rects.popper,F=typeof d=="function"?d(Object.assign({},t.rects,{placement:t.placement})):d,R=typeof F=="number"?{mainAxis:F,altAxis:F}:Object.assign({mainAxis:0,altAxis:0},F),z=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,$={x:0,y:0};if(_){if(v){var G,K=C==="y"?tt:nt,J=C==="y"?mt:vt,Y=C==="y"?"height":"width",ee=_[C],N=ee+u[K],T=ee-u[J],k=o?-b[Y]/2:0,M=m===yr?S[Y]:b[Y],D=m===yr?-b[Y]:-S[Y],B=t.elements.arrow,P=o&&B?lu(B):{width:0,height:0},O=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:np(),A=O[K],L=O[J],V=ti(0,S[Y],P[Y]),W=y?S[Y]/2-k-V-A-R.mainAxis:M-V-A-R.mainAxis,Z=y?-S[Y]/2+k+V+L+R.mainAxis:D+V+L+R.mainAxis,ne=t.elements.arrow&&Di(t.elements.arrow),ie=ne?C==="y"?ne.clientTop||0:ne.clientLeft||0:0,U=(G=z==null?void 0:z[C])!=null?G:0,I=ee+W-U-ie,H=ee+Z-U,q=ti(o?Vo(N,I):N,ee,o?Fn(T,H):T);_[C]=q,$[C]=q-ee}if(h){var X,te=C==="x"?tt:nt,oe=C==="x"?mt:vt,fe=_[x],ae=x==="y"?"height":"width",Q=fe+u[te],le=fe-u[oe],de=[tt,nt].indexOf(p)!==-1,pe=(X=z==null?void 0:z[x])!=null?X:0,ce=de?Q:fe-S[ae]-b[ae]-pe+R.altAxis,ge=de?fe+S[ae]+b[ae]-pe-R.altAxis:le,ke=o&&de?fy(ce,fe,ge):ti(o?ce:Q,fe,o?ge:le);_[x]=ke,$[x]=ke-fe}t.modifiersData[a]=$}}const Hy={name:"preventOverflow",enabled:!0,phase:"main",fn:Wy,requiresIfExists:["offset"]};function Uy(e){return{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}}function Xy(e){return e===at(e)||!At(e)?cu(e):Uy(e)}function Yy(e){var t=e.getBoundingClientRect(),n=Cr(t.width)/e.offsetWidth||1,a=Cr(t.height)/e.offsetHeight||1;return n!==1||a!==1}function Vy(e,t,n){n===void 0&&(n=!1);var a=At(t),g=At(t)&&Yy(t),v=_n(t),w=wr(e,g,n),h={scrollLeft:0,scrollTop:0},r={x:0,y:0};return(a||!a&&!n)&&((yn(t)!=="body"||hu(v))&&(h=Xy(t)),At(t)?(r=wr(t,!0),r.x+=t.clientLeft,r.y+=t.clientTop):v&&(r.x=fu(v))),{x:w.left+h.scrollLeft-r.x,y:w.top+h.scrollTop-r.y,width:w.width,height:w.height}}function $y(e){var t=new Map,n=new Set,a=[];e.forEach(function(v){t.set(v.name,v)});function g(v){n.add(v.name);var w=[].concat(v.requires||[],v.requiresIfExists||[]);w.forEach(function(h){if(!n.has(h)){var r=t.get(h);r&&g(r)}}),a.push(v)}return e.forEach(function(v){n.has(v.name)||g(v)}),a}function Gy(e){var t=$y(e);return ly.reduce(function(n,a){return n.concat(t.filter(function(g){return g.phase===a}))},[])}function Ky(e){var t;return function(){return t||(t=new Promise(function(n){Promise.resolve().then(function(){t=void 0,n(e())})})),t}}function Qy(e){var t=e.reduce(function(n,a){var g=n[a.name];return n[a.name]=g?Object.assign({},g,a,{options:Object.assign({},g.options,a.options),data:Object.assign({},g.data,a.data)}):a,n},{});return Object.keys(t).map(function(n){return t[n]})}var Qc={placement:"bottom",modifiers:[],strategy:"absolute"};function qc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return!t.some(function(a){return!(a&&typeof a.getBoundingClientRect=="function")})}function qy(e){e===void 0&&(e={});var t=e,n=t.defaultModifiers,a=n===void 0?[]:n,g=t.defaultOptions,v=g===void 0?Qc:g;return function(h,r,c){c===void 0&&(c=v);var f={placement:"bottom",orderedModifiers:[],options:Object.assign({},Qc,v),modifiersData:{},elements:{reference:h,popper:r},attributes:{},styles:{}},i=[],s=!1,o={state:f,setOptions:function(p){var m=typeof p=="function"?p(f.options):p;d(),f.options=Object.assign({},v,f.options,m),f.scrollParents={reference:zn(h)?ni(h):h.contextElement?ni(h.contextElement):[],popper:ni(r)};var y=Gy(Qy([].concat(a,f.options.modifiers)));return f.orderedModifiers=y.filter(function(C){return C.enabled}),l(),o.update()},forceUpdate:function(){if(!s){var p=f.elements,m=p.reference,y=p.popper;if(qc(m,y)){f.rects={reference:Vy(m,Di(y),f.options.strategy==="fixed"),popper:lu(y)},f.reset=!1,f.placement=f.options.placement,f.orderedModifiers.forEach(function(R){return f.modifiersData[R.name]=Object.assign({},R.data)});for(var C=0;C<f.orderedModifiers.length;C++){if(f.reset===!0){f.reset=!1,C=-1;continue}var x=f.orderedModifiers[C],_=x.fn,S=x.options,b=S===void 0?{}:S,F=x.name;typeof _=="function"&&(f=_({state:f,options:b,name:F,instance:o})||f)}}}},update:Ky(function(){return new Promise(function(u){o.forceUpdate(),u(f)})}),destroy:function(){d(),s=!0}};if(!qc(h,r))return o;o.setOptions(c).then(function(u){!s&&c.onFirstUpdate&&c.onFirstUpdate(u)});function l(){f.orderedModifiers.forEach(function(u){var p=u.name,m=u.options,y=m===void 0?{}:m,C=u.effect;if(typeof C=="function"){var x=C({state:f,name:p,instance:o,options:y}),_=function(){};i.push(x||_)}})}function d(){i.forEach(function(u){return u()}),i=[]}return o}}const Jy=qy({defaultModifiers:[Fy,By,Cy,xy,Iy,Dy,Hy,gy]}),Zy=["enabled","placement","strategy","modifiers"];function eC(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}const tC={name:"applyStyles",enabled:!1,phase:"afterWrite",fn:()=>{}},nC={name:"ariaDescribedBy",enabled:!0,phase:"afterWrite",effect:({state:e})=>()=>{const{reference:t,popper:n}=e.elements;if("removeAttribute"in t){const a=(t.getAttribute("aria-describedby")||"").split(",").filter(g=>g.trim()!==n.id);a.length?t.setAttribute("aria-describedby",a.join(",")):t.removeAttribute("aria-describedby")}},fn:({state:e})=>{var t;const{popper:n,reference:a}=e.elements,g=(t=n.getAttribute("role"))==null?void 0:t.toLowerCase();if(n.id&&g==="tooltip"&&"setAttribute"in a){const v=a.getAttribute("aria-describedby");if(v&&v.split(",").indexOf(n.id)!==-1)return;a.setAttribute("aria-describedby",v?`${v},${n.id}`:n.id)}}},rC=[];function ap(e,t,n={}){let{enabled:a=!0,placement:g="bottom",strategy:v="absolute",modifiers:w=rC}=n,h=eC(n,Zy);const r=j.useRef(w),c=j.useRef(),f=j.useCallback(()=>{var u;(u=c.current)==null||u.update()},[]),i=j.useCallback(()=>{var u;(u=c.current)==null||u.forceUpdate()},[]),[s,o]=Q0(j.useState({placement:g,update:f,forceUpdate:i,attributes:{},styles:{popper:{},arrow:{}}})),l=j.useMemo(()=>({name:"updateStateModifier",enabled:!0,phase:"write",requires:["computeStyles"],fn:({state:u})=>{const p={},m={};Object.keys(u.elements).forEach(y=>{p[y]=u.styles[y],m[y]=u.attributes[y]}),o({state:u,styles:p,attributes:m,update:f,forceUpdate:i,placement:u.placement})}}),[f,i,o]),d=j.useMemo(()=>(ei(r.current,w)||(r.current=w),r.current),[w]);return j.useEffect(()=>{!c.current||!a||c.current.setOptions({placement:g,strategy:v,modifiers:[...d,l,tC]})},[v,g,l,a,d]),j.useEffect(()=>{if(!(!a||e==null||t==null))return c.current=Jy(e,t,Object.assign({},h,{placement:g,strategy:v,modifiers:[...d,nC,l]})),()=>{c.current!=null&&(c.current.destroy(),c.current=void 0,o(u=>Object.assign({},u,{attributes:{},styles:{popper:{}}})))}},[a,e,t]),s}function Si(e,t){if(e.contains)return e.contains(t);if(e.compareDocumentPosition)return e===t||!!(e.compareDocumentPosition(t)&16)}var iC=function(){},oC=iC;const sC=Ti(oC),Jc=()=>{};function aC(e){return e.button===0}function lC(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}const yo=e=>e&&("current"in e?e.current:e),Zc={click:"mousedown",mouseup:"mousedown",pointerup:"pointerdown"};function lp(e,t=Jc,{disabled:n,clickTrigger:a="click"}={}){const g=j.useRef(!1),v=j.useRef(!1),w=j.useCallback(c=>{const f=yo(e);sC(!!f,"ClickOutside captured a close event but does not have a ref to compare it to. useClickOutside(), should be passed a ref that resolves to a DOM node"),g.current=!f||lC(c)||!aC(c)||!!Si(f,c.target)||v.current,v.current=!1},[e]),h=Ee(c=>{const f=yo(e);f&&Si(f,c.target)&&(v.current=!0)}),r=Ee(c=>{g.current||t(c)});j.useEffect(()=>{var c,f;if(n||e==null)return;const i=Or(yo(e)),s=i.defaultView||window;let o=(c=s.event)!=null?c:(f=s.parent)==null?void 0:f.event,l=null;Zc[a]&&(l=zt(i,Zc[a],h,!0));const d=zt(i,a,w,!0),u=zt(i,a,m=>{if(m===o){o=void 0;return}r(m)});let p=[];return"ontouchstart"in i.documentElement&&(p=[].slice.call(i.body.children).map(m=>zt(m,"mousemove",Jc))),()=>{l==null||l(),d(),u(),p.forEach(m=>m())}},[e,n,a,w,h,r])}function uC(e){const t={};return Array.isArray(e)?(e==null||e.forEach(n=>{t[n.name]=n}),t):e||t}function cC(e={}){return Array.isArray(e)?e:Object.keys(e).map(t=>(e[t].name=t,e[t]))}function up({enabled:e,enableEvents:t,placement:n,flip:a,offset:g,fixed:v,containerPadding:w,arrowElement:h,popperConfig:r={}}){var c,f,i,s,o;const l=uC(r.modifiers);return Object.assign({},r,{placement:n,enabled:e,strategy:v?"fixed":r.strategy,modifiers:cC(Object.assign({},l,{eventListeners:{enabled:t,options:(c=l.eventListeners)==null?void 0:c.options},preventOverflow:Object.assign({},l.preventOverflow,{options:w?Object.assign({padding:w},(f=l.preventOverflow)==null?void 0:f.options):(i=l.preventOverflow)==null?void 0:i.options}),offset:{options:Object.assign({offset:g},(s=l.offset)==null?void 0:s.options)},arrow:Object.assign({},l.arrow,{enabled:!!h,options:Object.assign({},(o=l.arrow)==null?void 0:o.options,{element:h})}),flip:Object.assign({enabled:!!a},l.flip)}))})}const fC=["children","usePopper"];function hC(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}const dC=()=>{};function cp(e={}){const t=j.useContext(gs),[n,a]=Yo(),g=j.useRef(!1),{flip:v,offset:w,rootCloseEvent:h,fixed:r=!1,placement:c,popperConfig:f={},enableEventListeners:i=!0,usePopper:s=!!t}=e,o=(t==null?void 0:t.show)==null?!!e.show:t.show;o&&!g.current&&(g.current=!0);const l=_=>{t==null||t.toggle(!1,_)},{placement:d,setMenu:u,menuElement:p,toggleElement:m}=t||{},y=ap(m,p,up({placement:c||d||"bottom-start",enabled:s,enableEvents:i??o,offset:w,flip:v,fixed:r,arrowElement:n,popperConfig:f})),C=Object.assign({ref:u||dC,"aria-labelledby":m==null?void 0:m.id},y.attributes.popper,{style:y.styles.popper}),x={show:o,placement:d,hasShown:g.current,toggle:t==null?void 0:t.toggle,popper:s?y:null,arrowProps:s?Object.assign({ref:a},y.attributes.arrow,{style:y.styles.arrow}):{}};return lp(p,l,{clickTrigger:h,disabled:!o}),[C,x]}function fp(e){let{children:t,usePopper:n=!0}=e,a=hC(e,fC);const[g,v]=cp(Object.assign({},a,{usePopper:n}));return E.jsx(E.Fragment,{children:t(g,v)})}fp.displayName="DropdownMenu";const $o={prefix:String(Math.round(Math.random()*1e10)),current:0},hp=Ve.createContext($o),pC=Ve.createContext(!1);let gC=!!(typeof window<"u"&&window.document&&window.document.createElement),Gs=new WeakMap;function mC(e=!1){let t=j.useContext(hp),n=j.useRef(null);if(n.current===null&&!e){var a,g;let v=(g=Ve.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||g===void 0||(a=g.ReactCurrentOwner)===null||a===void 0?void 0:a.current;if(v){let w=Gs.get(v);w==null?Gs.set(v,{id:t.current,state:v.memoizedState}):v.memoizedState!==w.state&&(t.current=w.id,Gs.delete(v))}n.current=++t.current}return n.current}function vC(e){let t=j.useContext(hp);t===$o&&!gC&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=mC(!!e),a=`react-aria${t.prefix}`;return e||`${a}-${n}`}function yC(e){let t=Ve.useId(),[n]=j.useState(SC()),a=n?"react-aria":`react-aria${$o.prefix}`;return e||`${a}-${t}`}const CC=typeof Ve.useId=="function"?yC:vC;function wC(){return!1}function xC(){return!0}function _C(e){return()=>{}}function SC(){return typeof Ve.useSyncExternalStore=="function"?Ve.useSyncExternalStore(_C,wC,xC):j.useContext(pC)}const dp=e=>{var t;return((t=e.getAttribute("role"))==null?void 0:t.toLowerCase())==="menu"},ef=()=>{};function pp(){const e=CC(),{show:t=!1,toggle:n=ef,setToggle:a,menuElement:g}=j.useContext(gs)||{},v=j.useCallback(h=>{n(!t,h)},[t,n]),w={id:e,ref:a||ef,onClick:v,"aria-expanded":!!t};return g&&dp(g)&&(w["aria-haspopup"]=!0),[w,{show:t,toggle:n}]}function gp({children:e}){const[t,n]=pp();return E.jsx(E.Fragment,{children:e(t,n)})}gp.displayName="DropdownToggle";const el=j.createContext(null),tf=(e,t=null)=>e!=null?String(e):t||null,mp=j.createContext(null);mp.displayName="NavContext";const TC="data-rr-ui-";function du(e){return`${TC}${e}`}const OC=["eventKey","disabled","onClick","active","as"];function bC(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function vp({key:e,href:t,active:n,disabled:a,onClick:g}){const v=j.useContext(el),w=j.useContext(mp),{activeKey:h}=w||{},r=tf(e,t),c=n==null&&e!=null?tf(h)===r:n;return[{onClick:Ee(i=>{a||(g==null||g(i),v&&!i.isPropagationStopped()&&v(r,i))}),"aria-disabled":a||void 0,"aria-selected":c,[du("dropdown-item")]:""},{isActive:c}]}const yp=j.forwardRef((e,t)=>{let{eventKey:n,disabled:a,onClick:g,active:v,as:w=Id}=e,h=bC(e,OC);const[r]=vp({key:n,href:h.href,disabled:a,onClick:g,active:v});return E.jsx(w,Object.assign({},h,{ref:t},r))});yp.displayName="DropdownItem";const Cp=j.createContext(br?window:void 0);Cp.Provider;function vs(){return j.useContext(Cp)}function nf(){const e=K0(),t=j.useRef(null),n=j.useCallback(a=>{t.current=a,e()},[e]);return[t,n]}function Ai({defaultShow:e,show:t,onSelect:n,onToggle:a,itemSelector:g=`* [${du("dropdown-item")}]`,focusFirstItemOnShow:v,placement:w="bottom-start",children:h}){const r=vs(),[c,f]=G0(t,e,a),[i,s]=nf(),o=i.current,[l,d]=nf(),u=l.current,p=Ld(c),m=j.useRef(null),y=j.useRef(!1),C=j.useContext(el),x=j.useCallback((z,$,G=$==null?void 0:$.type)=>{f(z,{originalEvent:$,source:G})},[f]),_=Ee((z,$)=>{n==null||n(z,$),x(!1,$,"select"),$.isPropagationStopped()||C==null||C(z,$)}),S=j.useMemo(()=>({toggle:x,placement:w,show:c,menuElement:o,toggleElement:u,setMenu:s,setToggle:d}),[x,w,c,o,u,s,d]);o&&p&&!c&&(y.current=o.contains(o.ownerDocument.activeElement));const b=Ee(()=>{u&&u.focus&&u.focus()}),F=Ee(()=>{const z=m.current;let $=v;if($==null&&($=i.current&&dp(i.current)?"keyboard":!1),$===!1||$==="keyboard"&&!/^key.+$/.test(z))return;const G=en(i.current,g)[0];G&&G.focus&&G.focus()});j.useEffect(()=>{c?F():y.current&&(y.current=!1,b())},[c,y,b,F]),j.useEffect(()=>{m.current=null});const R=(z,$)=>{if(!i.current)return null;const G=en(i.current,g);let K=G.indexOf(z)+$;return K=Math.max(0,Math.min(K,G.length)),G[K]};return M0(j.useCallback(()=>r.document,[r]),"keydown",z=>{var $,G;const{key:K}=z,J=z.target,Y=($=i.current)==null?void 0:$.contains(J),ee=(G=l.current)==null?void 0:G.contains(J);if(/input|textarea/i.test(J.tagName)&&(K===" "||K!=="Escape"&&Y||K==="Escape"&&J.type==="search")||!Y&&!ee||K==="Tab"&&(!i.current||!c))return;m.current=z.type;const T={originalEvent:z,source:z.type};switch(K){case"ArrowUp":{const k=R(J,-1);k&&k.focus&&k.focus(),z.preventDefault();return}case"ArrowDown":if(z.preventDefault(),!c)f(!0,T);else{const k=R(J,1);k&&k.focus&&k.focus()}return;case"Tab":eu(J.ownerDocument,"keyup",k=>{var M;(k.key==="Tab"&&!k.target||!((M=i.current)!=null&&M.contains(k.target)))&&f(!1,T)},{once:!0});break;case"Escape":K==="Escape"&&(z.preventDefault(),z.stopPropagation()),f(!1,T);break}}),E.jsx(el.Provider,{value:_,children:E.jsx(gs.Provider,{value:S,children:h})})}Ai.displayName="Dropdown";Ai.Menu=fp;Ai.Toggle=gp;Ai.Item=yp;const pu=j.createContext({});pu.displayName="DropdownContext";const wp=j.forwardRef(({className:e,bsPrefix:t,as:n="hr",role:a="separator",...g},v)=>(t=he(t,"dropdown-divider"),E.jsx(n,{ref:v,className:ue(e,t),role:a,...g})));wp.displayName="DropdownDivider";const xp=j.forwardRef(({className:e,bsPrefix:t,as:n="div",role:a="heading",...g},v)=>(t=he(t,"dropdown-header"),E.jsx(n,{ref:v,className:ue(e,t),role:a,...g})));xp.displayName="DropdownHeader";const _p=j.forwardRef(({bsPrefix:e,className:t,eventKey:n,disabled:a=!1,onClick:g,active:v,as:w=Nd,...h},r)=>{const c=he(e,"dropdown-item"),[f,i]=vp({key:n,href:h.href,disabled:a,onClick:g,active:v});return E.jsx(w,{...h,...f,ref:r,className:ue(t,c,i.isActive&&"active",a&&"disabled")})});_p.displayName="DropdownItem";const Sp=j.forwardRef(({className:e,bsPrefix:t,as:n="span",...a},g)=>(t=he(t,"dropdown-item-text"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Sp.displayName="DropdownItemText";const gu=j.createContext(null);gu.displayName="InputGroupContext";const mu=j.createContext(null);mu.displayName="NavbarContext";function Tp(e,t){return e}function Op(e,t,n){const a=n?"top-end":"top-start",g=n?"top-start":"top-end",v=n?"bottom-end":"bottom-start",w=n?"bottom-start":"bottom-end",h=n?"right-start":"left-start",r=n?"right-end":"left-end",c=n?"left-start":"right-start",f=n?"left-end":"right-end";let i=e?w:v;return t==="up"?i=e?g:a:t==="end"?i=e?f:c:t==="start"?i=e?r:h:t==="down-centered"?i="bottom":t==="up-centered"&&(i="top"),i}const bp=j.forwardRef(({bsPrefix:e,className:t,align:n,rootCloseEvent:a,flip:g=!0,show:v,renderOnMount:w,as:h="div",popperConfig:r,variant:c,...f},i)=>{let s=!1;const o=j.useContext(mu),l=he(e,"dropdown-menu"),{align:d,drop:u,isRTL:p}=j.useContext(pu);n=n||d;const m=j.useContext(gu),y=[];if(n)if(typeof n=="object"){const z=Object.keys(n);if(z.length){const $=z[0],G=n[$];s=G==="start",y.push(`${l}-${$}-${G}`)}}else n==="end"&&(s=!0);const C=Op(s,u,p),[x,{hasShown:_,popper:S,show:b,toggle:F}]=cp({flip:g,rootCloseEvent:a,show:v,usePopper:!o&&y.length===0,offset:[0,2],popperConfig:r,placement:C});if(x.ref=Ft(Tp(i),x.ref),wi(()=>{b&&(S==null||S.update())},[b]),!_&&!w&&!m)return null;typeof h!="string"&&(x.show=b,x.close=()=>F==null?void 0:F(!1),x.align=n);let R=f.style;return S!=null&&S.placement&&(R={...f.style,...x.style},f["x-placement"]=S.placement),E.jsx(h,{...f,...x,style:R,...(y.length||o)&&{"data-bs-popper":"static"},className:ue(t,l,b&&"show",s&&`${l}-end`,c&&`${l}-${c}`,...y)})});bp.displayName="DropdownMenu";const Ep=j.forwardRef(({bsPrefix:e,split:t,className:n,childBsPrefix:a,as:g=Zt,...v},w)=>{const h=he(e,"dropdown-toggle"),r=j.useContext(gs);a!==void 0&&(v.bsPrefix=a);const[c]=pp();return c.ref=Ft(c.ref,Tp(w)),E.jsx(g,{className:ue(n,h,t&&`${h}-split`,(r==null?void 0:r.show)&&"show"),...c,...v})});Ep.displayName="DropdownToggle";const kp=j.forwardRef((e,t)=>{const{bsPrefix:n,drop:a="down",show:g,className:v,align:w="start",onSelect:h,onToggle:r,focusFirstItemOnShow:c,as:f="div",navbar:i,autoClose:s=!0,...o}=a0(e,{show:"onToggle"}),l=j.useContext(gu),d=he(n,"dropdown"),u=ds(),p=S=>s===!1?S==="click":s==="inside"?S!=="rootClose":s==="outside"?S!=="select":!0,m=Ee((S,b)=>{var F;!((F=b.originalEvent)==null||(F=F.target)==null)&&F.classList.contains("dropdown-toggle")&&b.source==="mousedown"||(b.originalEvent.currentTarget===document&&(b.source!=="keydown"||b.originalEvent.key==="Escape")&&(b.source="rootClose"),p(b.source)&&(r==null||r(S,b)))}),C=Op(w==="end",a,u),x=j.useMemo(()=>({align:w,drop:a,isRTL:u}),[w,a,u]),_={down:d,"down-centered":`${d}-center`,up:"dropup","up-centered":"dropup-center dropup",end:"dropend",start:"dropstart"};return E.jsx(pu.Provider,{value:x,children:E.jsx(Ai,{placement:C,show:g,onSelect:h,onToggle:m,focusFirstItemOnShow:c,itemSelector:`.${d}-item:not(.disabled):not(:disabled)`,children:l?o.children:E.jsx(f,{...o,ref:t,className:ue(v,g&&"show",_[a])})})})});kp.displayName="Dropdown";const We=Object.assign(kp,{Toggle:Ep,Menu:bp,Item:_p,ItemText:Sp,Divider:wp,Header:xp});Ye.string,Ye.bool,Ye.bool,Ye.bool,Ye.bool;const Pp=j.forwardRef(({bsPrefix:e,className:t,fluid:n=!1,rounded:a=!1,roundedCircle:g=!1,thumbnail:v=!1,...w},h)=>(e=he(e,"img"),E.jsx("img",{ref:h,...w,className:ue(t,n&&`${e}-fluid`,a&&"rounded",g&&"rounded-circle",v&&`${e}-thumbnail`)})));Pp.displayName="Image";const EC={type:Ye.string,tooltip:Ye.bool,as:Ye.elementType},ys=j.forwardRef(({as:e="div",className:t,type:n="valid",tooltip:a=!1,...g},v)=>E.jsx(e,{...g,ref:v,className:ue(t,`${n}-${a?"tooltip":"feedback"}`)}));ys.displayName="Feedback";ys.propTypes=EC;const $t=j.createContext({}),vu=j.forwardRef(({id:e,bsPrefix:t,className:n,type:a="checkbox",isValid:g=!1,isInvalid:v=!1,as:w="input",...h},r)=>{const{controlId:c}=j.useContext($t);return t=he(t,"form-check-input"),E.jsx(w,{...h,ref:r,type:a,id:e||c,className:ue(n,t,g&&"is-valid",v&&"is-invalid")})});vu.displayName="FormCheckInput";const Go=j.forwardRef(({bsPrefix:e,className:t,htmlFor:n,...a},g)=>{const{controlId:v}=j.useContext($t);return e=he(e,"form-check-label"),E.jsx("label",{...a,ref:g,htmlFor:n||v,className:ue(t,e)})});Go.displayName="FormCheckLabel";const Mp=j.forwardRef(({id:e,bsPrefix:t,bsSwitchPrefix:n,inline:a=!1,reverse:g=!1,disabled:v=!1,isValid:w=!1,isInvalid:h=!1,feedbackTooltip:r=!1,feedback:c,feedbackType:f,className:i,style:s,title:o="",type:l="checkbox",label:d,children:u,as:p="input",...m},y)=>{t=he(t,"form-check"),n=he(n,"form-switch");const{controlId:C}=j.useContext($t),x=j.useMemo(()=>({controlId:e||C}),[C,e]),_=!u&&d!=null&&d!==!1||Y0(u,Go),S=E.jsx(vu,{...m,type:l==="switch"?"checkbox":l,ref:y,isValid:w,isInvalid:h,disabled:v,as:p});return E.jsx($t.Provider,{value:x,children:E.jsx("div",{style:s,className:ue(i,_&&t,a&&`${t}-inline`,g&&`${t}-reverse`,l==="switch"&&n),children:u||E.jsxs(E.Fragment,{children:[S,_&&E.jsx(Go,{title:o,children:d}),c&&E.jsx(ys,{type:f,tooltip:r,children:c})]})})})});Mp.displayName="FormCheck";const Ko=Object.assign(Mp,{Input:vu,Label:Go}),jp=j.forwardRef(({bsPrefix:e,type:t,size:n,htmlSize:a,id:g,className:v,isValid:w=!1,isInvalid:h=!1,plaintext:r,readOnly:c,as:f="input",...i},s)=>{const{controlId:o}=j.useContext($t);return e=he(e,"form-control"),E.jsx(f,{...i,type:t,size:a,ref:s,readOnly:c,id:g||o,className:ue(v,r?`${e}-plaintext`:e,n&&`${e}-${n}`,t==="color"&&`${e}-color`,w&&"is-valid",h&&"is-invalid")})});jp.displayName="FormControl";const kC=Object.assign(jp,{Feedback:ys}),Dp=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"form-floating"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Dp.displayName="FormFloating";const yu=j.forwardRef(({controlId:e,as:t="div",...n},a)=>{const g=j.useMemo(()=>({controlId:e}),[e]);return E.jsx($t.Provider,{value:g,children:E.jsx(t,{...n,ref:a})})});yu.displayName="FormGroup";const Ap=j.forwardRef(({as:e="label",bsPrefix:t,column:n=!1,visuallyHidden:a=!1,className:g,htmlFor:v,...w},h)=>{const{controlId:r}=j.useContext($t);t=he(t,"form-label");let c="col-form-label";typeof n=="string"&&(c=`${c} ${c}-${n}`);const f=ue(g,t,a&&"visually-hidden",n&&c);return v=v||r,n?E.jsx(Zr,{ref:h,as:"label",className:f,htmlFor:v,...w}):E.jsx(e,{ref:h,className:f,htmlFor:v,...w})});Ap.displayName="FormLabel";const Fp=j.forwardRef(({bsPrefix:e,className:t,id:n,...a},g)=>{const{controlId:v}=j.useContext($t);return e=he(e,"form-range"),E.jsx("input",{...a,type:"range",ref:g,className:ue(t,e),id:n||v})});Fp.displayName="FormRange";const Rp=j.forwardRef(({bsPrefix:e,size:t,htmlSize:n,className:a,isValid:g=!1,isInvalid:v=!1,id:w,...h},r)=>{const{controlId:c}=j.useContext($t);return e=he(e,"form-select"),E.jsx("select",{...h,size:n,ref:r,className:ue(a,e,t&&`${e}-${t}`,g&&"is-valid",v&&"is-invalid"),id:w||c})});Rp.displayName="FormSelect";const Lp=j.forwardRef(({bsPrefix:e,className:t,as:n="small",muted:a,...g},v)=>(e=he(e,"form-text"),E.jsx(n,{...g,ref:v,className:ue(t,e,a&&"text-muted")})));Lp.displayName="FormText";const Ip=j.forwardRef((e,t)=>E.jsx(Ko,{...e,ref:t,type:"switch"}));Ip.displayName="Switch";const PC=Object.assign(Ip,{Input:Ko.Input,Label:Ko.Label}),Np=j.forwardRef(({bsPrefix:e,className:t,children:n,controlId:a,label:g,...v},w)=>(e=he(e,"form-floating"),E.jsxs(yu,{ref:w,className:ue(t,e),controlId:a,...v,children:[n,E.jsx("label",{htmlFor:a,children:g})]})));Np.displayName="FloatingLabel";const MC={_ref:Ye.any,validated:Ye.bool,as:Ye.elementType},Cu=j.forwardRef(({className:e,validated:t,as:n="form",...a},g)=>E.jsx(n,{...a,ref:g,className:ue(e,t&&"was-validated")}));Cu.displayName="Form";Cu.propTypes=MC;const eo=Object.assign(Cu,{Group:yu,Control:kC,Floating:Dp,Check:Ko,Switch:PC,Label:Ap,Text:Lp,Range:Fp,Select:Rp,FloatingLabel:Np});var to;function rf(e){if((!to&&to!==0||e)&&br){var t=document.createElement("div");t.style.position="absolute",t.style.top="-9999px",t.style.width="50px",t.style.height="50px",t.style.overflow="scroll",document.body.appendChild(t),to=t.offsetWidth-t.clientWidth,document.body.removeChild(t)}return to}function Ks(e){e===void 0&&(e=Or());try{var t=e.activeElement;return!t||!t.nodeName?null:t}catch{return e.body}}function jC(e=document){const t=e.defaultView;return Math.abs(t.innerWidth-e.documentElement.clientWidth)}const of=du("modal-open");class wu{constructor({ownerDocument:t,handleContainerOverflow:n=!0,isRTL:a=!1}={}){this.handleContainerOverflow=n,this.isRTL=a,this.modals=[],this.ownerDocument=t}getScrollbarWidth(){return jC(this.ownerDocument)}getElement(){return(this.ownerDocument||document).body}setModalAttributes(t){}removeModalAttributes(t){}setContainerStyle(t){const n={overflow:"hidden"},a=this.isRTL?"paddingLeft":"paddingRight",g=this.getElement();t.style={overflow:g.style.overflow,[a]:g.style[a]},t.scrollBarWidth&&(n[a]=`${parseInt(An(g,a)||"0",10)+t.scrollBarWidth}px`),g.setAttribute(of,""),An(g,n)}reset(){[...this.modals].forEach(t=>this.remove(t))}removeContainerStyle(t){const n=this.getElement();n.removeAttribute(of),Object.assign(n.style,t.style)}add(t){let n=this.modals.indexOf(t);return n!==-1||(n=this.modals.length,this.modals.push(t),this.setModalAttributes(t),n!==0)||(this.state={scrollBarWidth:this.getScrollbarWidth(),style:{}},this.handleContainerOverflow&&this.setContainerStyle(this.state)),n}remove(t){const n=this.modals.indexOf(t);n!==-1&&(this.modals.splice(n,1),!this.modals.length&&this.handleContainerOverflow&&this.removeContainerStyle(this.state),this.removeModalAttributes(t))}isTopModal(t){return!!this.modals.length&&this.modals[this.modals.length-1]===t}}const Qs=(e,t)=>br?e==null?(t||Or()).body:(typeof e=="function"&&(e=e()),e&&"current"in e&&(e=e.current),e&&("nodeType"in e||e.getBoundingClientRect)?e:null):null;function tl(e,t){const n=vs(),[a,g]=j.useState(()=>Qs(e,n==null?void 0:n.document));if(!a){const v=Qs(e);v&&g(v)}return j.useEffect(()=>{},[t,a]),j.useEffect(()=>{const v=Qs(e);v!==a&&g(v)},[e,a]),a}function DC({children:e,in:t,onExited:n,mountOnEnter:a,unmountOnExit:g}){const v=j.useRef(null),w=j.useRef(t),h=Ee(n);j.useEffect(()=>{t?w.current=!0:h(v.current)},[t,h]);const r=Ft(v,e.ref),c=j.cloneElement(e,{ref:r});return t?c:g||!w.current&&a?null:c}function Bp(e){return e.code==="Escape"||e.keyCode===27}function AC(){const e=j.version.split(".");return{major:+e[0],minor:+e[1],patch:+e[2]}}const FC=["onEnter","onEntering","onEntered","onExit","onExiting","onExited","addEndListener","children"];function RC(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}function LC(e){let{onEnter:t,onEntering:n,onEntered:a,onExit:g,onExiting:v,onExited:w,addEndListener:h,children:r}=e,c=RC(e,FC);const{major:f}=AC(),i=f>=19?r.props.ref:r.ref,s=j.useRef(null),o=Ft(s,typeof r=="function"?null:i),l=_=>S=>{_&&s.current&&_(s.current,S)},d=j.useCallback(l(t),[t]),u=j.useCallback(l(n),[n]),p=j.useCallback(l(a),[a]),m=j.useCallback(l(g),[g]),y=j.useCallback(l(v),[v]),C=j.useCallback(l(w),[w]),x=j.useCallback(l(h),[h]);return Object.assign({},c,{nodeRef:s},t&&{onEnter:d},n&&{onEntering:u},a&&{onEntered:p},g&&{onExit:m},v&&{onExiting:y},w&&{onExited:C},h&&{addEndListener:x},{children:typeof r=="function"?(_,S)=>r(_,Object.assign({},S,{ref:o})):j.cloneElement(r,{ref:o})})}const IC=["component"];function NC(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}const BC=j.forwardRef((e,t)=>{let{component:n}=e,a=NC(e,IC);const g=LC(a);return E.jsx(n,Object.assign({ref:t},g))});function zC({in:e,onTransition:t}){const n=j.useRef(null),a=j.useRef(!0),g=Ee(t);return wi(()=>{if(!n.current)return;let v=!1;return g({in:e,element:n.current,initial:a.current,isStale:()=>v}),()=>{v=!0}},[e,g]),wi(()=>(a.current=!1,()=>{a.current=!0}),[]),n}function WC({children:e,in:t,onExited:n,onEntered:a,transition:g}){const[v,w]=j.useState(!t);t&&v&&w(!1);const h=zC({in:!!t,onTransition:c=>{const f=()=>{c.isStale()||(c.in?a==null||a(c.element,c.initial):(w(!0),n==null||n(c.element)))};Promise.resolve(g(c)).then(f,i=>{throw c.in||w(!0),i})}}),r=Ft(h,e.ref);return v&&!t?null:j.cloneElement(e,{ref:r})}function nl(e,t,n){return e?E.jsx(BC,Object.assign({},n,{component:e})):t?E.jsx(WC,Object.assign({},n,{transition:t})):E.jsx(DC,Object.assign({},n))}const HC=["show","role","className","style","children","backdrop","keyboard","onBackdropClick","onEscapeKeyDown","transition","runTransition","backdropTransition","runBackdropTransition","autoFocus","enforceFocus","restoreFocus","restoreFocusOptions","renderDialog","renderBackdrop","manager","container","onShow","onHide","onExit","onExited","onExiting","onEnter","onEntering","onEntered"];function UC(e,t){if(e==null)return{};var n={};for(var a in e)if({}.hasOwnProperty.call(e,a)){if(t.indexOf(a)>=0)continue;n[a]=e[a]}return n}let qs;function XC(e){return qs||(qs=new wu({ownerDocument:e==null?void 0:e.document})),qs}function YC(e){const t=vs(),n=e||XC(t),a=j.useRef({dialog:null,backdrop:null});return Object.assign(a.current,{add:()=>n.add(a.current),remove:()=>n.remove(a.current),isTopModal:()=>n.isTopModal(a.current),setDialogRef:j.useCallback(g=>{a.current.dialog=g},[]),setBackdropRef:j.useCallback(g=>{a.current.backdrop=g},[])})}const zp=j.forwardRef((e,t)=>{let{show:n=!1,role:a="dialog",className:g,style:v,children:w,backdrop:h=!0,keyboard:r=!0,onBackdropClick:c,onEscapeKeyDown:f,transition:i,runTransition:s,backdropTransition:o,runBackdropTransition:l,autoFocus:d=!0,enforceFocus:u=!0,restoreFocus:p=!0,restoreFocusOptions:m,renderDialog:y,renderBackdrop:C=H=>E.jsx("div",Object.assign({},H)),manager:x,container:_,onShow:S,onHide:b=()=>{},onExit:F,onExited:R,onExiting:z,onEnter:$,onEntering:G,onEntered:K}=e,J=UC(e,HC);const Y=vs(),ee=tl(_),N=YC(x),T=tu(),k=Ld(n),[M,D]=j.useState(!n),B=j.useRef(null);j.useImperativeHandle(t,()=>N,[N]),br&&!k&&n&&(B.current=Ks(Y==null?void 0:Y.document)),n&&M&&D(!1);const P=Ee(()=>{if(N.add(),Z.current=zt(document,"keydown",V),W.current=zt(document,"focus",()=>setTimeout(A),!0),S&&S(),d){var H,q;const X=Ks((H=(q=N.dialog)==null?void 0:q.ownerDocument)!=null?H:Y==null?void 0:Y.document);N.dialog&&X&&!Si(N.dialog,X)&&(B.current=X,N.dialog.focus())}}),O=Ee(()=>{if(N.remove(),Z.current==null||Z.current(),W.current==null||W.current(),p){var H;(H=B.current)==null||H.focus==null||H.focus(m),B.current=null}});j.useEffect(()=>{!n||!ee||P()},[n,ee,P]),j.useEffect(()=>{M&&O()},[M,O]),ou(()=>{O()});const A=Ee(()=>{if(!u||!T()||!N.isTopModal())return;const H=Ks(Y==null?void 0:Y.document);N.dialog&&H&&!Si(N.dialog,H)&&N.dialog.focus()}),L=Ee(H=>{H.target===H.currentTarget&&(c==null||c(H),h===!0&&b())}),V=Ee(H=>{r&&Bp(H)&&N.isTopModal()&&(f==null||f(H),H.defaultPrevented||b())}),W=j.useRef(),Z=j.useRef(),ne=(...H)=>{D(!0),R==null||R(...H)};if(!ee)return null;const ie=Object.assign({role:a,ref:N.setDialogRef,"aria-modal":a==="dialog"?!0:void 0},J,{style:v,className:g,tabIndex:-1});let U=y?y(ie):E.jsx("div",Object.assign({},ie,{children:j.cloneElement(w,{role:"document"})}));U=nl(i,s,{unmountOnExit:!0,mountOnEnter:!0,appear:!0,in:!!n,onExit:F,onExiting:z,onExited:ne,onEnter:$,onEntering:G,onEntered:K,children:U});let I=null;return h&&(I=C({ref:N.setBackdropRef,onClick:L}),I=nl(o,l,{in:!!n,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:I})),E.jsx(E.Fragment,{children:Mn.createPortal(E.jsxs(E.Fragment,{children:[I,U]}),ee)})});zp.displayName="Modal";const Wp=Object.assign(zp,{Manager:wu});function rl(e,t){return e.classList?!!t&&e.classList.contains(t):(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")!==-1}function VC(e,t){e.classList?e.classList.add(t):rl(e,t)||(typeof e.className=="string"?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))}function sf(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}function $C(e,t){e.classList?e.classList.remove(t):typeof e.className=="string"?e.className=sf(e.className,t):e.setAttribute("class",sf(e.className&&e.className.baseVal||"",t))}const Yn={FIXED_CONTENT:".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",STICKY_CONTENT:".sticky-top",NAVBAR_TOGGLER:".navbar-toggler"};class Hp extends wu{adjustAndStore(t,n,a){const g=n.style[t];n.dataset[t]=g,An(n,{[t]:`${parseFloat(An(n,t))+a}px`})}restore(t,n){const a=n.dataset[t];a!==void 0&&(delete n.dataset[t],An(n,{[t]:a}))}setContainerStyle(t){super.setContainerStyle(t);const n=this.getElement();if(VC(n,"modal-open"),!t.scrollBarWidth)return;const a=this.isRTL?"paddingLeft":"paddingRight",g=this.isRTL?"marginLeft":"marginRight";en(n,Yn.FIXED_CONTENT).forEach(v=>this.adjustAndStore(a,v,t.scrollBarWidth)),en(n,Yn.STICKY_CONTENT).forEach(v=>this.adjustAndStore(g,v,-t.scrollBarWidth)),en(n,Yn.NAVBAR_TOGGLER).forEach(v=>this.adjustAndStore(g,v,t.scrollBarWidth))}removeContainerStyle(t){super.removeContainerStyle(t);const n=this.getElement();$C(n,"modal-open");const a=this.isRTL?"paddingLeft":"paddingRight",g=this.isRTL?"marginLeft":"marginRight";en(n,Yn.FIXED_CONTENT).forEach(v=>this.restore(a,v)),en(n,Yn.STICKY_CONTENT).forEach(v=>this.restore(g,v)),en(n,Yn.NAVBAR_TOGGLER).forEach(v=>this.restore(g,v))}}let Js;function Up(e){return Js||(Js=new Hp(e)),Js}const GC=Hp,Xp=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"modal-body"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Xp.displayName="ModalBody";const xu=j.createContext({onHide(){}}),_u=j.forwardRef(({bsPrefix:e,className:t,contentClassName:n,centered:a,size:g,fullscreen:v,children:w,scrollable:h,...r},c)=>{e=he(e,"modal");const f=`${e}-dialog`,i=typeof v=="string"?`${e}-fullscreen-${v}`:`${e}-fullscreen`;return E.jsx("div",{...r,ref:c,className:ue(f,t,g&&`${e}-${g}`,a&&`${f}-centered`,h&&`${f}-scrollable`,v&&i),children:E.jsx("div",{className:ue(`${e}-content`,n),children:w})})});_u.displayName="ModalDialog";const Yp=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"modal-footer"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Yp.displayName="ModalFooter";const Vp=j.forwardRef(({closeLabel:e="Close",closeVariant:t,closeButton:n=!1,onHide:a,children:g,...v},w)=>{const h=j.useContext(xu),r=Ee(()=>{h==null||h.onHide(),a==null||a()});return E.jsxs("div",{ref:w,...v,children:[g,n&&E.jsx(ru,{"aria-label":e,variant:t,onClick:r})]})}),$p=j.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:a=!1,...g},v)=>(e=he(e,"modal-header"),E.jsx(Vp,{ref:v,...g,className:ue(t,e),closeLabel:n,closeButton:a})));$p.displayName="ModalHeader";const KC=ps("h4"),Gp=j.forwardRef(({className:e,bsPrefix:t,as:n=KC,...a},g)=>(t=he(t,"modal-title"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Gp.displayName="ModalTitle";function QC(e){return E.jsx(vr,{...e,timeout:null})}function qC(e){return E.jsx(vr,{...e,timeout:null})}const Kp=j.forwardRef(({bsPrefix:e,className:t,style:n,dialogClassName:a,contentClassName:g,children:v,dialogAs:w=_u,"data-bs-theme":h,"aria-labelledby":r,"aria-describedby":c,"aria-label":f,show:i=!1,animation:s=!0,backdrop:o=!0,keyboard:l=!0,onEscapeKeyDown:d,onShow:u,onHide:p,container:m,autoFocus:y=!0,enforceFocus:C=!0,restoreFocus:x=!0,restoreFocusOptions:_,onEntered:S,onExit:b,onExiting:F,onEnter:R,onEntering:z,onExited:$,backdropClassName:G,manager:K,...J},Y)=>{const[ee,N]=j.useState({}),[T,k]=j.useState(!1),M=j.useRef(!1),D=j.useRef(!1),B=j.useRef(null),[P,O]=Yo(),A=Ft(Y,O),L=Ee(p),V=ds();e=he(e,"modal");const W=j.useMemo(()=>({onHide:L}),[L]);function Z(){return K||Up({isRTL:V})}function ne(ce){if(!br)return;const ge=Z().getScrollbarWidth()>0,ke=ce.scrollHeight>Or(ce).documentElement.clientHeight;N({paddingRight:ge&&!ke?rf():void 0,paddingLeft:!ge&&ke?rf():void 0})}const ie=Ee(()=>{P&&ne(P.dialog)});ou(()=>{Qa(window,"resize",ie),B.current==null||B.current()});const U=()=>{M.current=!0},I=ce=>{M.current&&P&&ce.target===P.dialog&&(D.current=!0),M.current=!1},H=()=>{k(!0),B.current=Ad(P.dialog,()=>{k(!1)})},q=ce=>{ce.target===ce.currentTarget&&H()},X=ce=>{if(o==="static"){q(ce);return}if(D.current||ce.target!==ce.currentTarget){D.current=!1;return}p==null||p()},te=ce=>{l?d==null||d(ce):(ce.preventDefault(),o==="static"&&H())},oe=(ce,ge)=>{ce&&ne(ce),R==null||R(ce,ge)},fe=ce=>{B.current==null||B.current(),b==null||b(ce)},ae=(ce,ge)=>{z==null||z(ce,ge),eu(window,"resize",ie)},Q=ce=>{ce&&(ce.style.display=""),$==null||$(ce),Qa(window,"resize",ie)},le=j.useCallback(ce=>E.jsx("div",{...ce,className:ue(`${e}-backdrop`,G,!s&&"show")}),[s,G,e]),de={...n,...ee};de.display="block";const pe=ce=>E.jsx("div",{role:"dialog",...ce,style:de,className:ue(t,e,T&&`${e}-static`,!s&&"show"),onClick:o?X:void 0,onMouseUp:I,"data-bs-theme":h,"aria-label":f,"aria-labelledby":r,"aria-describedby":c,children:E.jsx(w,{...J,onMouseDown:U,className:a,contentClassName:g,children:v})});return E.jsx(xu.Provider,{value:W,children:E.jsx(Wp,{show:i,ref:A,backdrop:o,container:m,keyboard:!0,autoFocus:y,enforceFocus:C,restoreFocus:x,restoreFocusOptions:_,onEscapeKeyDown:te,onShow:u,onHide:p,onEnter:oe,onEntering:ae,onEntered:S,onExit:fe,onExiting:F,onExited:Q,manager:Z(),transition:s?QC:void 0,backdropTransition:s?qC:void 0,renderBackdrop:le,renderDialog:pe})})});Kp.displayName="Modal";const Nr=Object.assign(Kp,{Body:Xp,Header:$p,Title:Gp,Footer:Yp,Dialog:_u,TRANSITION_DURATION:300,BACKDROP_TRANSITION_DURATION:150}),il=new WeakMap,af=(e,t)=>{if(!e||!t)return;const n=il.get(t)||new Map;il.set(t,n);let a=n.get(e);return a||(a=t.matchMedia(e),a.refCount=0,n.set(a.media,a)),a};function JC(e,t=typeof window>"u"?void 0:window){const n=af(e,t),[a,g]=j.useState(()=>n?n.matches:!1);return wi(()=>{let v=af(e,t);if(!v)return g(!1);let w=il.get(t);const h=()=>{g(v.matches)};return v.refCount++,v.addListener(h),h(),()=>{v.removeListener(h),v.refCount--,v.refCount<=0&&(w==null||w.delete(v.media)),v=void 0}},[e]),a}function ZC(e){const t=Object.keys(e);function n(h,r){return h===r?r:h?`${h} and ${r}`:r}function a(h){return t[Math.min(t.indexOf(h)+1,t.length-1)]}function g(h){const r=a(h);let c=e[r];return typeof c=="number"?c=`${c-.2}px`:c=`calc(${c} - 0.2px)`,`(max-width: ${c})`}function v(h){let r=e[h];return typeof r=="number"&&(r=`${r}px`),`(min-width: ${r})`}function w(h,r,c){let f;typeof h=="object"?(f=h,c=r,r=!0):(r=r||!0,f={[h]:r});let i=j.useMemo(()=>Object.entries(f).reduce((s,[o,l])=>((l==="up"||l===!0)&&(s=n(s,v(o))),(l==="down"||l===!0)&&(s=n(s,g(o))),s),""),[JSON.stringify(f)]);return JC(i,c)}return w}const ew=ZC({xs:0,sm:576,md:768,lg:992,xl:1200,xxl:1400}),Qp=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"offcanvas-body"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Qp.displayName="OffcanvasBody";const tw={[kt]:"show",[rn]:"show"},qp=j.forwardRef(({bsPrefix:e,className:t,children:n,in:a=!1,mountOnEnter:g=!1,unmountOnExit:v=!1,appear:w=!1,...h},r)=>(e=he(e,"offcanvas"),E.jsx(Rd,{ref:r,addEndListener:Fd,in:a,mountOnEnter:g,unmountOnExit:v,appear:w,...h,childRef:n.ref,children:(c,f)=>j.cloneElement(n,{...f,className:ue(t,n.props.className,(c===kt||c===Uo)&&`${e}-toggling`,tw[c])})})));qp.displayName="OffcanvasToggling";const Jp=j.forwardRef(({bsPrefix:e,className:t,closeLabel:n="Close",closeButton:a=!1,...g},v)=>(e=he(e,"offcanvas-header"),E.jsx(Vp,{ref:v,...g,className:ue(t,e),closeLabel:n,closeButton:a})));Jp.displayName="OffcanvasHeader";const nw=ps("h5"),Zp=j.forwardRef(({className:e,bsPrefix:t,as:n=nw,...a},g)=>(t=he(t,"offcanvas-title"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Zp.displayName="OffcanvasTitle";function rw(e){return E.jsx(qp,{...e})}function iw(e){return E.jsx(vr,{...e})}const eg=j.forwardRef(({bsPrefix:e,className:t,children:n,"aria-labelledby":a,placement:g="start",responsive:v,show:w=!1,backdrop:h=!0,keyboard:r=!0,scroll:c=!1,onEscapeKeyDown:f,onShow:i,onHide:s,container:o,autoFocus:l=!0,enforceFocus:d=!0,restoreFocus:u=!0,restoreFocusOptions:p,onEntered:m,onExit:y,onExiting:C,onEnter:x,onEntering:_,onExited:S,backdropClassName:b,manager:F,renderStaticNode:R=!1,...z},$)=>{const G=j.useRef();e=he(e,"offcanvas");const{onToggle:K}=j.useContext(mu)||{},[J,Y]=j.useState(!1),ee=ew(v||"xs","up");j.useEffect(()=>{Y(v?w&&!ee:w)},[w,v,ee]);const N=Ee(()=>{K==null||K(),s==null||s()}),T=j.useMemo(()=>({onHide:N}),[N]);function k(){return F||(c?(G.current||(G.current=new GC({handleContainerOverflow:!1})),G.current):Up())}const M=(O,...A)=>{O&&(O.style.visibility="visible"),x==null||x(O,...A)},D=(O,...A)=>{O&&(O.style.visibility=""),S==null||S(...A)},B=j.useCallback(O=>E.jsx("div",{...O,className:ue(`${e}-backdrop`,b)}),[b,e]),P=O=>E.jsx("div",{...O,...z,className:ue(t,v?`${e}-${v}`:e,`${e}-${g}`),"aria-labelledby":a,children:n});return E.jsxs(E.Fragment,{children:[!J&&(v||R)&&P({}),E.jsx(xu.Provider,{value:T,children:E.jsx(Wp,{show:J,ref:$,backdrop:h,container:o,keyboard:r,autoFocus:l,enforceFocus:d&&!c,restoreFocus:u,restoreFocusOptions:p,onEscapeKeyDown:f,onShow:i,onHide:N,onEnter:M,onEntering:_,onEntered:m,onExit:y,onExiting:C,onExited:D,manager:k(),transition:rw,backdropTransition:iw,renderBackdrop:B,renderDialog:P})})]})});eg.displayName="Offcanvas";const no=Object.assign(eg,{Body:Qp,Header:Jp,Title:Zp}),ow=()=>{};function sw(e,t,{disabled:n,clickTrigger:a}={}){const g=t||ow;lp(e,g,{disabled:n,clickTrigger:a});const v=Ee(w=>{Bp(w)&&g(w)});j.useEffect(()=>{if(n||e==null)return;const w=Or(yo(e));let h=(w.defaultView||window).event;const r=zt(w,"keyup",c=>{if(c===h){h=void 0;return}v(c)});return()=>{r()}},[e,n,v])}const tg=j.forwardRef((e,t)=>{const{flip:n,offset:a,placement:g,containerPadding:v,popperConfig:w={},transition:h,runTransition:r}=e,[c,f]=Yo(),[i,s]=Yo(),o=Ft(f,t),l=tl(e.container),d=tl(e.target),[u,p]=j.useState(!e.show),m=ap(d,c,up({placement:g,enableEvents:!!e.show,containerPadding:v||5,flip:n,offset:a,arrowElement:i,popperConfig:w}));e.show&&u&&p(!1);const y=(...z)=>{p(!0),e.onExited&&e.onExited(...z)},C=e.show||!u;if(sw(c,e.onHide,{disabled:!e.rootClose||e.rootCloseDisabled,clickTrigger:e.rootCloseEvent}),!C)return null;const{onExit:x,onExiting:_,onEnter:S,onEntering:b,onEntered:F}=e;let R=e.children(Object.assign({},m.attributes.popper,{style:m.styles.popper,ref:o}),{popper:m,placement:g,show:!!e.show,arrowProps:Object.assign({},m.attributes.arrow,{style:m.styles.arrow,ref:s})});return R=nl(h,r,{in:!!e.show,appear:!0,mountOnEnter:!0,unmountOnExit:!0,children:R,onExit:x,onExiting:_,onExited:y,onEnter:S,onEntering:b,onEntered:F}),l?Mn.createPortal(R,l):null});tg.displayName="Overlay";const ng=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"popover-header"),E.jsx(n,{ref:g,className:ue(e,t),...a})));ng.displayName="PopoverHeader";const Su=j.forwardRef(({className:e,bsPrefix:t,as:n="div",...a},g)=>(t=he(t,"popover-body"),E.jsx(n,{ref:g,className:ue(e,t),...a})));Su.displayName="PopoverBody";function rg(e,t){let n=e;return e==="left"?n=t?"end":"start":e==="right"&&(n=t?"start":"end"),n}function ig(e="absolute"){return{position:e,top:"0",left:"0",opacity:"0",pointerEvents:"none"}}const aw=j.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:a,children:g,body:v,arrowProps:w,hasDoneInitialMeasure:h,popper:r,show:c,...f},i)=>{const s=he(e,"popover"),o=ds(),[l]=(t==null?void 0:t.split("-"))||[],d=rg(l,o);let u=a;return c&&!h&&(u={...a,...ig(r==null?void 0:r.strategy)}),E.jsxs("div",{ref:i,role:"tooltip",style:u,"x-placement":l,className:ue(n,s,l&&`bs-popover-${d}`),...f,children:[E.jsx("div",{className:"popover-arrow",...w}),v?E.jsx(Su,{children:g}):g]})}),lw=Object.assign(aw,{Header:ng,Body:Su,POPPER_OFFSET:[0,8]}),og=j.forwardRef(({bsPrefix:e,placement:t="right",className:n,style:a,children:g,arrowProps:v,hasDoneInitialMeasure:w,popper:h,show:r,...c},f)=>{e=he(e,"tooltip");const i=ds(),[s]=(t==null?void 0:t.split("-"))||[],o=rg(s,i);let l=a;return r&&!w&&(l={...a,...ig(h==null?void 0:h.strategy)}),E.jsxs("div",{ref:f,style:l,role:"tooltip","x-placement":s,className:ue(n,e,`bs-tooltip-${o}`),...c,children:[E.jsx("div",{className:"tooltip-arrow",...v}),E.jsx("div",{className:`${e}-inner`,children:g})]})});og.displayName="Tooltip";const sg=Object.assign(og,{TOOLTIP_OFFSET:[0,6]});function uw(e){const t=j.useRef(null),n=he(void 0,"popover"),a=he(void 0,"tooltip"),g=j.useMemo(()=>({name:"offset",options:{offset:()=>{if(e)return e;if(t.current){if(rl(t.current,n))return lw.POPPER_OFFSET;if(rl(t.current,a))return sg.TOOLTIP_OFFSET}return[0,0]}}}),[e,n,a]);return[t,[g]]}function cw(e,t){const{ref:n}=e,{ref:a}=t;e.ref=n.__wrapped||(n.__wrapped=g=>n(Xo(g))),t.ref=a.__wrapped||(a.__wrapped=g=>a(Xo(g)))}const ag=j.forwardRef(({children:e,transition:t=vr,popperConfig:n={},rootClose:a=!1,placement:g="top",show:v=!1,...w},h)=>{const r=j.useRef({}),[c,f]=j.useState(null),[i,s]=uw(w.offset),o=Ft(h,i),l=t===!0?vr:t||void 0,d=Ee(u=>{f(u),n==null||n.onFirstUpdate==null||n.onFirstUpdate(u)});return wi(()=>{c&&w.target&&(r.current.scheduleUpdate==null||r.current.scheduleUpdate())},[c,w.target]),j.useEffect(()=>{v||f(null)},[v]),E.jsx(tg,{...w,ref:o,popperConfig:{...n,modifiers:s.concat(n.modifiers||[]),onFirstUpdate:d},transition:l,rootClose:a,placement:g,show:v,children:(u,{arrowProps:p,popper:m,show:y})=>{var C;cw(u,p);const x=m==null?void 0:m.placement,_=Object.assign(r.current,{state:m==null?void 0:m.state,scheduleUpdate:m==null?void 0:m.update,placement:x,outOfBoundaries:(m==null||(C=m.state)==null||(C=C.modifiersData.hide)==null?void 0:C.isReferenceHidden)||!1,strategy:n.strategy}),S=!!c;return typeof e=="function"?e({...u,placement:x,show:y,...!t&&y&&{className:"show"},popper:_,arrowProps:p,hasDoneInitialMeasure:S}):j.cloneElement(e,{...u,placement:x,arrowProps:p,popper:_,hasDoneInitialMeasure:S,className:ue(e.props.className,!t&&y&&"show"),style:{...e.props.style,...u.style}})}})});ag.displayName="Overlay";function fw(e){return e&&typeof e=="object"?e:{show:e,hide:e}}function lf(e,t,n){const[a]=t,g=a.currentTarget,v=a.relatedTarget||a.nativeEvent[n];(!v||v!==g)&&!Si(g,v)&&e(...t)}Ye.oneOf(["click","hover","focus"]);const ro=({trigger:e=["hover","focus"],overlay:t,children:n,popperConfig:a={},show:g,defaultShow:v=!1,onToggle:w,delay:h,placement:r,flip:c=r&&r.indexOf("auto")!==-1,...f})=>{const i=j.useRef(null),s=Ft(i,n.ref),o=X0(),l=j.useRef(""),[d,u]=bd(g,v,w),p=fw(h),{onFocus:m,onBlur:y,onClick:C}=typeof n!="function"?j.Children.only(n).props:{},x=J=>{s(Xo(J))},_=j.useCallback(()=>{if(o.clear(),l.current="show",!p.show){u(!0);return}o.set(()=>{l.current==="show"&&u(!0)},p.show)},[p.show,u,o]),S=j.useCallback(()=>{if(o.clear(),l.current="hide",!p.hide){u(!1);return}o.set(()=>{l.current==="hide"&&u(!1)},p.hide)},[p.hide,u,o]),b=j.useCallback((...J)=>{_(),m==null||m(...J)},[_,m]),F=j.useCallback((...J)=>{S(),y==null||y(...J)},[S,y]),R=j.useCallback((...J)=>{u(!d),C==null||C(...J)},[C,u,d]),z=j.useCallback((...J)=>{lf(_,J,"fromElement")},[_]),$=j.useCallback((...J)=>{lf(S,J,"toElement")},[S]),G=e==null?[]:[].concat(e),K={ref:x};return G.indexOf("click")!==-1&&(K.onClick=R),G.indexOf("focus")!==-1&&(K.onFocus=b,K.onBlur=F),G.indexOf("hover")!==-1&&(K.onMouseOver=z,K.onMouseOut=$),E.jsxs(E.Fragment,{children:[typeof n=="function"?n(K):j.cloneElement(n,K),E.jsx(ag,{...f,show:d,onHide:S,flip:c,placement:r,popperConfig:a,target:i.current,children:t})]})},lg=j.forwardRef(({bsPrefix:e,className:t,as:n="div",...a},g)=>{const v=he(e,"row"),w=Ed(),h=kd(),r=`${v}-cols`,c=[];return w.forEach(f=>{const i=a[f];delete a[f];let s;i!=null&&typeof i=="object"?{cols:s}=i:s=i;const o=f!==h?`-${f}`:"";s!=null&&c.push(`${r}${o}-${s}`)}),E.jsx(n,{ref:g,...a,className:ue(t,v,...c)})});lg.displayName="Row";const Zs=[{nombre:"Agapanthus",src:"./agapanthus-Photoroom.png",descripcion:"Planta de hojas largas y flores en forma de umbela.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Fácil",floracion:"Verano"},{nombre:"Buxus",src:"./buxus.png",descripcion:"Arbusto de hojas pequeñas y densas, ideal para setos.",riego:"Moderado",sol:"Sol o sombra parcial",mantenimiento:"Facil",floracion:"No tiene flores"},{nombre:"Cortadera",src:"./cortadera.png",descripcion:"Planta ornamental con espigas de flores plumosas.",riego:"Bajo",sol:"Pleno sol",mantenimiento:"Facil",floracion:"Verano y otoño"},{nombre:"Lirio",src:"./lirio-blanco.png",descripcion:"Planta bulbosa con flores grandes y llamativas.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"Primavera y verano"},{nombre:"Jazmin del Cabo",src:"./jazmin-del-cabo.png",descripcion:"Arbusto con flores blancas fragantes.",riego:"Alto",sol:"Sombra parcial",mantenimiento:"Moderado",floracion:"Primavera y verano"},{nombre:"Corona de novia",src:"./coronadenovia.png",descripcion:"(Spiraea cantoniensis)Arbusto con pequeñas flores blancas en racimos.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Facil",floracion:"Primavera"},{nombre:"Azalea",src:"./azalea-1.png",descripcion:"Arbusto con flores brillantes y llamativas en diversos colores.",riego:"Alto",sol:"Sombra parcial",mantenimiento:"Moderado",floracion:"Primavera"},{nombre:"Azalea",src:"./azalea-2.png",descripcion:"Arbusto con flores brillantes y llamativas en diversos colores.",riego:"Alto",sol:"Sombra parcial",mantenimiento:"Moderado",floracion:"Primavera"},{nombre:"Tulipán blanco",src:"./tulipan.png",descripcion:"Planta bulbosa con flores grandes y coloridas en forma de copa.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Moderado",floracion:"Primavera"},{nombre:"Gladiolo azul",src:"./gladiolo-azul.png",descripcion:"Planta bulbosa con flores en espiga de colores vibrantes.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"Verano"},{nombre:"Gladiolo naranja",src:"./gladiolos.png",descripcion:"Planta bulbosa con flores en espiga de colores vibrantes.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"Verano"},{nombre:"Hortensia",src:"./hortensia.png",descripcion:"Arbusto de grandes inflorescencias redondeadas en tonos de rosa, azul o blanco.",riego:"Alto",sol:"Sombra parcial",mantenimiento:"Moderado",floracion:"Verano"},{nombre:"Rosal",src:"./rosal-2-Photoroom.png",descripcion:"Planta bulbosa con flores grandes y llamativas.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"No tiene flores"},{nombre:"Rosal",src:"./rosales-Photoroom.png",descripcion:"Planta bulbosa con flores grandes y llamativas.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"No tiene flores"},{nombre:"Rosal",src:"./rosalll-Photoroom.png",descripcion:"Planta bulbosa con flores grandes y llamativas.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"No tiene flores"},{nombre:"Polygala",src:"./poligala-1.png",descripcion:"Arbusto con flores violetas.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Facil",floracion:"Todo el año, principalmente en primavera y verano"},{nombre:"Polygala",src:"./polygala-2.png",descripcion:"Arbusto con flores violetas.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Facil",floracion:"Todo el año, principalmente en primavera y verano"},{nombre:"Formio Rojo",src:"./formio-rojo.png",descripcion:"Planta de hojas largas de color rojizo.",riego:"Bajo",sol:"Pleno sol",mantenimiento:"Facil",floracion:"No tiene flores"},{nombre:"Lavanda",src:"./lavanda.png",descripcion:"Planta aromática con flores violetas.",riego:"Bajo",sol:"Pleno sol",mantenimiento:"Facil",floracion:"Verano"},{nombre:"Salvia",src:"./salvia.png",descripcion:"Planta herbácea con flores en tonos azules o púrpuras.",riego:"Moderado",sol:"Pleno sol",mantenimiento:"Facil",floracion:"Primavera y verano"},{nombre:"Nandina",src:"./nandina-pequeña.png",descripcion:"(Nandina domestica): Arbusto con hojas decorativas que cambian de color a lo largo del año y flores pequeñas.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Facil",floracion:"Primavera"},{nombre:"Photinia",src:"./photinia.png",descripcion:"Arbusto con hojas rojas en brotes nuevos y flores blancas.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Facil",floracion:"Primavera"},{nombre:"Photinia-maceta",src:"./photinia-en-maceta.png",descripcion:"Arbusto con hojas rojas en brotes nuevos y flores blancas.",riego:"Moderado",sol:"Pleno sol o sombra parcial",mantenimiento:"Facil",floracion:"Primavera"},{nombre:"Clivia",src:"./clivia.png",descripcion:"Planta de hojas largas con flores en forma de trompeta de color naranja o rojo.",riego:"Bajo",sol:"Sombra parcial",mantenimiento:"Facil",floracion:"Primavera"},{nombre:"Cineraria",src:"./cineraria.png",descripcion:"(Pericallis hybrida): Planta con flores brillantes en tonos morado, amarillo, azul, rosa o blanco.",riego:"Moderado",sol:"Sombra parcial",mantenimiento:"Moderado",floracion:"Primavera"},{nombre:"Palmera",src:"./palmera.png",descripcion:"Palmera de gran porte con hojas en forma de abanico.",riego:"Bajo",sol:"Pleno sol",mantenimiento:"Moderado",floracion:"Verano"},{nombre:"Palmera",src:"./palmera-2.png",descripcion:"Palmera de gran porte con hojas en forma de abanico.",riego:"Bajo",sol:"Pleno sol",mantenimiento:"Moderado",floracion:"Verano"}];function hw({show:e,setShow:t,nombre:n,img:a,descripcion:g,riego:v,sol:w,mantenimiento:h,floracion:r}){const c=f=>E.jsx(sg,{id:"button-tooltip",children:f});return E.jsx("div",{children:E.jsxs(no,{className:"offcanvas",show:e,onHide:()=>{t(!1)},backdrop:"true",placement:"end",children:[E.jsx(no.Header,{closeButton:!0}),E.jsx(no.Title,{children:E.jsx("span",{className:"title",children:n})}),E.jsxs(no.Body,{children:[E.jsx(Pp,{src:a}),E.jsxs("div",{className:"overlay-list",children:[E.jsxs("div",{className:"overlay",children:[E.jsx(ro,{placement:"right",delay:{show:250,hide:400},overlay:c("Riego"),children:E.jsx("div",{className:"overlay-icon",children:E.jsx(an,{id:"badge",children:E.jsx(Zv,{})})})})," ",v]}),E.jsxs("div",{className:"overlay",children:[E.jsx(ro,{placement:"right",delay:{show:250,hide:400},overlay:c("Cantidad de luz solar"),children:E.jsx("div",{className:"overlay-icon",children:E.jsx(an,{id:"badge",children:E.jsx(Jv,{})})})}),w]}),E.jsxs("div",{className:"overlay",children:[E.jsx(ro,{placement:"right",delay:{show:250,hide:400},overlay:c("Mantenimiento"),children:E.jsx("div",{className:"overlay-icon",children:E.jsx(an,{id:"badge",children:E.jsx(e0,{})})})}),h]}),E.jsxs("div",{className:"overlay",children:[E.jsx(ro,{placement:"right",delay:{show:250,hide:400},overlay:c("Epoca de floracion"),children:E.jsxs("div",{className:"overlay-icon",children:[E.jsx(an,{id:"badge",children:E.jsx(r0,{})})," "]})}),r]})]}),E.jsx("span",{children:E.jsx("strong",{children:"Descripción"})}),E.jsx("p",{className:"descripcion",children:g})]})]})})}const ug=j.createContext();function dw({children:e}){const[t,n]=j.useState(localStorage.getItem("theme")||"light");j.useEffect(()=>{localStorage.setItem("theme",t)},[t]);const a=()=>{n(g=>g==="light"?"dark":"light")};return E.jsx(ug.Provider,{value:{theme:t,toggleTheme:a},children:e})}function pw({showModal:e,setShowModal:t}){return E.jsx("div",{children:E.jsxs(Nr,{className:"modal",size:"md",show:e,onHide:()=>t(!1),"aria-labelledby":"example-modal-sizes-title-sm",children:[E.jsx(Nr.Header,{className:"modal-header",closeButton:!0,children:"Ayudas"}),E.jsxs(Nr.Body,{className:"modal-body",children:[E.jsxs("li",{children:["Puedes ",E.jsx("strong",{children:"redimensionar"})," el lienzo haciendo click en la ",E.jsx("strong",{children:"esquina inferior derecha"})," del mismo y arrastrandolo."]}),E.jsxs("li",{children:["Puedes ver la ",E.jsx("strong",{children:"descripción"})," de una ",E.jsx("strong",{children:"planta"})," haciendo click sobre su imagen."]}),E.jsxs("li",{children:["La ",E.jsx("strong",{children:"última planta"})," agregada siempre aparecera en una ",E.jsx("strong",{children:"capa superior"}),"."]})]}),E.jsx(Nr.Header,{className:"modal-header",children:"Teclas"}),E.jsxs(Nr.Body,{className:"modal-body",children:[E.jsxs("li",{children:[E.jsx("strong",{children:"Borrar"})," elemento seleccionado: ",E.jsx(an,{children:"Supr"})," / ",E.jsx(an,{children:"Backspace"})]}),E.jsxs("li",{children:[E.jsx("strong",{children:"Duplicar"})," el último elemento agregado: ",E.jsx(an,{children:"D"})]})]})]})})}function gw({plantasArray:e,setPlants:t}){const n=w=>{w.sort((h,r)=>{const c=h.nombre.toUpperCase(),f=r.nombre.toUpperCase();return c<f?-1:c>f?1:0})},a=w=>{let h=e.filter(r=>r.riego===w);t(h)},g=w=>{let h=e.filter(r=>r.mantenimiento===w);t(h)},v=()=>{n(e),t(e)};return E.jsxs("div",{className:"filters-dropdown",children:[E.jsxs(We,{children:[E.jsx(We.Toggle,{className:"toogle",variant:"secondary",id:"dropdown-basic",children:"Riego"}),E.jsxs(We.Menu,{children:[E.jsx(We.Item,{id:"filter-item",onClick:w=>{a(w.currentTarget.textContent)},children:"Bajo"}),E.jsx(We.Item,{id:"filter-item",onClick:w=>{a(w.currentTarget.textContent)},children:"Moderado"}),E.jsx(We.Item,{id:"filter-item",onClick:w=>{a(w.currentTarget.textContent)},children:"Alto"}),E.jsx(We.Divider,{}),E.jsx(We.Item,{id:"filter-item",onClick:v,children:"Todos"})]})]}),E.jsxs(We,{children:[E.jsx(We.Toggle,{className:"toogle",variant:"secondary",id:"dropdown-basic",children:"Manten."}),E.jsxs(We.Menu,{children:[E.jsx(We.Item,{id:"filter-item",onClick:w=>{g(w.currentTarget.textContent)},children:"Facil"}),E.jsx(We.Item,{id:"filter-item",onClick:w=>{g(w.currentTarget.textContent)},children:"Moderado"}),E.jsx(We.Item,{id:"filter-item",onClick:w=>{g(w.currentTarget.textContent)},children:"Dificil"}),E.jsx(We.Divider,{}),E.jsx(We.Item,{id:"filter-item",onClick:v,children:"Todos"})]})]})]})}function mw(){const[e,t]=j.useState(800),[n,a]=j.useState(600),[g,v]=j.useState(Zs),[w,h]=j.useState(""),[r,c]=j.useState(null),[f,i]=j.useState(null),[s,o]=j.useState("plantas"),{theme:l,toggleTheme:d}=j.useContext(ug);document.querySelector("html").setAttribute("data-bs-theme",l);const[p,m]=j.useState(!1),{editor:y,onReady:C}=Xv();j.useEffect(()=>{if(x(g),window.addEventListener("keydown",_),y!=null&&y.canvas){y.canvas.setWidth(e),y.canvas.setHeight(n);const Y=y.canvas.getElement();Y.style.borderRadius="8px",y.canvas.renderAll();const ee=document.querySelector(".canvas"),N=new ResizeObserver(T=>{for(let k of T){const{width:M,height:D}=k.contentRect;t(M),a(D),y.canvas.setWidth(M),y.canvas.setHeight(D),y.canvas.renderAll()}});return ee&&N.observe(ee),()=>{ee&&N.unobserve(ee),window.removeEventListener("keydown",_)}}},[g,y,r]);const x=Y=>{Y.sort((ee,N)=>{const T=ee.nombre.toUpperCase(),k=N.nombre.toUpperCase();return T<k?-1:T>k?1:0})},_=Y=>{(Y.key==="d"||Y.key==="D")&&F()},S=Y=>{const ee=Y.target.files[0],N=new FileReader;N.onload=T=>{const k=T.target.result;Bt.fabric.Image.fromURL(k,M=>{M.scaleToWidth(e),M.scaleToHeight(n),y.canvas.setBackgroundImage(M,y.canvas.renderAll.bind(y.canvas),{selectable:!1,evented:!1})})},N.readAsDataURL(ee)},b=Y=>{Bt.fabric.Image.fromURL(Y,function(ee){ee.set({left:100,top:100,scaleX:.3,scaleY:.3,hasControls:!0,selectable:!0}),y.canvas.add(ee),y.canvas.setActiveObject(ee),y.canvas.requestRenderAll(),c(ee)})},F=()=>{r&&r.clone(function(Y){Y.filters=[new Bt.fabric.Image.filters.Brightness({brightness:r.filters})],Y.set({left:r.left+20,top:r.top+20,scaleX:r.scaleX,scaleY:r.scaleY}),y.canvas.add(Y),y.canvas.setActiveObject(Y),y.canvas.requestRenderAll()})},R=()=>{const Y=y==null?void 0:y.canvas.toDataURL(),ee=document.createElement("a");ee.download="image.png",ee.href=Y,ee.click()},z=Y=>{if(Y.key==="Delete"||Y.key==="Backspace"){const ee=y==null?void 0:y.canvas.getActiveObject();ee&&(y==null||y.canvas.remove(ee),y==null||y.canvas.requestRenderAll())}};document.addEventListener("keydown",z);const $=Y=>{h(Y.target.value)},G=Y=>{Y.preventDefault();const ee=Zs.filter(N=>N.nombre.toLowerCase().includes(w.toLowerCase()));v(ee)},K=()=>{const Y=document.getElementById("plant-list");Y.style.gridTemplateColumns="1fr 1fr"},J=()=>{const Y=document.getElementById("plant-list");Y.style.gridTemplateColumns="repeat(auto-fill, minmax(120px, 1fr))"};return E.jsx("div",{children:E.jsx(qd,{fluid:!0,children:E.jsxs(lg,{className:"row",children:[E.jsxs(Zr,{id:"col-1",xs:12,md:3,children:[E.jsx("div",{className:"brand-div",children:E.jsxs("h3",{children:[E.jsx(Qv,{}),"PaisajistApp"]})}),E.jsxs(Bd,{className:"select-menu",children:[E.jsx(Zt,{variant:s==="plantas"?"success":"secondary",onClick:()=>{o("plantas")},children:"Plantas"}),E.jsx(Zt,{variant:s==="ajustes"?"success":"secondary",onClick:()=>{o("ajustes")},children:"Lienzo"})]}),s==="plantas"?E.jsxs("div",{children:[E.jsx(eo,{className:"form",onSubmit:G,children:E.jsxs(eo.Group,{children:[E.jsx(eo.Label,{children:"Buscar Planta"}),E.jsxs("div",{className:"div-search",children:[E.jsx(eo.Control,{placeholder:"Agapanthus",onChange:$}),E.jsx(Zt,{variant:"secondary",type:"submit",children:E.jsx(qv,{})})]})]})}),E.jsxs("div",{className:"div-filter-and-layout",children:[E.jsxs("div",{className:"button-group-div",children:[E.jsxs("div",{className:"display-icon",onClick:J,children:[" ",E.jsx(t0,{})]}),E.jsx("div",{className:"display-icon",onClick:K,children:E.jsx(n0,{})})]}),E.jsx(gw,{plantasArray:Zs,setPlants:v})]}),E.jsx("div",{className:"plant-list",id:"plant-list",children:g==null?void 0:g.map((Y,ee)=>E.jsxs(Ji,{className:"plant-item",children:[E.jsx(Ji.Subtitle,{className:"plant-title",children:Y.nombre}),E.jsx(Ji.Body,{onClick:()=>{i(ee)},children:E.jsx("img",{src:Y.src,alt:Y.nombre})}),E.jsx(Ji.Footer,{children:E.jsxs(Zt,{variant:"success",className:"add-btn",onClick:()=>{b(Y.src)},children:["Añadir ",E.jsx(Kv,{})]})}),f===ee&&E.jsx(hw,{show:f===ee,setShow:()=>i(null),nombre:Y.nombre,img:Y.src,descripcion:Y.descripcion,riego:Y.riego,sol:Y.sol,mantenimiento:Y.mantenimiento,floracion:Y==null?void 0:Y.floracion})]},ee))})]}):E.jsxs("div",{children:[E.jsxs("div",{className:"div-input-fondo",children:[E.jsx("input",{onChange:S,type:"file",accept:"/image",className:"input-file",id:"inputFile"}),E.jsxs(Zt,{variant:"success",className:"btn-file",onClick:()=>{document.getElementById("inputFile").click()},children:["Agregar fondo ",E.jsx(Gv,{children:" "})]})]}),E.jsx("div",{className:"div-file-upload",children:E.jsxs(Zt,{variant:"success",className:"file-upload-button",onClick:R,children:["Descargar ",E.jsx($v,{})]})})]})]}),E.jsx(Zr,{id:"col-2",xs:12,md:8,children:E.jsx("div",{className:"canvas-div",children:E.jsx(Vv,{className:"canvas",id:"canvas",onReady:C})})}),E.jsxs(Zr,{xs:12,md:1,id:"col-3",children:[l==="dark"?E.jsx("div",{className:"icon-btn",onClick:d,children:E.jsx("img",{src:"./sun.png"})}):E.jsx("div",{className:"icon-btn",onClick:d,children:E.jsx("img",{src:"./moon.png"})}),l==="dark"?E.jsx("div",{className:"icon-btn",onClick:()=>{m(!0)},children:E.jsx("img",{src:"./info-circle(white).png"})}):E.jsx("div",{className:"icon-btn",onClick:()=>{m(!0)},children:E.jsx("img",{src:"./info-circle.png"})}),E.jsx(pw,{showModal:p,setShowModal:m})]})]})})})}const vw=()=>(j.useEffect(()=>{},[]),E.jsx("div",{className:"div-app",children:E.jsx(mw,{})}));_d(document.getElementById("root")).render(E.jsx(dw,{children:E.jsx(vw,{})}));
